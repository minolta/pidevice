







<!DOCTYPE html>
<html lang="en" data-color-mode="auto" data-light-theme="light" data-dark-theme="dark" data-a11y-animated-images="system">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">



  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-719f1193e0c0.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-0c343b529849.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-f22da508b62a.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-188ef1de59e6.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-bc6bf4eea850.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-527658dec362.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-c7a7fe0cd8ec.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-6aa855bdae0f.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-6aa5e25aacc0.css" />
  
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-cd5f115a3ed9.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-4bc9b3a08d31.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-6367e5ad6c60.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-91064a2896c6.css" />

    <meta name="optimizely-datafile" content="{&quot;groups&quot;: [], &quot;environmentKey&quot;: &quot;production&quot;, &quot;rollouts&quot;: [], &quot;typedAudiences&quot;: [], &quot;projectId&quot;: &quot;16737760170&quot;, &quot;variables&quot;: [], &quot;featureFlags&quot;: [], &quot;experiments&quot;: [], &quot;version&quot;: &quot;4&quot;, &quot;audiences&quot;: [{&quot;conditions&quot;: &quot;[\&quot;or\&quot;, {\&quot;match\&quot;: \&quot;exact\&quot;, \&quot;name\&quot;: \&quot;$opt_dummy_attribute\&quot;, \&quot;type\&quot;: \&quot;custom_attribute\&quot;, \&quot;value\&quot;: \&quot;$opt_dummy_value\&quot;}]&quot;, &quot;id&quot;: &quot;$opt_dummy_audience&quot;, &quot;name&quot;: &quot;Optimizely-Generated Audience for Backwards Compatibility&quot;}], &quot;anonymizeIP&quot;: true, &quot;sdkKey&quot;: &quot;WTc6awnGuYDdG98CYRban&quot;, &quot;attributes&quot;: [{&quot;id&quot;: &quot;16822470375&quot;, &quot;key&quot;: &quot;user_id&quot;}, {&quot;id&quot;: &quot;17143601254&quot;, &quot;key&quot;: &quot;spammy&quot;}, {&quot;id&quot;: &quot;18175660309&quot;, &quot;key&quot;: &quot;organization_plan&quot;}, {&quot;id&quot;: &quot;18813001570&quot;, &quot;key&quot;: &quot;is_logged_in&quot;}, {&quot;id&quot;: &quot;19073851829&quot;, &quot;key&quot;: &quot;geo&quot;}, {&quot;id&quot;: &quot;20175462351&quot;, &quot;key&quot;: &quot;requestedCurrency&quot;}, {&quot;id&quot;: &quot;20785470195&quot;, &quot;key&quot;: &quot;country_code&quot;}, {&quot;id&quot;: &quot;21656311196&quot;, &quot;key&quot;: &quot;opened_downgrade_dialog&quot;}], &quot;botFiltering&quot;: false, &quot;accountId&quot;: &quot;16737760170&quot;, &quot;events&quot;: [{&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;17911811441&quot;, &quot;key&quot;: &quot;hydro_click.dashboard.teacher_toolbox_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18124116703&quot;, &quot;key&quot;: &quot;submit.organizations.complete_sign_up&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18145892387&quot;, &quot;key&quot;: &quot;no_metric.tracked_outside_of_optimizely&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18178755568&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.add_repo&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18180553241&quot;, &quot;key&quot;: &quot;submit.repository_imports.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18186103728&quot;, &quot;key&quot;: &quot;click.help.learn_more_about_repository_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18188530140&quot;, &quot;key&quot;: &quot;test_event&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18191963644&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.transfer_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18195612788&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.import_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18210945499&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.invite_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18211063248&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.create_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18215721889&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.update_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18224360785&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.dismiss&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18234832286&quot;, &quot;key&quot;: &quot;submit.organization_activation.complete&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18252392383&quot;, &quot;key&quot;: &quot;submit.org_repository.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18257551537&quot;, &quot;key&quot;: &quot;submit.org_member_invitation.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18259522260&quot;, &quot;key&quot;: &quot;submit.organization_profile.update&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18564603625&quot;, &quot;key&quot;: &quot;view.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18568612016&quot;, &quot;key&quot;: &quot;click.classroom_sign_in_click&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18572592540&quot;, &quot;key&quot;: &quot;view.classroom_name&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18574203855&quot;, &quot;key&quot;: &quot;click.classroom_create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18582053415&quot;, &quot;key&quot;: &quot;click.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18589463420&quot;, &quot;key&quot;: &quot;click.classroom_create_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591323364&quot;, &quot;key&quot;: &quot;click.classroom_create_first_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591652321&quot;, &quot;key&quot;: &quot;click.classroom_grant_access&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18607131425&quot;, &quot;key&quot;: &quot;view.classroom_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18831680583&quot;, &quot;key&quot;: &quot;upgrade_account_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19064064515&quot;, &quot;key&quot;: &quot;click.signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19075373687&quot;, &quot;key&quot;: &quot;click.view_account_billing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19077355841&quot;, &quot;key&quot;: &quot;click.dismiss_signup_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19079713938&quot;, &quot;key&quot;: &quot;click.contact_sales&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19120963070&quot;, &quot;key&quot;: &quot;click.compare_account_plans&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19151690317&quot;, &quot;key&quot;: &quot;click.upgrade_account_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19424193129&quot;, &quot;key&quot;: &quot;click.open_account_switcher&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19520330825&quot;, &quot;key&quot;: &quot;click.visit_account_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19540970635&quot;, &quot;key&quot;: &quot;click.switch_account_context&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19730198868&quot;, &quot;key&quot;: &quot;submit.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19820830627&quot;, &quot;key&quot;: &quot;click.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19988571001&quot;, &quot;key&quot;: &quot;click.create_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20036538294&quot;, &quot;key&quot;: &quot;click.create_organization_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20040653299&quot;, &quot;key&quot;: &quot;click.input_enterprise_trial_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20062030003&quot;, &quot;key&quot;: &quot;click.continue_with_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20068947153&quot;, &quot;key&quot;: &quot;click.create_organization_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20086636658&quot;, &quot;key&quot;: &quot;click.signup_continue.username&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20091648988&quot;, &quot;key&quot;: &quot;click.signup_continue.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20103637615&quot;, &quot;key&quot;: &quot;click.signup_continue.email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20111574253&quot;, &quot;key&quot;: &quot;click.signup_continue.password&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20120044111&quot;, &quot;key&quot;: &quot;view.pricing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20152062109&quot;, &quot;key&quot;: &quot;submit.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20165800992&quot;, &quot;key&quot;: &quot;submit.upgrade_payment_form&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20171520319&quot;, &quot;key&quot;: &quot;submit.create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20222645674&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.discuss_your_needs&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20227443657&quot;, &quot;key&quot;: &quot;submit.verify_primary_user_email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20234607160&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.try_enterprise&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20238175784&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20239847212&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.continue_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20251097193&quot;, &quot;key&quot;: &quot;recommended_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20438619534&quot;, &quot;key&quot;: &quot;click.pricing_calculator.1_member&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20456699683&quot;, &quot;key&quot;: &quot;click.pricing_calculator.15_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20467868331&quot;, &quot;key&quot;: &quot;click.pricing_calculator.10_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20476267432&quot;, &quot;key&quot;: &quot;click.trial_days_remaining&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20476357660&quot;, &quot;key&quot;: &quot;click.discover_feature&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20479287901&quot;, &quot;key&quot;: &quot;click.pricing_calculator.custom_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20481107083&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_teacher_benefits&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20483089392&quot;, &quot;key&quot;: &quot;click.pricing_calculator.5_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20484283944&quot;, &quot;key&quot;: &quot;click.onboarding_task&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20484996281&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.apply_student_benefits&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20486713726&quot;, &quot;key&quot;: &quot;click.onboarding_task_breadcrumb&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20490791319&quot;, &quot;key&quot;: &quot;click.upgrade_to_enterprise&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20491786766&quot;, &quot;key&quot;: &quot;click.talk_to_us&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20494144087&quot;, &quot;key&quot;: &quot;click.dismiss_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20499722759&quot;, &quot;key&quot;: &quot;completed_all_tasks&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20500710104&quot;, &quot;key&quot;: &quot;completed_onboarding_tasks&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20513160672&quot;, &quot;key&quot;: &quot;click.read_doc&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20516196762&quot;, &quot;key&quot;: &quot;actions_enabled&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20518980986&quot;, &quot;key&quot;: &quot;click.dismiss_trial_banner&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20535446721&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.dismiss_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20557002247&quot;, &quot;key&quot;: &quot;click.issue_actions_prompt.setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20595070227&quot;, &quot;key&quot;: &quot;click.pull_request_setup_workflow&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20626600314&quot;, &quot;key&quot;: &quot;click.seats_input&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20642310305&quot;, &quot;key&quot;: &quot;click.decrease_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20662990045&quot;, &quot;key&quot;: &quot;click.increase_seats_number&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20679620969&quot;, &quot;key&quot;: &quot;click.public_product_roadmap&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20761240940&quot;, &quot;key&quot;: &quot;click.dismiss_survey_banner&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20767210721&quot;, &quot;key&quot;: &quot;click.take_survey&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20795281201&quot;, &quot;key&quot;: &quot;click.archive_list&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20966790249&quot;, &quot;key&quot;: &quot;contact_sales.submit&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20996500333&quot;, &quot;key&quot;: &quot;contact_sales.existing_customer&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20996890162&quot;, &quot;key&quot;: &quot;contact_sales.blank_message_field&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21000470317&quot;, &quot;key&quot;: &quot;contact_sales.personal_email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21002790172&quot;, &quot;key&quot;: &quot;contact_sales.blank_phone_field&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21354412592&quot;, &quot;key&quot;: &quot;click.dismiss_create_readme&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21366102546&quot;, &quot;key&quot;: &quot;click.dismiss_zero_user_content&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21370252505&quot;, &quot;key&quot;: &quot;account_did_downgrade&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21370840408&quot;, &quot;key&quot;: &quot;click.cta_create_readme&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21375451068&quot;, &quot;key&quot;: &quot;click.cta_create_new_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21385390948&quot;, &quot;key&quot;: &quot;click.zero_user_content&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21467712175&quot;, &quot;key&quot;: &quot;click.downgrade_keep&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21484112202&quot;, &quot;key&quot;: &quot;click.downgrade&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21495292213&quot;, &quot;key&quot;: &quot;click.downgrade_survey_exit&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21508241468&quot;, &quot;key&quot;: &quot;click.downgrade_survey_submit&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21512030356&quot;, &quot;key&quot;: &quot;click.downgrade_support&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21539090022&quot;, &quot;key&quot;: &quot;click.downgrade_exit&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21543640644&quot;, &quot;key&quot;: &quot;click_fetch_upstream&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21646510300&quot;, &quot;key&quot;: &quot;click.move_your_work&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21656151116&quot;, &quot;key&quot;: &quot;click.add_branch_protection_rule&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21663860599&quot;, &quot;key&quot;: &quot;click.downgrade_dialog_open&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21687860483&quot;, &quot;key&quot;: &quot;click.learn_about_protected_branches&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21689050333&quot;, &quot;key&quot;: &quot;click.dismiss_protect_this_branch&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;21864370109&quot;, &quot;key&quot;: &quot;click.sign_in&quot;}], &quot;revision&quot;: &quot;1367&quot;}" />


  <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-28b3a9d1970c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_smoothscroll-polyfill_dist_smoothscroll_js-node_modules_stacktrace-parse-297da6-aaa32681a0b3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/environment-ebbcdf68bab3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_selector-observer_dist_index_esm_js-650337916dbd.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe-4a2f37f7419e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_fzy_js_index_js-node_modules_github_markdown-toolbar-element_dist_index_js-5936f45973f5.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-73b750-6766ce897560.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_github_text-ex-3415a8-daf4603c6e6b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_view-components_app_components_primer_primer_js-node_modules_gith-aa5398-aca9d5983f34.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-8bcd745975ba.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-be354b6e57e3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-e954e8c01c93.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-17abfd-e5695ecb0f0c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js-af11d99b3e65.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_alive-client_dist_index_js-156187f13fbb.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_remote-form_dist_-ece2b0-917c0dad4566.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_dimensions_js-node_modules_github_jtml_lib_index_js-c1acb9a3f5fa.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_github_quote-select-f12f19-f987ad18f3a3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_aria-live_ts-app_assets_modules_github_hydro-analytics_ts-app_asset-7c220e-5c4b1f21cfe5.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_updatable-content_ts-62df1309213c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-39278b4d6f66.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-f5afdb-e0346850e585.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-cb56bba555dc.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_user-content_ts-app_assets_modules_github_blob-anchor_ts--e218a0-365326896a95.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-15d362919072.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-06ff533-60844731e2b9.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-78448621fcb3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_optimizely_optimizely-sdk_dist_optimizely_browser_es_min_js-node_modules-77839b-550a5f909f1b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/optimizely-d25556017767.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_virtualized-list_es_index_js-node_modules_github_memoize_dist_esm_index_-ced8cc-cb3399ae9fab.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_mini-throt-a33094-133bfae4158f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_github_mini-th-85225b-d5c5eb0b8bb2.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_ref-selector_ts-f67a58ace19b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/repositories-9676a656d7ff.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_clipboard-copy-element_dist_index_esm_js-node_modules_github_remo-8e6bec-4a54aa10cc28.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_scroll-anchoring_di-e71893-3d05165e815f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-dca161-36070083fa3c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/diffs-1cb97113e3fd.js"></script>
  

  <title>git-filter-repo/git-filter-repo at main · newren/git-filter-repo</title>



    

  <meta name="request-id" content="F65F:04FE:385EA9:403708:6395FFED" data-turbo-transient="true" /><meta name="html-safe-nonce" content="8237b2b97d85a8a2053aad67658530b76f8c3972e4820cbcb7c05ae4f106a569" data-turbo-transient="true" /><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vZ2l0aHViLmNvbS9uZXdyZW4vZ2l0LWZpbHRlci1yZXBvL2Jsb2IvbWFpbi9JTlNUQUxMLm1kIiwicmVxdWVzdF9pZCI6IkY2NUY6MDRGRTozODVFQTk6NDAzNzA4OjYzOTVGRkVEIiwidmlzaXRvcl9pZCI6IjEwMjYwODcwMjQ1OTk0NjQ1NzIiLCJyZWdpb25fZWRnZSI6InNvdXRoZWFzdGFzaWEiLCJyZWdpb25fcmVuZGVyIjoiaWFkIn0=" data-turbo-transient="true" /><meta name="visitor-hmac" content="c0948c51164567983046b7e18df92c744e7ebc061253bce93c1d57872abc80bf" data-turbo-transient="true" />


    <meta name="hovercard-subject-tag" content="repository:145584971" data-turbo-transient>


  <meta name="github-keyboard-shortcuts" content="repository,source-code,file-tree" data-turbo-transient="true" />
  

  <meta name="selected-link" value="repo_source" data-turbo-transient>

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
  <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" /><meta name="octolytics-actor-id" content="25706871" /><meta name="octolytics-actor-login" content="minolta" /><meta name="octolytics-actor-hash" content="75fb47fa0449828914959c07281bd9075c18e536373ff70805a26914768ef606" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-turbo-transient="true" />

  




  

    <meta name="user-login" content="minolta">

  <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="viewport" content="width=device-width">
    
      <meta name="description" content="Quickly rewrite git repository history (filter-branch replacement) - git-filter-repo/git-filter-repo at main · newren/git-filter-repo">
      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905" />
      <meta name="twitter:image:src" content="https://opengraph.githubassets.com/949f30e73b3e5825181c10172d2f800bb145d1e8977e19deb38d45a7c1ab0cdf/newren/git-filter-repo" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="git-filter-repo/git-filter-repo at main · newren/git-filter-repo" /><meta name="twitter:description" content="Quickly rewrite git repository history (filter-branch replacement) - git-filter-repo/git-filter-repo at main · newren/git-filter-repo" />
      <meta property="og:image" content="https://opengraph.githubassets.com/949f30e73b3e5825181c10172d2f800bb145d1e8977e19deb38d45a7c1ab0cdf/newren/git-filter-repo" /><meta property="og:image:alt" content="Quickly rewrite git repository history (filter-branch replacement) - git-filter-repo/git-filter-repo at main · newren/git-filter-repo" /><meta property="og:image:width" content="1200" /><meta property="og:image:height" content="600" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="git-filter-repo/git-filter-repo at main · newren/git-filter-repo" /><meta property="og:url" content="https://github.com/newren/git-filter-repo" /><meta property="og:description" content="Quickly rewrite git repository history (filter-branch replacement) - git-filter-repo/git-filter-repo at main · newren/git-filter-repo" />
      
    <link rel="assets" href="https://github.githubassets.com/">
      <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/25706871/ws?session=eyJ2IjoiVjMiLCJ1IjoyNTcwNjg3MSwicyI6MTAxMDg5MjI2NCwiYyI6MjkxOTgzNTk3OSwidCI6MTY3MDc3NDc3Nn0=--2b541a3afff22996e1e89f213ef49222bfaf0acd40d92afe0d32f79a6afaed99" data-refresh-url="/_alive" data-session-id="b064aad44275b3007964a08fb9c1097492e0d0580fc163bef5cf8310e6bb1568">
      <link rel="shared-web-socket-src" href="/assets-cdn/worker/socket-worker-b87581f5816c.js">


        <meta name="hostname" content="github.com">


      <meta name="keyboard-shortcuts-preference" content="all">
      <script type="application/json" id="memex_keyboard_shortcuts_preference">"all"</script>

        <meta name="expected-hostname" content="github.com">

    <meta name="enabled-features" content="TURBO_EXPERIMENT_RISKY,IMAGE_METRIC_TRACKING,GEOJSON_AZURE_MAPS">


  <meta http-equiv="x-pjax-version" content="fccb056e92fb79c54b62b0b7aa0b7d365e27139442175e94fe65a720d3dfee4a" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="40aca5a152a13213a876f7628c466cd600db12fb858cdddccc3f1cc387eb7dad" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="24f847865cd3eaad61f98795a919a75a840d042b3ec286eb08cfa26c9cfafa47" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="2636b2cdc39c921bfbc4f5a3b7612f24436e4c42f359b54417b030ccc6b2e879" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

        <meta data-hydrostats="publish">

  <meta name="go-import" content="github.com/newren/git-filter-repo git https://github.com/newren/git-filter-repo.git">

  <meta name="octolytics-dimension-user_id" content="5455730" /><meta name="octolytics-dimension-user_login" content="newren" /><meta name="octolytics-dimension-repository_id" content="145584971" /><meta name="octolytics-dimension-repository_nwo" content="newren/git-filter-repo" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="145584971" /><meta name="octolytics-dimension-repository_network_root_nwo" content="newren/git-filter-repo" />



    <link rel="canonical" href="https://github.com/newren/git-filter-repo/blob/main/git-filter-repo" data-turbo-transient>
  <meta name="turbo-body-classes" content="logged-in env-production page-responsive page-blob">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="browser-optimizely-client-errors-url" content="https://api.github.com/_private/browser/optimizely_client/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-in env-production page-responsive page-blob" style="word-wrap: break-word;">
      <div data-turbo-body class="logged-in env-production page-responsive page-blob" style="word-wrap: break-word;">
        


    <div class="position-relative js-header-wrapper ">
      <a href="#start-of-content" class="p-3 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>
      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      


        <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_github_command-pale-4090c9-7f4a07119d05.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_clipboard-copy-element_dist_index_esm_js-node_modules_delegated-e-b37f7d-2e221fd9a92e.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_command-palette_items_help-item_ts-app_assets_modules_github_comman-48ad9d-3223709a3e83.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/command-palette-38af56440410.js"></script>

            <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap" role="banner">

    <div class="Header-item mt-n1 mb-n1  d-none d-md-flex">
      <a
  class="Header-link"
  href="https://github.com/"
  data-hotkey="g d"
  aria-label="Homepage "
  data-turbo="false"
  data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}"
>
  <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>

    </div>

    <div class="Header-item d-md-none">
        <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="Header-link js-details-target btn-link">    <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="octicon octicon-three-bars">
    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
</svg>
</button>    </div>

    <div class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
              



<div class="header-search flex-auto position-relative js-site-search flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="145584971" data-scoped-search-url="/newren/git-filter-repo/search" data-owner-scoped-search-url="/users/newren/search" data-unscoped-search-url="/search" data-turbo="false" action="/newren/git-filter-repo/search" accept-charset="UTF-8" method="get">
      <label class="form-control header-search-wrapper input-sm p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
        <input type="text"
          class="form-control js-site-search-focus header-search-input jump-to-field js-jump-to-field js-site-search-field is-clearable"
          data-hotkey=s,/
          name="q"
          data-test-selector="nav-search-input"
          placeholder="Search or jump to…"
          data-unscoped-placeholder="Search or jump to…"
          data-scoped-placeholder="Search or jump to…"
          autocapitalize="off"
          role="combobox"
          aria-haspopup="listbox"
          aria-expanded="false"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          aria-label="Search or jump to…"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations"
          spellcheck="false"
          autocomplete="off"
        >
        <input type="hidden" value="_LML8tORI1F7spXj3tLnQAfOVZSZHfO0QDuDI8IKPSzWeNyZ_-G8i1hb7g-RTDb4WHraaqGwZmHQa3pN5_WJIw" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf" />
        <input type="hidden" class="js-site-search-type-field" name="type" >
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" aria-hidden="true" class="mr-1 header-search-key-slash"><path fill="none" stroke="#979A9C" opacity=".4" d="M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z"></path><path fill="#979A9C" d="M11.8 6L8 15.1h-.9L10.8 6h1z"></path></svg>


          <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
            
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="suggestion">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="color-fg-muted">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-owner-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="owner_scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this user">
        In this user
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="" data-item-type="global_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg title="Repository" aria-label="Repository" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo js-jump-to-octicon-repo d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
      <svg title="Project" aria-label="Project" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project js-jump-to-octicon-project d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path>
</svg>
      <svg title="Search" aria-label="Search" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search js-jump-to-octicon-search d-none flex-shrink-0">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-2 flex-shrink-0 color-bg-subtle px-1 color-fg-muted ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="m-3 anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
    </li>
</ul>

          </div>
      </label>
</form>  </div>
</div>

        <nav id="global-nav" class="d-flex flex-column flex-md-row flex-self-stretch flex-md-self-auto" aria-label="Global">
    <a class="Header-link py-md-3 d-block d-md-none py-2 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" data-turbo="false" href="/dashboard">Dashboard</a>

  <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-turbo="false" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="/pulls">
      Pull<span class="d-inline d-md-none d-lg-inline"> request</span>s
</a>
  <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-turbo="false" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="/issues">Issues</a>

    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:workspaces context:user" data-turbo="false" data-selected-links="/codespaces /codespaces" href="/codespaces">Codespaces</a>

    <div class="d-flex position-relative">
      <a class="js-selected-navigation-item Header-link flex-auto mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-turbo="false" data-selected-links=" /marketplace" href="/marketplace">Marketplace</a>
    </div>

  <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:explore" data-turbo="false" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">Explore</a>

      <a class="js-selected-navigation-item Header-link d-block d-md-none py-2 py-md-3 border-top border-md-top-0 border-white-fade" data-ga-click="Header, click, Nav menu - item:Sponsors" data-hydro-click="{&quot;event_type&quot;:&quot;sponsors.button_click&quot;,&quot;payload&quot;:{&quot;button&quot;:&quot;HEADER_SPONSORS_DASHBOARD&quot;,&quot;sponsorable_login&quot;:&quot;minolta&quot;,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="62b04d08a83483276257dfa8bcf61c8de431afd0411a4350a6ab91a47199277c" data-turbo="false" data-selected-links=" /sponsors/accounts" href="/sponsors/accounts">Sponsors</a>

    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade" data-turbo="false" href="/settings/profile">Settings</a>

    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade" data-turbo="false" href="/minolta">
      <img class="avatar avatar-user" loading="lazy" decoding="async" src="https://avatars.githubusercontent.com/u/25706871?s=40&amp;v=4" width="20" height="20" alt="@minolta" />
      minolta
</a>
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form data-turbo="false" action="/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Z3OzC2IWa0MX3dlBWCyJ9LbfHixd3OMvoo7q_OcMmE8HmfNgeiywsECY-SBEu1nTemm0eq2ViYu5EjH-SrCaQQ" />
      <button
        type="submit"
        class="Header-link mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade d-md-none btn-link d-block width-full text-left"
        style="padding-left: 2px;"
        data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;sign out&quot;,&quot;label&quot;:&quot;icon:logout&quot;}"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sign-out v-align-middle">
    <path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path>
</svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
        <a
  class="Header-link"
  href="https://github.com/"
  data-hotkey="g d"
  aria-label="Homepage "
  data-turbo="false"
  data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}"
>
  <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>

    </div>

    <div class="Header-item mr-0 mr-md-3 flex-order-1 flex-md-order-none">
        

<notification-indicator data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MjU3MDY4NzEiLCJ0IjoxNjcwNzc0Nzc2fQ==--ebc12f6aeb5044bdf980f803a335267eaf8ad990ced4517145991f37933a2c44" data-indicator-mode="none" data-tooltip-global="You have unread notifications" data-tooltip-unavailable="Notifications are unavailable at the moment." data-tooltip-none="You have no unread notifications" data-view-component="true" class="js-socket-channel">
  <a id="AppHeader-notifications-button" href="/notifications"
    class="Header-link notification-indicator position-relative tooltipped tooltipped-sw"

    

    data-hotkey="g n"
    data-target="notification-indicator.link"
    aria-label="Notifications"

      data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to notifications&quot;,&quot;label&quot;:&quot;icon:read&quot;}"
  >

    <span
      data-target="notification-indicator.badge"
      class="mail-status unread" hidden>
    </span>

      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell">
    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path>
</svg>
  </a>

</notification-indicator>
    </div>


    <div class="Header-item position-relative d-none d-md-flex">
        <details class="details-overlay details-reset">
  <summary
    class="Header-link"
    aria-label="Create new…"
    data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;create new&quot;,&quot;label&quot;:&quot;icon:add&quot;}"
  >
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path fill-rule="evenodd" d="M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z"></path>
</svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw">
    
<a role="menuitem" class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="/codespaces/new">
  New codespace
</a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-md-flex">
        
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/minolta/feature_preview/indicator_check">

  <summary
    class="Header-link"
    aria-label="View profile and more"
    data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;show menu&quot;,&quot;label&quot;:&quot;icon:avatar&quot;}"
  >
    <img src="https://avatars.githubusercontent.com/u/25706871?s=40&amp;v=4" alt="@minolta" size="20" height="20" width="20" data-view-component="true" class="avatar avatar-small circle" />
      <span class="unread-indicator js-feature-preview-indicator" style="top: 1px;" hidden></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu
      class="dropdown-menu dropdown-menu-sw"
      style="width: 180px"
      
      preload>
      <include-fragment src="/users/25706871/menu" loading="lazy">
        <p class="text-center mt-3" data-hide-on-error>
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2 color-fg-default" data-show-on-error>
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
      </include-fragment>
  </details-menu>
</details>

    </div>

</header>

            
    </div>

  <div id="start-of-content" class="show-on-focus"></div>







    <div id="js-flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div class="px-2" >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    
  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>





      <details
  class="details-reset details-overlay details-overlay-dark js-command-palette-dialog"
  id="command-palette-pjax-container"
  data-turbo-replace
>
  <summary aria-label="command palette trigger" tabindex="-1"></summary>
  <details-dialog class="command-palette-details-dialog d-flex flex-column flex-justify-center height-fit" aria-label="command palette">
    <command-palette
      class="command-palette color-bg-default rounded-3 border color-shadow-small"
      return-to=/newren/git-filter-repo/blob/main/git-filter-repo
      user-id="25706871"
      activation-hotkey="Mod+k,Mod+Alt+k"
      command-mode-hotkey="Mod+Shift+k"
      data-action="
        command-palette-input-ready:command-palette#inputReady
        command-palette-page-stack-updated:command-palette#updateInputScope
        itemsUpdated:command-palette#itemsUpdated
        keydown:command-palette#onKeydown
        loadingStateChanged:command-palette#loadingStateChanged
        selectedItemChanged:command-palette#selectedItemChanged
        pageFetchError:command-palette#pageFetchError
      ">

        <command-palette-mode
          data-char="#"
            data-scope-types="[&quot;&quot;]"
            data-placeholder="Search issues and pull requests"
        ></command-palette-mode>
        <command-palette-mode
          data-char="#"
            data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
            data-placeholder="Search issues, pull requests, discussions, and projects"
        ></command-palette-mode>
        <command-palette-mode
          data-char="!"
            data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
            data-placeholder="Search projects"
        ></command-palette-mode>
        <command-palette-mode
          data-char="@"
            data-scope-types="[&quot;&quot;]"
            data-placeholder="Search or jump to a user, organization, or repository"
        ></command-palette-mode>
        <command-palette-mode
          data-char="@"
            data-scope-types="[&quot;owner&quot;]"
            data-placeholder="Search or jump to a repository"
        ></command-palette-mode>
        <command-palette-mode
          data-char="/"
            data-scope-types="[&quot;repository&quot;]"
            data-placeholder="Search files"
        ></command-palette-mode>
        <command-palette-mode
          data-char="?"
        ></command-palette-mode>
        <command-palette-mode
          data-char="&gt;"
            data-placeholder="Run a command"
        ></command-palette-mode>
        <command-palette-mode
          data-char=""
            data-scope-types="[&quot;&quot;]"
            data-placeholder="Search or jump to..."
        ></command-palette-mode>
        <command-palette-mode
          data-char=""
            data-scope-types="[&quot;owner&quot;]"
            data-placeholder="Search or jump to..."
        ></command-palette-mode>
      <command-palette-mode
        class="js-command-palette-default-mode"
        data-char=""
        data-placeholder="Search or jump to..."
      ></command-palette-mode>

      <command-palette-input placeholder="Search or jump to..."

        data-action="
          command-palette-input:command-palette#onInput
          command-palette-select:command-palette#onSelect
          command-palette-descope:command-palette#onDescope
          command-palette-cleared:command-palette#onInputClear
        "
      >
        <div class="js-search-icon d-flex flex-items-center mr-2" style="height: 26px">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search color-fg-muted">
    <path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path>
</svg>
        </div>
        <div class="js-spinner d-flex flex-items-center mr-2 color-fg-muted" hidden>
          <svg aria-label="Loading" class="anim-rotate" viewBox="0 0 16 16" fill="none" width="16" height="16">
            <circle
              cx="8"
              cy="8"
              r="7"
              stroke="currentColor"
              stroke-opacity="0.25"
              stroke-width="2"
              vector-effect="non-scaling-stroke"
            ></circle>
            <path
              d="M15 8a7.002 7.002 0 00-7-7"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              vector-effect="non-scaling-stroke"
            ></path>
          </svg>
        </div>
        <command-palette-scope >
          <div data-target="command-palette-scope.placeholder" hidden class="color-fg-subtle">/&nbsp;&nbsp;<span class="text-semibold color-fg-default">...</span>&nbsp;&nbsp;/&nbsp;&nbsp;</div>
              <command-palette-token
                data-text="newren"
                data-id="MDQ6VXNlcjU0NTU3MzA="
                data-type="owner"
                data-value="newren"
                data-targets="command-palette-scope.tokens"
                class="color-fg-default text-semibold"
                style="white-space:nowrap;line-height:20px;"
                >newren<span class="color-fg-subtle text-normal">&nbsp;&nbsp;/&nbsp;&nbsp;</span></command-palette-token>
              <command-palette-token
                data-text="git-filter-repo"
                data-id="MDEwOlJlcG9zaXRvcnkxNDU1ODQ5NzE="
                data-type="repository"
                data-value="git-filter-repo"
                data-targets="command-palette-scope.tokens"
                class="color-fg-default text-semibold"
                style="white-space:nowrap;line-height:20px;"
                >git-filter-repo<span class="color-fg-subtle text-normal">&nbsp;&nbsp;/&nbsp;&nbsp;</span></command-palette-token>
        </command-palette-scope>
        <div class="command-palette-input-group flex-1 form-control border-0 box-shadow-none" style="z-index: 0">
          <div class="command-palette-typeahead position-absolute d-flex flex-items-center Truncate">
            <span class="typeahead-segment input-mirror" data-target="command-palette-input.mirror"></span>
            <span class="Truncate-text" data-target="command-palette-input.typeaheadText"></span>
            <span class="typeahead-segment" data-target="command-palette-input.typeaheadPlaceholder"></span>
          </div>
          <input
            class="js-overlay-input typeahead-input d-none"
            disabled
            tabindex="-1"
            aria-label="Hidden input for typeahead"
          >
          <input
            type="text"
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            class="js-input typeahead-input form-control border-0 box-shadow-none input-block width-full no-focus-indicator"
            aria-label="Command palette input"
            aria-haspopup="listbox"
            aria-expanded="false"
            aria-autocomplete="list"
            aria-controls="command-palette-page-stack"
            role="combobox"
            data-action="
              input:command-palette-input#onInput
              keydown:command-palette-input#onKeydown
            "
          >
        </div>
          <div data-view-component="true" class="position-relative d-inline-block">
    <button aria-keyshortcuts="Control+Backspace" data-action="click:command-palette-input#onClear keypress:command-palette-input#onClear" data-target="command-palette-input.clearButton" id="command-palette-clear-button" hidden="hidden" type="button" data-view-component="true" class="btn-octicon command-palette-input-clear-button">      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill">
    <path fill-rule="evenodd" d="M2.343 13.657A8 8 0 1113.657 2.343 8 8 0 012.343 13.657zM6.03 4.97a.75.75 0 00-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 101.06 1.06L8 9.06l1.97 1.97a.75.75 0 101.06-1.06L9.06 8l1.97-1.97a.75.75 0 10-1.06-1.06L8 6.94 6.03 4.97z"></path>
</svg>
</button>    <tool-tip for="command-palette-clear-button" data-direction="w" data-type="label" data-view-component="true" class="sr-only position-absolute">Clear Command Palette</tool-tip>
</div>
      </command-palette-input>

      <command-palette-page-stack
        data-default-scope-id="MDEwOlJlcG9zaXRvcnkxNDU1ODQ5NzE="
        data-default-scope-type="Repository"
        data-action="command-palette-page-octicons-cached:command-palette-page-stack#cacheOcticons"
      >
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">#</kbd> to search pull requests
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">#</kbd> to search issues
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">#</kbd> to search discussions
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">!</kbd> to search projects
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;owner&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">@</kbd> to search teams
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">@</kbd> to search people and organizations
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type <kbd class="hx_kbd">&gt;</kbd> to activate command mode
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode=""
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Go to your accessibility settings to change your keyboard shortcuts
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode="#"
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type author:@me to search your content
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode="#"
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type is:pr to filter to pull requests
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode="#"
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type is:issue to filter to issues
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
            data-mode="#"
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type is:project to filter to projects
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
          <command-palette-tip
            class="color-fg-muted f6 px-3 py-1 my-2"
              data-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
            data-mode="#"
            data-value="">
            <div class="d-flex flex-items-start flex-justify-between">
              <div>
                <span class="text-bold">Tip:</span>
                  Type is:open to filter to open content
              </div>
              <div class="ml-2 flex-shrink-0">
                Type <kbd class="hx_kbd">?</kbd> for help and tips
              </div>
            </div>
          </command-palette-tip>
        <command-palette-tip class="mx-3 my-2 flash flash-error d-flex flex-items-center" data-scope-types="*" data-on-error>
          <div>
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          </div>
          <div class="px-2">
            We’ve encountered an error and some results aren't available at this time. Type a new search or try again later.
          </div>
        </command-palette-tip>
        <command-palette-tip class="h4 color-fg-default pl-3 pb-2 pt-3" data-on-empty data-scope-types="*" data-match-mode="[^?]|^$">
          No results matched your search
        </command-palette-tip>

        <div hidden>

            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="arrow-right-color-fg-muted">
              <svg height="16" class="octicon octicon-arrow-right color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="arrow-right-color-fg-default">
              <svg height="16" class="octicon octicon-arrow-right color-fg-default" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="codespaces-color-fg-muted">
              <svg height="16" class="octicon octicon-codespaces color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 1.75C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 01-1.75 1.75h-8.5A1.75 1.75 0 012 6.75v-5zm1.75-.25a.25.25 0 00-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 00.25-.25v-5a.25.25 0 00-.25-.25h-8.5zM0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0114.25 16H1.75A1.75 1.75 0 010 14.25v-3zM1.75 11a.25.25 0 00-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 00.25-.25v-3a.25.25 0 00-.25-.25H1.75z"></path><path fill-rule="evenodd" d="M3 12.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zm4 0a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="copy-color-fg-muted">
              <svg height="16" class="octicon octicon-copy color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="dash-color-fg-muted">
              <svg height="16" class="octicon octicon-dash color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 7.75A.75.75 0 012.75 7h10a.75.75 0 010 1.5h-10A.75.75 0 012 7.75z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="file-color-fg-muted">
              <svg height="16" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M3.75 1.5a.25.25 0 00-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 00.25-.25V6h-2.75A1.75 1.75 0 019 4.25V1.5H3.75zm6.75.062V4.25c0 .138.112.25.25.25h2.688a.252.252 0 00-.011-.013l-2.914-2.914a.272.272 0 00-.013-.011zM2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0113.25 16h-9.5A1.75 1.75 0 012 14.25V1.75z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="gear-color-fg-muted">
              <svg height="16" class="octicon octicon-gear color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.429 1.525a6.593 6.593 0 011.142 0c.036.003.108.036.137.146l.289 1.105c.147.56.55.967.997 1.189.174.086.341.183.501.29.417.278.97.423 1.53.27l1.102-.303c.11-.03.175.016.195.046.219.31.41.641.573.989.014.031.022.11-.059.19l-.815.806c-.411.406-.562.957-.53 1.456a4.588 4.588 0 010 .582c-.032.499.119 1.05.53 1.456l.815.806c.08.08.073.159.059.19a6.494 6.494 0 01-.573.99c-.02.029-.086.074-.195.045l-1.103-.303c-.559-.153-1.112-.008-1.529.27-.16.107-.327.204-.5.29-.449.222-.851.628-.998 1.189l-.289 1.105c-.029.11-.101.143-.137.146a6.613 6.613 0 01-1.142 0c-.036-.003-.108-.037-.137-.146l-.289-1.105c-.147-.56-.55-.967-.997-1.189a4.502 4.502 0 01-.501-.29c-.417-.278-.97-.423-1.53-.27l-1.102.303c-.11.03-.175-.016-.195-.046a6.492 6.492 0 01-.573-.989c-.014-.031-.022-.11.059-.19l.815-.806c.411-.406.562-.957.53-1.456a4.587 4.587 0 010-.582c.032-.499-.119-1.05-.53-1.456l-.815-.806c-.08-.08-.073-.159-.059-.19a6.44 6.44 0 01.573-.99c.02-.029.086-.075.195-.045l1.103.303c.559.153 1.112.008 1.529-.27.16-.107.327-.204.5-.29.449-.222.851-.628.998-1.189l.289-1.105c.029-.11.101-.143.137-.146zM8 0c-.236 0-.47.01-.701.03-.743.065-1.29.615-1.458 1.261l-.29 1.106c-.017.066-.078.158-.211.224a5.994 5.994 0 00-.668.386c-.123.082-.233.09-.3.071L3.27 2.776c-.644-.177-1.392.02-1.82.63a7.977 7.977 0 00-.704 1.217c-.315.675-.111 1.422.363 1.891l.815.806c.05.048.098.147.088.294a6.084 6.084 0 000 .772c.01.147-.038.246-.088.294l-.815.806c-.474.469-.678 1.216-.363 1.891.2.428.436.835.704 1.218.428.609 1.176.806 1.82.63l1.103-.303c.066-.019.176-.011.299.071.213.143.436.272.668.386.133.066.194.158.212.224l.289 1.106c.169.646.715 1.196 1.458 1.26a8.094 8.094 0 001.402 0c.743-.064 1.29-.614 1.458-1.26l.29-1.106c.017-.066.078-.158.211-.224a5.98 5.98 0 00.668-.386c.123-.082.233-.09.3-.071l1.102.302c.644.177 1.392-.02 1.82-.63.268-.382.505-.789.704-1.217.315-.675.111-1.422-.364-1.891l-.814-.806c-.05-.048-.098-.147-.088-.294a6.1 6.1 0 000-.772c-.01-.147.039-.246.088-.294l.814-.806c.475-.469.679-1.216.364-1.891a7.992 7.992 0 00-.704-1.218c-.428-.609-1.176-.806-1.82-.63l-1.103.303c-.066.019-.176.011-.299-.071a5.991 5.991 0 00-.668-.386c-.133-.066-.194-.158-.212-.224L10.16 1.29C9.99.645 9.444.095 8.701.031A8.094 8.094 0 008 0zm1.5 8a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM11 8a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="lock-color-fg-muted">
              <svg height="16" class="octicon octicon-lock color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 4v2h-.25A1.75 1.75 0 002 7.75v5.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 13.25v-5.5A1.75 1.75 0 0012.25 6H12V4a4 4 0 10-8 0zm6.5 2V4a2.5 2.5 0 00-5 0v2h5zM12 7.5h.25a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25v-5.5a.25.25 0 01.25-.25H12z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="moon-color-fg-muted">
              <svg height="16" class="octicon octicon-moon color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="person-color-fg-muted">
              <svg height="16" class="octicon octicon-person color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.5 5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm.061 3.073a4 4 0 10-5.123 0 6.004 6.004 0 00-3.431 5.142.75.75 0 001.498.07 4.5 4.5 0 018.99 0 .75.75 0 101.498-.07 6.005 6.005 0 00-3.432-5.142z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="pencil-color-fg-muted">
              <svg height="16" class="octicon octicon-pencil color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="issue-opened-open">
              <svg height="16" class="octicon octicon-issue-opened open" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="git-pull-request-draft-color-fg-muted">
              <svg height="16" class="octicon octicon-git-pull-request-draft color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.25 1a2.25 2.25 0 00-.75 4.372v5.256a2.251 2.251 0 101.5 0V5.372A2.25 2.25 0 003.25 1zm0 11a.75.75 0 100 1.5.75.75 0 000-1.5zm9.5 3a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5zm0-3a.75.75 0 100 1.5.75.75 0 000-1.5z"></path><path d="M14 7.5a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0zm0-4.25a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="search-color-fg-muted">
              <svg height="16" class="octicon octicon-search color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="sun-color-fg-muted">
              <svg height="16" class="octicon octicon-sun color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="sync-color-fg-muted">
              <svg height="16" class="octicon octicon-sync color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="trash-color-fg-muted">
              <svg height="16" class="octicon octicon-trash color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="key-color-fg-muted">
              <svg height="16" class="octicon octicon-key color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5 5.5a4 4 0 112.731 3.795.75.75 0 00-.768.18L7.44 10.5H6.25a.75.75 0 00-.75.75v1.19l-.06.06H4.25a.75.75 0 00-.75.75v1.19l-.06.06H1.75a.25.25 0 01-.25-.25v-1.69l5.024-5.023a.75.75 0 00.181-.768A3.995 3.995 0 016.5 5.5zm4-5.5a5.5 5.5 0 00-5.348 6.788L.22 11.72a.75.75 0 00-.22.53v2C0 15.216.784 16 1.75 16h2a.75.75 0 00.53-.22l.5-.5a.75.75 0 00.22-.53V14h.75a.75.75 0 00.53-.22l.5-.5a.75.75 0 00.22-.53V12h.75a.75.75 0 00.53-.22l.932-.932A5.5 5.5 0 1010.5 0zm.5 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="comment-discussion-color-fg-muted">
              <svg height="16" class="octicon octicon-comment-discussion color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="bell-color-fg-muted">
              <svg height="16" class="octicon octicon-bell color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="bell-slash-color-fg-muted">
              <svg height="16" class="octicon octicon-bell-slash color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path></svg>
            </div>
            <div data-targets="command-palette-page-stack.localOcticons" data-octicon-id="paintbrush-color-fg-muted">
              <svg height="16" class="octicon octicon-paintbrush color-fg-muted" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.134 1.535C9.722 2.562 8.16 4.057 6.889 5.312 5.8 6.387 5.041 7.401 4.575 8.294a3.745 3.745 0 00-3.227 1.054c-.43.431-.69 1.066-.86 1.657a11.982 11.982 0 00-.358 1.914A21.263 21.263 0 000 15.203v.054l.75-.007-.007.75h.054a14.404 14.404 0 00.654-.012 21.243 21.243 0 001.63-.118c.62-.07 1.3-.18 1.914-.357.592-.17 1.226-.43 1.657-.861a3.745 3.745 0 001.055-3.217c.908-.461 1.942-1.216 3.04-2.3 1.279-1.262 2.764-2.825 3.775-4.249.501-.706.923-1.428 1.125-2.096.2-.659.235-1.469-.368-2.07-.606-.607-1.42-.55-2.069-.34-.66.213-1.376.646-2.076 1.155zm-3.95 8.48a3.76 3.76 0 00-1.19-1.192 9.758 9.758 0 011.161-1.607l1.658 1.658a9.853 9.853 0 01-1.63 1.142zM.742 16l.007-.75-.75.008A.75.75 0 00.743 16zM12.016 2.749c-1.224.89-2.605 2.189-3.822 3.384l1.718 1.718c1.21-1.205 2.51-2.597 3.387-3.833.47-.662.78-1.227.912-1.662.134-.444.032-.551.009-.575h-.001V1.78c-.014-.014-.112-.113-.548.027-.432.14-.995.462-1.655.942zM1.62 13.089a19.56 19.56 0 00-.104 1.395 19.55 19.55 0 001.396-.104 10.528 10.528 0 001.668-.309c.526-.151.856-.325 1.011-.48a2.25 2.25 0 00-3.182-3.182c-.155.155-.329.485-.48 1.01a10.515 10.515 0 00-.309 1.67z"></path></svg>
            </div>

            <command-palette-item-group
              data-group-id="top"
              data-group-title="Top result"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="0"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="commands"
              data-group-title="Commands"
              data-group-hint="Type &gt; to filter"
              data-group-limits="{&quot;static_items_page&quot;:50,&quot;issue&quot;:50,&quot;pull_request&quot;:50,&quot;discussion&quot;:50}"
              data-default-priority="1"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="global_commands"
              data-group-title="Global Commands"
              data-group-hint="Type &gt; to filter"
              data-group-limits="{&quot;issue&quot;:0,&quot;pull_request&quot;:0,&quot;discussion&quot;:0}"
              data-default-priority="2"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="this_page"
              data-group-title="This Page"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="3"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="files"
              data-group-title="Files"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="4"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="default"
              data-group-title="Default"
              data-group-hint=""
              data-group-limits="{&quot;static_items_page&quot;:50}"
              data-default-priority="5"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="pages"
              data-group-title="Pages"
              data-group-hint=""
              data-group-limits="{&quot;repository&quot;:10}"
              data-default-priority="6"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="access_policies"
              data-group-title="Access Policies"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="7"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="organizations"
              data-group-title="Organizations"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="8"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="repositories"
              data-group-title="Repositories"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="9"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="references"
              data-group-title="Issues, pull requests, and discussions"
              data-group-hint="Type # to filter"
              data-group-limits="{}"
              data-default-priority="10"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="teams"
              data-group-title="Teams"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="11"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="users"
              data-group-title="Users"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="12"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="projects"
              data-group-title="Projects"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="13"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="footer"
              data-group-title="Footer"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="14"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="modes_help"
              data-group-title="Modes"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="15"
            >
            </command-palette-item-group>
            <command-palette-item-group
              data-group-id="filters_help"
              data-group-title="Use filters in issues, pull requests, discussions, and projects"
              data-group-hint=""
              data-group-limits="{}"
              data-default-priority="16"
            >
            </command-palette-item-group>

            <command-palette-page
              data-page-title="newren"
              data-scope-id="MDQ6VXNlcjU0NTU3MzA="
              data-scope-type="owner"
              data-targets="command-palette-page-stack.defaultPages"
              hidden
            >
            </command-palette-page>
            <command-palette-page
              data-page-title="git-filter-repo"
              data-scope-id="MDEwOlJlcG9zaXRvcnkxNDU1ODQ5NzE="
              data-scope-type="repository"
              data-targets="command-palette-page-stack.defaultPages"
              hidden
            >
            </command-palette-page>
        </div>

        <command-palette-page data-is-root>
        </command-palette-page>
          <command-palette-page
            data-page-title="newren"
            data-scope-id="MDQ6VXNlcjU0NTU3MzA="
            data-scope-type="owner"
          >
          </command-palette-page>
          <command-palette-page
            data-page-title="git-filter-repo"
            data-scope-id="MDEwOlJlcG9zaXRvcnkxNDU1ODQ5NzE="
            data-scope-type="repository"
          >
          </command-palette-page>
      </command-palette-page-stack>

      <server-defined-provider data-type="search-links" data-targets="command-palette.serverDefinedProviderElements"></server-defined-provider>
      <server-defined-provider data-type="help" data-targets="command-palette.serverDefinedProviderElements">
          <command-palette-help
            data-group="modes_help"
              data-prefix="#"
              data-scope-types="[&quot;&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Search for <strong>issues</strong> and <strong>pull requests</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">#</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="modes_help"
              data-prefix="#"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Search for <strong>issues, pull requests, discussions,</strong> and <strong>projects</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">#</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="modes_help"
              data-prefix="@"
              data-scope-types="[&quot;&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Search for <strong>organizations, repositories,</strong> and <strong>users</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">@</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="modes_help"
              data-prefix="!"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Search for <strong>projects</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">!</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="modes_help"
              data-prefix="/"
              data-scope-types="[&quot;repository&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Search for <strong>files</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">/</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="modes_help"
              data-prefix="&gt;"
          >
            <span data-target="command-palette-help.titleElement">Activate <strong>command mode</strong></span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd">&gt;</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# author:@me"
          >
            <span data-target="command-palette-help.titleElement">Search your issues, pull requests, and discussions</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># author:@me</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# author:@me"
          >
            <span data-target="command-palette-help.titleElement">Search your issues, pull requests, and discussions</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># author:@me</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# is:pr"
          >
            <span data-target="command-palette-help.titleElement">Filter to pull requests</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># is:pr</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# is:issue"
          >
            <span data-target="command-palette-help.titleElement">Filter to issues</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># is:issue</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# is:discussion"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Filter to discussions</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># is:discussion</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# is:project"
              data-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          >
            <span data-target="command-palette-help.titleElement">Filter to projects</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># is:project</kbd>
              </span>
          </command-palette-help>
          <command-palette-help
            data-group="filters_help"
              data-prefix="# is:open"
          >
            <span data-target="command-palette-help.titleElement">Filter to open issues, pull requests, and discussions</span>
              <span data-target="command-palette-help.hintElement">
                <kbd class="hx_kbd"># is:open</kbd>
              </span>
          </command-palette-help>
      </server-defined-provider>

        <server-defined-provider
          data-type="commands"
          data-fetch-debounce="0"
            data-src="/command_palette/commands"
          data-supported-modes="[]"
            data-supports-commands
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="prefetched"
          data-fetch-debounce="0"
            data-src="/command_palette/jump_to_page_navigation"
          data-supported-modes="[&quot;&quot;]"
            data-supported-scope-types="[&quot;&quot;,&quot;owner&quot;,&quot;repository&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/issues"
          data-supported-modes="[&quot;#&quot;,&quot;#&quot;]"
            data-supported-scope-types="[&quot;owner&quot;,&quot;repository&quot;,&quot;&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/jump_to"
          data-supported-modes="[&quot;@&quot;,&quot;@&quot;]"
            data-supported-scope-types="[&quot;&quot;,&quot;owner&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/jump_to_members_only"
          data-supported-modes="[&quot;@&quot;,&quot;@&quot;,&quot;&quot;,&quot;&quot;]"
            data-supported-scope-types="[&quot;&quot;,&quot;owner&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="prefetched"
          data-fetch-debounce="0"
            data-src="/command_palette/jump_to_members_only_prefetched"
          data-supported-modes="[&quot;@&quot;,&quot;@&quot;,&quot;&quot;,&quot;&quot;]"
            data-supported-scope-types="[&quot;&quot;,&quot;owner&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="files"
          data-fetch-debounce="0"
            data-src="/command_palette/files"
          data-supported-modes="[&quot;/&quot;]"
            data-supported-scope-types="[&quot;repository&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/discussions"
          data-supported-modes="[&quot;#&quot;]"
            data-supported-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/projects"
          data-supported-modes="[&quot;#&quot;,&quot;!&quot;]"
            data-supported-scope-types="[&quot;owner&quot;,&quot;repository&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="prefetched"
          data-fetch-debounce="0"
            data-src="/command_palette/recent_issues"
          data-supported-modes="[&quot;#&quot;,&quot;#&quot;]"
            data-supported-scope-types="[&quot;owner&quot;,&quot;repository&quot;,&quot;&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/teams"
          data-supported-modes="[&quot;@&quot;,&quot;&quot;]"
            data-supported-scope-types="[&quot;owner&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
        <server-defined-provider
          data-type="remote"
          data-fetch-debounce="200"
            data-src="/command_palette/name_with_owner_repository"
          data-supported-modes="[&quot;@&quot;,&quot;@&quot;,&quot;&quot;,&quot;&quot;]"
            data-supported-scope-types="[&quot;&quot;,&quot;owner&quot;]"
          
          data-targets="command-palette.serverDefinedProviderElements"
          ></server-defined-provider>
    </command-palette>
  </details-dialog>
</details>

<div class="position-fixed bottom-0 left-0 ml-5 mb-5 js-command-palette-toasts" style="z-index: 1000">
  <div hidden class="Toast Toast--loading">
    <span class="Toast-icon">
      <svg class="Toast--spinner" viewBox="0 0 32 32" width="18" height="18" aria-hidden="true">
        <path
          fill="#959da5"
          d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"
        />
        <path fill="#ffffff" d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"></path>
      </svg>
    </span>
    <span class="Toast-content"></span>
  </div>

  <div hidden class="anim-fade-in fast Toast Toast--error">
    <span class="Toast-icon">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path fill-rule="evenodd" d="M4.47.22A.75.75 0 015 0h6a.75.75 0 01.53.22l4.25 4.25c.141.14.22.331.22.53v6a.75.75 0 01-.22.53l-4.25 4.25A.75.75 0 0111 16H5a.75.75 0 01-.53-.22L.22 11.53A.75.75 0 010 11V5a.75.75 0 01.22-.53L4.47.22zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5H5.31zM8 4a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 018 4zm0 8a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
    </span>
    <span class="Toast-content"></span>
  </div>

  <div hidden class="anim-fade-in fast Toast Toast--warning">
    <span class="Toast-icon">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    </span>
    <span class="Toast-content"></span>
  </div>


  <div hidden class="anim-fade-in fast Toast Toast--success">
    <span class="Toast-icon">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    </span>
    <span class="Toast-content"></span>
  </div>

  <div hidden class="anim-fade-in fast Toast">
    <span class="Toast-icon">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-info">
    <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
    </span>
    <span class="Toast-content"></span>
  </div>
</div>


  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" >
      
  


    





  
  <div id="repository-container-header"  class="pt-3 hide-full-screen" style="background-color: var(--color-page-header-bg);" data-turbo-replace>

      <div class="d-flex flex-wrap flex-justify-end mb-3  px-3 px-md-4 px-lg-5" style="gap: 1rem;">

        <div class="flex-auto min-width-0 width-fit mr-3">
            
  <div class=" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo color-fg-muted mr-2">
    <path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path>
</svg>
    
    <span class="author flex-self-stretch" itemprop="author">
      <a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/users/newren/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren">newren</a>
    </span>
    <span class="mx-1 flex-self-stretch color-fg-muted">/</span>
    <strong itemprop="name" class="mr-2 flex-self-stretch">
      <a data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/newren/git-filter-repo">git-filter-repo</a>
    </strong>

    <span></span><span class="Label Label--secondary v-align-middle mr-1">Public</span>
  </div>


        </div>

          <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

      

  <li>
          <notifications-list-subscription-form
      data-action="notifications-dialog-label-toggled:notifications-list-subscription-form#handleDialogLabelToggle"
      class="f5 position-relative"
    >
      <details
        class="details-reset details-overlay f5 position-relative"
        data-target="notifications-list-subscription-form.details"
        data-action="toggle:notifications-list-subscription-form#detailsToggled"
      >

        <summary data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="731a38869fc3eda51393336d16086859463140e54b21b26209a84103d37f3936" data-ga-click="Repository, click Watch settings, action:blob#show" aria-label="Notification settings" data-view-component="true" class="btn-sm btn">    <span data-menu-button>
            <span
              hidden
              
              data-target="notifications-list-subscription-form.unwatchButtonCopy"
            >
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Unwatch
            </span>
            <span
              hidden
              
              data-target="notifications-list-subscription-form.stopIgnoringButtonCopy"
            >
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell-slash">
    <path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path>
</svg>
              Stop ignoring
            </span>
            <span
              
              
              data-target="notifications-list-subscription-form.watchButtonCopy"
            >
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Watch
            </span>
          </span>
            <span id="repo-notifications-counter" data-target="notifications-list-subscription-form.socialCount" data-pjax-replace="true" data-turbo-replace="true" title="39" data-view-component="true" class="Counter">39</span>
          <span class="dropdown-caret"></span>
</summary>
        <details-menu
          class="SelectMenu  "
          role="menu"
          data-target="notifications-list-subscription-form.menu"
          
        >
          <div class="SelectMenu-modal notifications-component-menu-modal">
            <header class="SelectMenu-header">
              <h3 class="SelectMenu-title">Notifications</h3>
              <button class="SelectMenu-closeButton" type="button" aria-label="Close menu" data-action="click:notifications-list-subscription-form#closeMenu">
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
              </button>
            </header>

            <div class="SelectMenu-list">
              <form data-target="notifications-list-subscription-form.form" data-action="submit:notifications-list-subscription-form#submitForm" data-turbo="false" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="GxFEDw4nkU8dwfxyRo-OfJ-baI9-Wj_LnnYt9DG22Pu4GaPGaCTOAzNSeN2I1iTzh07Y3NlUXCb_PtthTfphng" autocomplete="off" />

                <input type="hidden" name="repository_id" value="145584971">

                <button
                  type="submit"
                  name="do"
                  value="included"
                  class="SelectMenu-item flex-items-start"
                  role="menuitemradio"
                  aria-checked="true"
                  data-targets="notifications-list-subscription-form.subscriptionButtons"
                  
                >
                  <span class="f5">
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Participating and @mentions
                    </div>
                    <div class="text-small color-fg-muted text-normal pb-1">
                      Only receive notifications from this repository when participating or @mentioned.
                    </div>
                  </div>
                </button>

                <button
                  type="submit"
                  name="do"
                  value="subscribed"
                  class="SelectMenu-item flex-items-start"
                  role="menuitemradio"
                  aria-checked="false"
                  data-targets="notifications-list-subscription-form.subscriptionButtons"
                >
                  <span class="f5">
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      All Activity
                    </div>
                    <div class="text-small color-fg-muted text-normal pb-1">
                      Notified of all notifications on this repository.
                    </div>
                  </div>
                </button>

                <button
                  type="submit"
                  name="do"
                  value="ignore"
                  class="SelectMenu-item flex-items-start"
                  role="menuitemradio"
                  aria-checked="false"
                  data-targets="notifications-list-subscription-form.subscriptionButtons"
                >
                  <span class="f5">
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Ignore
                    </div>
                    <div class="text-small color-fg-muted text-normal pb-1">
                      Never be notified.
                    </div>
                  </div>
                </button>
</form>
              <button
                class="SelectMenu-item flex-items-start pr-3"
                type="button"
                role="menuitemradio"
                data-target="notifications-list-subscription-form.customButton"
                data-action="click:notifications-list-subscription-form#openCustomDialog"
                aria-haspopup="true"
                aria-checked="false"
                
              >
                <span class="f5">
                  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                </span>
                <div>
                  <div class="d-flex flex-items-start flex-justify-between">
                    <div class="f5 text-bold">Custom</div>
                    <div class="f5 pr-1">
                      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-arrow-right">
    <path fill-rule="evenodd" d="M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"></path>
</svg>
                    </div>
                  </div>
                  <div class="text-small color-fg-muted text-normal pb-1">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </div>
              </button>

                <div class="px-3 py-2 d-flex color-bg-subtle flex-items-center">
                  <span class="f5">
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile SelectMenu-icon SelectMenu-icon--device-mobile">
    <path fill-rule="evenodd" d="M3.75 0A1.75 1.75 0 002 1.75v12.5c0 .966.784 1.75 1.75 1.75h8.5A1.75 1.75 0 0014 14.25V1.75A1.75 1.75 0 0012.25 0h-8.5zM3.5 1.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25h-8.5a.25.25 0 01-.25-.25V1.75zM8 13a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
                  </span>
                  <span className="text-small color-fg-muted text-normal pb-1">
                    Get push notifications on <a target="_blank" rel="noopener noreferrer" href="https://apps.apple.com/app/apple-store/id1477376905?ct=watch-dropdown&amp;mt=8&amp;pt=524675">iOS</a> or <a target="_blank" rel="noopener noreferrer" href="https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dwatch-dropdown%26utm_medium%3Dweb%26utm_source%3Dgithub">Android</a>.
                  </span>
                </div>
            </div>
          </div>
        </details-menu>

        <details-dialog
          class="notifications-component-dialog "
          data-target="notifications-list-subscription-form.customDialog"
          aria-label="Custom dialog"
          hidden
        >
          <div class="SelectMenu-modal notifications-component-dialog-modal overflow-visible">
            <form data-target="notifications-list-subscription-form.customform" data-action="submit:notifications-list-subscription-form#submitCustomForm" data-turbo="false" action="/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="sgh8YWTMrJX7EPRrJqSI6YNz1Vx0iNVbTdfDXYWmBAIRAJuoAs_z2dWDcMTo_SJmm6ZlD9OGtrYsnzXI-eq9Zw" autocomplete="off" />

              <input type="hidden" name="repository_id" value="145584971">

              <header class="d-sm-none SelectMenu-header pb-0 border-bottom-0 px-2 px-sm-3">
                <h1 class="f3 SelectMenu-title d-inline-flex">
                  <button
                    class="color-bg-default border-0 px-2 py-0 m-0 Link--secondary f5"
                    aria-label="Return to menu"
                    type="button"
                    data-action="click:notifications-list-subscription-form#closeCustomDialog"
                  >
                    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                  </button>
                  Custom
                </h1>
              </header>

              <header class="d-none d-sm-flex flex-items-start pt-1">
                <button
                  class="border-0 px-2 pt-1 m-0 Link--secondary f5"
                  style="background-color: transparent;"
                  aria-label="Return to menu"
                  type="button"
                  data-action="click:notifications-list-subscription-form#closeCustomDialog"
                >
                  <svg style="position: relative; left: 2px; top: 1px" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                </button>

                <h1 class="pt-1 pr-4 pb-0 pl-0 f5 text-bold">
                  Custom
                </h1>
              </header>

              <fieldset>
                <legend>
                  <div class="text-small color-fg-muted pt-0 pr-3 pb-3 pl-6 pl-sm-5 border-bottom mb-3">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </legend>
                <div data-target="notifications-list-subscription-form.labelInputs">
                </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input
                        type="checkbox"
                        name="thread_types[]"
                        value="Issue"
                        data-targets="notifications-list-subscription-form.threadTypeCheckboxes"
                        data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated"
                        
                      >
                      Issues
                    </label>


                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input
                        type="checkbox"
                        name="thread_types[]"
                        value="PullRequest"
                        data-targets="notifications-list-subscription-form.threadTypeCheckboxes"
                        data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated"
                        
                      >
                      Pull requests
                    </label>


                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input
                        type="checkbox"
                        name="thread_types[]"
                        value="Release"
                        data-targets="notifications-list-subscription-form.threadTypeCheckboxes"
                        data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated"
                        
                      >
                      Releases
                    </label>


                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input
                        type="checkbox"
                        name="thread_types[]"
                        value="Discussion"
                        data-targets="notifications-list-subscription-form.threadTypeCheckboxes"
                        data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated"
                        
                      >
                      Discussions
                    </label>


                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input
                        type="checkbox"
                        name="thread_types[]"
                        value="SecurityAlert"
                        data-targets="notifications-list-subscription-form.threadTypeCheckboxes"
                        data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated"
                        
                      >
                      Security alerts
                    </label>


                  </div>
              </fieldset>
              <div class="pt-2 pb-3 px-3 d-flex flex-justify-start flex-row-reverse">
                  <button name="do" value="custom" data-target="notifications-list-subscription-form.customSubmit" disabled="disabled" type="submit" data-view-component="true" class="btn-primary btn-sm btn ml-2">    Apply
</button>

                  <button data-action="click:notifications-list-subscription-form#resetForm" data-close-dialog="" type="button" data-view-component="true" class="btn-sm btn">    Cancel
</button>
              </div>
</form>          </div>
        </details-dialog>


        <div class="notifications-component-dialog-overlay"></div>
      </details>
    </notifications-list-subscription-form>



  </li>

  <li>
        <div data-view-component="true" class="BtnGroup">
        <a icon="repo-forked" href="/newren/git-filter-repo/fork" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="1587edb167a50151465e925b3938494d94185d512a61e17e4a5ad6cf7f89e235" data-ga-click="Repository, show fork modal, action:blob#show; text:Fork" aria-label="Fork your own copy of newren/git-filter-repo" data-view-component="true" class="btn-sm btn BtnGroup-item">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path>
</svg>Fork
          <span id="repo-network-counter" data-pjax-replace="true" data-turbo-replace="true" title="500" data-view-component="true" class="Counter">500</span>
</a>
      <details group_item="true" id="my-forks-menu-145584971" data-view-component="true" class="details-reset details-overlay BtnGroup-parent d-inline-block position-relative">
              <summary aria-label="See your forks of this repository" data-view-component="true" class="btn-sm btn BtnGroup-item px-2 float-none">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path>
</svg>
</summary>
  <details-menu
    class="SelectMenu right-0"
      src="/newren/git-filter-repo/my_forks_menu_content?can_fork=true"
      
      role="menu"
      
>
    <div class="SelectMenu-modal">
        <button class="SelectMenu-closeButton position-absolute right-0 m-2" type="button" aria-label="Close menu" data-toggle-for="details-ba6a38">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
        </button>
      <div
        id="filter-menu-ba6a38"
        class="d-flex flex-column flex-1 overflow-hidden"
>
        <div
          class="SelectMenu-list"
          >

            <include-fragment class="SelectMenu-loading" aria-label="Loading">
              <svg role="menuitem" style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
            </include-fragment>
        </div>
        
      </div>
    </div>
  </details-menu>
</details></div>
  </li>

  <li>
        <template class="js-unstar-confirmation-dialog-template">
  <div class="Box-header">
    <h2 class="Box-title">Unstar this repository?</h2>
  </div>
  <div class="Box-body">
    <p class="mb-3">
      This will remove {{ repoNameWithOwner }} from the {{ listsWithCount }} that it's been added to.
    </p>
    <div class="form-actions">
      <form class="js-social-confirmation-form" data-turbo="false" action="{{ confirmUrl }}" accept-charset="UTF-8" method="post">
        <input type="hidden" name="authenticity_token" value="{{ confirmCsrfToken }}">
        <input type="hidden" name="confirm" value="true">
          <button data-close-dialog="true" type="submit" data-view-component="true" class="btn-danger btn width-full">    Unstar
</button>
</form>    </div>
  </div>
</template>

  <div data-view-component="true" class="js-toggler-container js-social-container starring-container d-flex">
    <div data-view-component="true" class="starred BtnGroup flex-1">
      <form class="js-social-form BtnGroup-parent flex-auto js-deferred-toggler-target" data-turbo="false" action="/newren/git-filter-repo/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="4rlP-p3J3IIPGZxSvOJEOvLuVh6DTb8VlUw_nlxizOf79K7D1lVFoL3YZ0VrsCL39NqEOZbOJV911pMFlgldkw" autocomplete="off" />
          <input type="hidden" value="oDn0TISd2bwNxA3N1KDc2xHb_9OxwW3DCeWCinN9F0-5dBV1zwFAnr8F9toD8roWF-8t9KRC94npfy4RuRaGOw" data-csrf="true" class="js-confirm-csrf-token" />
        <input type="hidden" name="context" value="repository">
          <button data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="384ba9a41d70d578f3ea79f09a125bfd7bb20f52362414974a2874a3803dc88b" data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar" aria-label="Unstar this repository (4833)" type="submit" data-view-component="true" class="rounded-left-2 btn-sm btn BtnGroup-item">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star-fill starred-button-icon d-inline-block mr-2">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path>
</svg><span data-view-component="true" class="d-inline">
            Starred
</span>            <span id="repo-stars-counter-unstar" aria-label="4833 users starred this repository" data-singular-suffix="user starred this repository" data-plural-suffix="users starred this repository" data-turbo-replace="true" title="4,833" data-view-component="true" class="Counter js-social-count">4.8k</span>
</button></form>        <details id="details-user-list-145584971" data-view-component="true" class="details-reset details-overlay BtnGroup-parent js-user-list-menu d-inline-block position-relative">
        <summary aria-label="Add this repository to a list" data-view-component="true" class="btn-sm btn BtnGroup-item px-2 float-none">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path>
</svg>
</summary>
  <details-menu
    class="SelectMenu right-0"
      src="/newren/git-filter-repo/lists"
      
      role="menu"
      
>
    <div class="SelectMenu-modal">
        <button class="SelectMenu-closeButton position-absolute right-0 m-2" type="button" aria-label="Close menu" data-toggle-for="details-8e8e3a">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
        </button>
      <div
        id="filter-menu-8e8e3a"
        class="d-flex flex-column flex-1 overflow-hidden"
>
        <div
          class="SelectMenu-list"
          >

            <include-fragment class="SelectMenu-loading" aria-label="Loading">
              <svg role="menuitem" style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
            </include-fragment>
        </div>
        
      </div>
    </div>
  </details-menu>
</details>
</div>
    <div data-view-component="true" class="unstarred BtnGroup flex-1">
      <form class="js-social-form BtnGroup-parent flex-auto" data-turbo="false" action="/newren/git-filter-repo/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="SB4olfBGLYopKv7orDckASNMVtBhU9XXII0YIqlZrCjyZIG9sPYZtRjC3_QR4jpy1ro0NOdtvmdtgNyReN4VPA" autocomplete="off" />
        <input type="hidden" name="context" value="repository">
          <button data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="28eb605c40417d1e78806af38a00030e24455c8dd21d0eede2789abbe0d29ccd" data-ga-click="Repository, click star button, action:blob#show; text:Star" aria-label="Star this repository (4833)" type="submit" data-view-component="true" class="js-toggler-target rounded-left-2 btn-sm btn BtnGroup-item">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star d-inline-block mr-2">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path>
</svg><span data-view-component="true" class="d-inline">
            Star
</span>            <span id="repo-stars-counter-star" aria-label="4833 users starred this repository" data-singular-suffix="user starred this repository" data-plural-suffix="users starred this repository" data-turbo-replace="true" title="4,833" data-view-component="true" class="Counter js-social-count">4.8k</span>
</button></form>        <details id="details-user-list-145584971" data-view-component="true" class="details-reset details-overlay BtnGroup-parent js-user-list-menu d-inline-block position-relative">
        <summary aria-label="Add this repository to a list" data-view-component="true" class="btn-sm btn BtnGroup-item px-2 float-none">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path>
</svg>
</summary>
  <details-menu
    class="SelectMenu right-0"
      src="/newren/git-filter-repo/lists"
      
      role="menu"
      
>
    <div class="SelectMenu-modal">
        <button class="SelectMenu-closeButton position-absolute right-0 m-2" type="button" aria-label="Close menu" data-toggle-for="details-8e8e3a">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
        </button>
      <div
        id="filter-menu-8e8e3a"
        class="d-flex flex-column flex-1 overflow-hidden"
>
        <div
          class="SelectMenu-list"
          >

            <include-fragment class="SelectMenu-loading" aria-label="Loading">
              <svg role="menuitem" style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
            </include-fragment>
        </div>
        
      </div>
    </div>
  </details-menu>
</details>
</div></div>
  </li>

    

</ul>

      </div>

        <div id="responsive-meta-container" data-turbo-replace>
</div>


          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/newren/git-filter-repo" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /newren/git-filter-repo" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" aria-current="page" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/newren/git-filter-repo/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /newren/git-filter-repo/issues" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path><path fill-rule="evenodd" d="M8 0a8 8 0 100 16A8 8 0 008 0zM1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="62" data-view-component="true" class="Counter">62</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/newren/git-filter-repo/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /newren/git-filter-repo/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="6" data-view-component="true" class="Counter">6</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="discussions-tab" href="/newren/git-filter-repo/discussions" data-tab-item="i3discussions-tab" data-selected-links="repo_discussions /newren/git-filter-repo/discussions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g g" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Discussions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M1.5 2.75a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v5.5a.25.25 0 01-.25.25h-3.5a.75.75 0 00-.53.22L3.5 11.44V9.25a.75.75 0 00-.75-.75h-1a.25.25 0 01-.25-.25v-5.5zM1.75 1A1.75 1.75 0 000 2.75v5.5C0 9.216.784 10 1.75 10H2v1.543a1.457 1.457 0 002.487 1.03L7.061 10h3.189A1.75 1.75 0 0012 8.25v-5.5A1.75 1.75 0 0010.25 1h-8.5zM14.5 4.75a.25.25 0 00-.25-.25h-.5a.75.75 0 110-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0114.25 12H14v1.543a1.457 1.457 0 01-2.487 1.03L9.22 12.28a.75.75 0 111.06-1.06l2.22 2.22v-2.19a.75.75 0 01.75-.75h1a.25.25 0 00.25-.25v-5.5z"></path>
</svg>
        <span data-content="Discussions">Discussions</span>
          <span id="discussions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/newren/git-filter-repo/actions" data-tab-item="i4actions-tab" data-selected-links="repo_actions /newren/git-filter-repo/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="/newren/git-filter-repo/projects" data-tab-item="i5projects-tab" data-selected-links="repo_projects new_repo_project repo_project /newren/git-filter-repo/projects" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g b" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0114.25 16H1.75A1.75 1.75 0 010 14.25V1.75zM1.5 6.5v7.75c0 .138.112.25.25.25H5v-8H1.5zM5 5H1.5V1.75a.25.25 0 01.25-.25H5V5zm1.5 1.5v8h7.75a.25.25 0 00.25-.25V6.5h-8zm8-1.5h-8V1.5h7.75a.25.25 0 01.25.25V5z"></path>
</svg>
        <span data-content="Projects">Projects</span>
          <span id="projects-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/newren/git-filter-repo/security" data-tab-item="i6security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /newren/git-filter-repo/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path>
</svg>
        <span data-content="Security">Security</span>
          <include-fragment src="/newren/git-filter-repo/security/overall-count" accept="text/fragment+html"></include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/newren/git-filter-repo/pulse" data-tab-item="i7insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /newren/git-filter-repo/pulse" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
                <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <details data-view-component="true" class="details-overlay details-reset position-relative">
  <summary role="button" data-view-component="true">          <div class="UnderlineNav-item mr-0 border-0">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
            <span class="sr-only">More</span>
          </div>
</summary>
  <details-menu role="menu" data-view-component="true" class="dropdown-menu dropdown-menu-sw">          <ul>
              <li data-menu-item="i0code-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item selected dropdown-item" aria-current="page" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /newren/git-filter-repo" href="/newren/git-filter-repo">
                  Code
</a>              </li>
              <li data-menu-item="i1issues-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_issues repo_labels repo_milestones /newren/git-filter-repo/issues" href="/newren/git-filter-repo/issues">
                  Issues
</a>              </li>
              <li data-menu-item="i2pull-requests-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_pulls checks /newren/git-filter-repo/pulls" href="/newren/git-filter-repo/pulls">
                  Pull requests
</a>              </li>
              <li data-menu-item="i3discussions-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_discussions /newren/git-filter-repo/discussions" href="/newren/git-filter-repo/discussions">
                  Discussions
</a>              </li>
              <li data-menu-item="i4actions-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_actions /newren/git-filter-repo/actions" href="/newren/git-filter-repo/actions">
                  Actions
</a>              </li>
              <li data-menu-item="i5projects-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_projects new_repo_project repo_project /newren/git-filter-repo/projects" href="/newren/git-filter-repo/projects">
                  Projects
</a>              </li>
              <li data-menu-item="i6security-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="security overview alerts policy token_scanning code_scanning /newren/git-filter-repo/security" href="/newren/git-filter-repo/security">
                  Security
</a>              </li>
              <li data-menu-item="i7insights-tab" hidden>
                <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /newren/git-filter-repo/pulse" href="/newren/git-filter-repo/pulse">
                  Insights
</a>              </li>
          </ul>
</details-menu>
</details></div>
</nav>

  </div>

  



  <turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
      <div id="repo-content-pjax-container" class="repository-content " >
      <a href="https://github.dev/" class="d-none js-github-dev-shortcut" data-hotkey=".">Open in github.dev</a>
  <a href="https://github.dev/" class="d-none js-github-dev-new-tab-shortcut" data-hotkey="Shift+.,Shift+&gt;,&gt;" target="_blank">Open in a new github.dev tab</a>



    
      
  <div class="clearfix container-xl px-3 px-md-4 px-lg-5 mt-4">
    
    
<div data-test-selector="blob-container">
  

  



    
<a class="d-none js-permalink-shortcut" data-hotkey="y" href="/newren/git-filter-repo/blob/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo">Permalink</a>

<div class="d-flex flex-items-start flex-shrink-0 pb-3 flex-wrap flex-md-nowrap flex-justify-between flex-md-justify-start">
  
<div class="position-relative">
  <details
    class="js-branch-select-menu details-reset details-overlay mr-0 mb-0 "
    id="branch-select-menu"
    data-hydro-click-payload="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;REFS_SELECTOR_MENU&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="45a5ccca02c9c9ca9a9cd73e0ff6ba0b8548e85aba059dca9a3baae80bc0d682">
    <summary class="btn css-truncate"
            data-hotkey="w"
            title="Switch branches or tags">
      <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-branch">
    <path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path>
</svg>
      <span class="css-truncate-target" data-menu-button>main</span>
      <span class="dropdown-caret"></span>
    </summary>

    
<div class="SelectMenu">
  <div class="SelectMenu-modal">
    <header class="SelectMenu-header">
      <span class="SelectMenu-title">Switch branches/tags</span>
      <button class="SelectMenu-closeButton" type="button" data-toggle-for="branch-select-menu"><svg aria-label="Close menu" aria-hidden="false" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg></button>
    </header>

    <input-demux data-action="tab-container-change:input-demux#storeInput tab-container-changed:input-demux#updateInput">
      <tab-container class="d-flex flex-column js-branches-tags-tabs" style="min-height: 0;">
        <div class="SelectMenu-filter">
          <input data-target="input-demux.source"
                 id="context-commitish-filter-field"
                 class="SelectMenu-input form-control"
                 aria-owns="ref-list-branches"
                 data-controls-ref-menu-id="ref-list-branches"
                 autofocus
                 autocomplete="off"
                 aria-label="Filter branches/tags"
                 placeholder="Filter branches/tags"
                 type="text"
          >
        </div>

        <div class="SelectMenu-tabs" role="tablist" data-target="input-demux.control" >
          <button class="SelectMenu-tab" type="button" role="tab" aria-selected="true">Branches</button>
          <button class="SelectMenu-tab" type="button" role="tab">Tags</button>
        </div>

        <div role="tabpanel" id="ref-list-branches" data-filter-placeholder="Filter branches/tags" tabindex="" class="d-flex flex-column flex-auto overflow-auto">
          <ref-selector
            type="branch"
            data-targets="input-demux.sinks"
            data-action="
              input-entered:ref-selector#inputEntered
              tab-selected:ref-selector#tabSelected
              focus-list:ref-selector#focusFirstListMember
            "
            query-endpoint="/newren/git-filter-repo/refs"
            
            cache-key="v0:1665425419.1733491"
            current-committish="bWFpbg=="
            default-branch="bWFpbg=="
            name-with-owner="bmV3cmVuL2dpdC1maWx0ZXItcmVwbw=="
            prefetch-on-mouseover
          >

            <template data-target="ref-selector.fetchFailedTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Could not load branches</div>
            </template>

              <template data-target="ref-selector.noMatchTemplate">
    <div class="SelectMenu-message">Nothing to show</div>
</template>


            <div data-target="ref-selector.listContainer" role="menu" class="SelectMenu-list " data-turbo-frame="repo-content-turbo-frame">
              <div class="SelectMenu-loading pt-3 pb-0 overflow-hidden" aria-label="Menu is loading">
                <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
              </div>
            </div>

              

<template data-target="ref-selector.itemTemplate">
  <a href="https://github.com/newren/git-filter-repo/blob/{{ urlEncodedRefName }}/git-filter-repo" class="SelectMenu-item" role="menuitemradio" rel="nofollow" aria-checked="{{ isCurrent }}" data-index="{{ index }}" >
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    <span class="flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}">{{ refName }}</span>
    <span hidden="{{ isNotDefault }}" class="Label Label--secondary flex-self-start">default</span>
  </a>
</template>


              <footer class="SelectMenu-footer"><a href="/newren/git-filter-repo/branches">View all branches</a></footer>
          </ref-selector>

        </div>

        <div role="tabpanel" id="tags-menu" data-filter-placeholder="Find a tag" tabindex="" hidden class="d-flex flex-column flex-auto overflow-auto">
          <ref-selector
            type="tag"
            data-action="
              input-entered:ref-selector#inputEntered
              tab-selected:ref-selector#tabSelected
              focus-list:ref-selector#focusFirstListMember
            "
            data-targets="input-demux.sinks"
            query-endpoint="/newren/git-filter-repo/refs"
            cache-key="v0:1665425419.1733491"
            current-committish="bWFpbg=="
            default-branch="bWFpbg=="
            name-with-owner="bmV3cmVuL2dpdC1maWx0ZXItcmVwbw=="
          >

            <template data-target="ref-selector.fetchFailedTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Could not load tags</div>
            </template>

            <template data-target="ref-selector.noMatchTemplate">
              <div class="SelectMenu-message" data-index="{{ index }}">Nothing to show</div>
            </template>

              

<template data-target="ref-selector.itemTemplate">
  <a href="https://github.com/newren/git-filter-repo/blob/{{ urlEncodedRefName }}/git-filter-repo" class="SelectMenu-item" role="menuitemradio" rel="nofollow" aria-checked="{{ isCurrent }}" data-index="{{ index }}" >
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    <span class="flex-1 css-truncate css-truncate-overflow {{ isFilteringClass }}">{{ refName }}</span>
    <span hidden="{{ isNotDefault }}" class="Label Label--secondary flex-self-start">default</span>
  </a>
</template>


            <div data-target="ref-selector.listContainer" role="menu" class="SelectMenu-list" data-turbo-frame="repo-content-turbo-frame">
              <div class="SelectMenu-loading pt-3 pb-0 overflow-hidden" aria-label="Menu is loading">
                <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
              </div>
            </div>
              <footer class="SelectMenu-footer"><a href="/newren/git-filter-repo/tags">View all tags</a></footer>
          </ref-selector>
        </div>
      </tab-container>
    </input-demux>
  </div>
</div>

  </details>

</div>


<div class="Overlay--hidden Overlay-backdrop--center" data-modal-dialog-overlay>
  <modal-dialog role="dialog" id="warn-tag-match-create-branch-dialog" aria-modal="true" aria-labelledby="warn-tag-match-create-branch-dialog-header" data-view-component="true" class="Overlay Overlay--width-large Overlay--height-auto Overlay--motion-scaleFade">
      <header class="Overlay-header Overlay-header--large Overlay-header--divided">
        <div class="Overlay-headerContentWrap">
          <div class="Overlay-titleWrap">
            <h1 id="warn-tag-match-create-branch-dialog-header" class="Overlay-title">Name already in use</h1>
          </div>
          <div class="Overlay-actionWrap">
            <button data-close-dialog-id="warn-tag-match-create-branch-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg></button>
          </div>
        </div>
      </header>
    <div class="Overlay-body ">
      
          <div data-view-component="true">      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</div>

    </div>
      <footer class="Overlay-footer Overlay-footer--alignEnd">
            <button data-close-dialog-id="warn-tag-match-create-branch-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
            <button data-submit-dialog-id="warn-tag-match-create-branch-dialog" type="button" data-view-component="true" class="btn-danger btn">    Create
</button>
      </footer>
</modal-dialog></div>


  <h2 id="blob-path" class="breadcrumb flex-auto flex-self-center min-width-0 text-normal mx-2 width-full width-md-auto flex-order-1 flex-md-order-none mt-3 mt-md-0">
    <span class="js-repo-root text-bold"><span class="js-path-segment d-inline-block wb-break-all"><a data-turbo-frame="repo-content-turbo-frame" href="/newren/git-filter-repo"><span>git-filter-repo</span></a></span></span><span class="separator">/</span><strong class="final-path">git-filter-repo</strong>
      <span class="separator">/</span><details class="details-reset details-overlay d-inline" id="jumpto-symbol-select-menu">
    <summary aria-haspopup="true" data-hotkey="r" data-hydro-click="{&quot;event_type&quot;:&quot;code_navigation.click_on_blob_definitions&quot;,&quot;payload&quot;:{&quot;action&quot;:&quot;click_on_blob_definitions&quot;,&quot;repository_id&quot;:145584971,&quot;ref&quot;:&quot;main&quot;,&quot;language&quot;:&quot;Python&quot;,&quot;backend&quot;:&quot;ALEPH_FUZZY&quot;,&quot;code_nav_context&quot;:&quot;BLOB_VIEW&quot;,&quot;retry_backend&quot;:&quot;&quot;,&quot;cross_repo_results_included&quot;:&quot;CROSS_REPO_UNKNOWN&quot;,&quot;in_repo_result_count&quot;:0,&quot;cross_repo_result_count&quot;:0,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="c8fd4f53dc3705ecae1af704f50b2d70d2bc243ac3d195818ba95da934cc9bb5" data-view-component="true" class="Link--secondary css-truncate btn-link">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
    <span data-menu-button>Jump to</span>
    <span class="dropdown-caret"></span>
</summary>  <details-menu class="SelectMenu SelectMenu--hasFilter" role="menu">
    <div class="SelectMenu-modal">
      <header class="SelectMenu-header">
        <span class="SelectMenu-title">Code definitions</span>
        <button class="SelectMenu-closeButton" type="button" data-toggle-for="jumpto-symbol-select-menu">
          <svg aria-label="Close menu" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
        </button>
      </header>
      <div class="SelectMenu-list">
          <div class="SelectMenu-blankslate">
            <p class="mb-0 color-fg-muted">
              No definitions found in this file.
            </p>
          </div>
        <div data-filterable-for="jumpto-symbols-filter-field" data-filterable-type="substring">
        </div>
      </div>
      <footer class="SelectMenu-footer">
        <div class="d-flex flex-justify-between">
          Code navigation not available for this commit
          <svg class="octicon octicon-dot-fill text-light-gray" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8z"></path></svg>
        </div>
      </footer>
    </div>
  </details-menu>
</details>

  </h2>
    <a href="/newren/git-filter-repo/find/main" data-pjax="" data-hotkey="t" data-view-component="true" class="btn mr-2 d-none d-md-block">    Go to file
</a>
  <details id="blob-more-options-details" data-view-component="true" class="details-overlay details-reset position-relative">
    <summary role="button" data-view-component="true" class="btn">    <svg aria-label="More options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
</summary>
  <div data-view-component="true">      <ul class="dropdown-menu dropdown-menu-sw">
        <li class="d-block d-md-none">
          <a class="dropdown-item d-flex flex-items-baseline" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FIND_FILE_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="07ffb31cebfbf0dcb4f4d6b0639f5a4f5e93cfe5d3e4073b9689edd043c87842" data-ga-click="Repository, find file, location:repo overview" data-hotkey="t" href="/newren/git-filter-repo/find/main">
            <span class="flex-auto">Go to file</span>
            <span class="text-small color-fg-muted" aria-hidden="true">T</span>
</a>        </li>
        <li data-toggle-for="blob-more-options-details">
            <button data-toggle-for="jumpto-line-details-dialog" type="button" data-view-component="true" class="dropdown-item btn-link">    <span class="d-flex flex-items-baseline">
              <span class="flex-auto">Go to line</span>
              <span class="text-small color-fg-muted" aria-hidden="true">L</span>
            </span>
</button>        </li>
        <li data-toggle-for="blob-more-options-details">
            <button data-toggle-for="jumpto-symbol-select-menu" type="button" data-view-component="true" class="dropdown-item btn-link">    <span class="d-flex flex-items-baseline">
              <span class="flex-auto">Go to definition</span>
              <span class="text-small color-fg-muted" aria-hidden="true">R</span>
            </span>
</button>        </li>
        <li class="dropdown-divider" role="none"></li>
        <li>
          <clipboard-copy data-toggle-for="blob-more-options-details" aria-label="Copy path" value="git-filter-repo" data-view-component="true" class="dropdown-item cursor-pointer">
    
            Copy path

</clipboard-copy>        </li>
        <li>
          <clipboard-copy data-toggle-for="blob-more-options-details" aria-label="Copy permalink" value="https://github.com/newren/git-filter-repo/blob/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo" data-view-component="true" class="dropdown-item cursor-pointer">
    
            <span class="d-flex flex-items-baseline">
              <span class="flex-auto">Copy permalink</span>
            </span>

</clipboard-copy>        </li>
      </ul>
</div>
</details></div>





    <div id="spoof-warning" class="mt-0 pb-3" hidden aria-hidden>
  <div data-view-component="true" class="flash flash-warn mt-0 clearfix">
  
  
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert float-left mt-1">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>

      <div class="overflow-hidden">This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.</div>


  
</div></div>

    <include-fragment src="/newren/git-filter-repo/spoofed_commit_check/9da70bddfa491bc50fefc3c35fd5cec773182816" data-test-selector="spoofed-commit-check"></include-fragment>

    <div class="Box d-flex flex-column flex-shrink-0 mb-3">
  
  <div class="Box-header Details js-details-container">
      <div class="d-flex flex-items-center">
        <span class="flex-shrink-0 ml-n1 mr-n1 mt-n1 mb-n1">
          <a rel="author" data-hovercard-type="user" data-hovercard-url="/users/newren/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren"><img class="avatar avatar-user" src="https://avatars.githubusercontent.com/u/5455730?s=48&amp;v=4" width="24" height="24" alt="@newren" /></a>
        </span>
        <div class="flex-1 d-flex flex-items-center ml-3 min-width-0">
          <div class="css-truncate css-truncate-overflow">
            <a class="text-bold Link--primary" rel="author" data-hovercard-type="user" data-hovercard-url="/users/newren/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren">newren</a>

              <span class="markdown-title">
                <a data-pjax="true" title="filter-repo: pass raw bytestring to regex compilation

Signed-off-by: Elijah Newren &lt;newren@gmail.com&gt;" class="Link--secondary" href="/newren/git-filter-repo/commit/cbc6535694380d3a3bf3e5c96410d4ce7e8de94f">filter-repo: pass raw bytestring to regex compilation</a>
              </span>
          </div>

            <span class="hidden-text-expander ml-1 flex-shrink-0">
              <button type="button" class="ellipsis-expander js-details-target" aria-expanded="false">&hellip;</button>
            </span>

          <span class="ml-2">
            <include-fragment accept="text/fragment+html" src="/newren/git-filter-repo/commit/cbc6535694380d3a3bf3e5c96410d4ce7e8de94f/rollup?direction=e" class="d-inline"></include-fragment>
          </span>
        </div>
        <div class="ml-3 d-flex flex-shrink-0 flex-items-center flex-justify-end color-fg-muted no-wrap">
          <span class="d-none d-md-inline">
            <span>Latest commit</span>
            <a class="text-small text-mono Link--secondary" href="/newren/git-filter-repo/commit/cbc6535694380d3a3bf3e5c96410d4ce7e8de94f" data-pjax>cbc6535</a>
            <span itemprop="dateModified"><relative-time datetime="2022-10-09T04:42:32Z" class="no-wrap">Oct 8, 2022</relative-time></span>
          </span>

          <a data-pjax href="/newren/git-filter-repo/commits/main/git-filter-repo" class="ml-3 no-wrap Link--primary no-underline">
            <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path fill-rule="evenodd" d="M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"></path>
</svg>
            <span class="d-none d-sm-inline">
              <strong>History</strong>
            </span>
          </a>
        </div>
      </div>
        <div class="Details-content--hidden ml-5 mt-2"><pre class="mt-2 f6 ws-pre-wrap">Signed-off-by: Elijah Newren &lt;newren@gmail.com&gt;</pre></div>

  </div>

  <div class="Box-body d-flex flex-items-center flex-auto border-bottom-0 flex-wrap" >
    <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default float-left mr-3" id="blob_contributors_box">
      <summary class="Link--primary">
        <svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path>
</svg>
        <strong>13</strong>
        
        contributors
      </summary>
      <details-dialog
        class="Box Box--overlay d-flex flex-column anim-fade-in fast"
        aria-label="Users who have contributed to this file"
        src="/newren/git-filter-repo/contributors-list/main/git-filter-repo" preload>
        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog>
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
          </button>
          <h3 class="Box-title">
            Users who have contributed to this file
          </h3>
        </div>
        <include-fragment>
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="my-3 mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
        </include-fragment>
      </details-dialog>
    </details>
      <span class="">
    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/newren/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=newren">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/5455730?s=48&amp;v=4" width="24" height="24" alt="@newren" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/xorangekiller/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=xorangekiller">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/5561926?s=48&amp;v=4" width="24" height="24" alt="@xorangekiller" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/stefanor/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=stefanor">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/442117?s=48&amp;v=4" width="24" height="24" alt="@stefanor" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/bulldy80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=bulldy80">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/1606576?s=48&amp;v=4" width="24" height="24" alt="@bulldy80" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/mwilck/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=mwilck">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/15961354?s=48&amp;v=4" width="24" height="24" alt="@mwilck" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/marcows/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=marcows">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/6334512?s=48&amp;v=4" width="24" height="24" alt="@marcows" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/matthisk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=matthisk">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/602837?s=48&amp;v=4" width="24" height="24" alt="@matthisk" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/slietzau/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=slietzau">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/17597022?s=48&amp;v=4" width="24" height="24" alt="@slietzau" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/lassik/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=lassik">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/2564245?s=48&amp;v=4" width="24" height="24" alt="@lassik" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/jgfouca/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=jgfouca">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/7292036?s=48&amp;v=4" width="24" height="24" alt="@jgfouca" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/gwymor/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=gwymor">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/87623694?s=48&amp;v=4" width="24" height="24" alt="@gwymor" /> 
</a>    <a class="avatar-link" data-hovercard-type="user" data-hovercard-url="/users/blepabyte/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/newren/git-filter-repo/commits/main/git-filter-repo?author=blepabyte">
      <img class="avatar mr-2 avatar-user" src="https://avatars.githubusercontent.com/u/74576829?s=48&amp;v=4" width="24" height="24" alt="@blepabyte" /> 
</a>
      <button data-toggle-for="blob_contributors_box" type="button" data-view-component="true" class="lh-default btn-link">    +1
</button></span>

  </div>
</div>



      








  
    <div data-target="readme-toc.content" class="Box mt-3 position-relative">
      
  <div
    class="Box-header js-blob-header py-2 pr-2 d-flex flex-shrink-0 flex-md-row flex-items-center"
    
  >


  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1">

      <span class="file-mode" title="File mode">executable file</span>
      <span class="file-info-divider"></span>
      4005 lines (3523 sloc)
      <span class="file-info-divider"></span>
    162 KB
  </div>

  <div class="d-flex py-1 py-md-0 flex-auto flex-order-1 flex-md-order-2 flex-sm-grow-0 flex-justify-between hide-sm hide-md">
      

    <div class="BtnGroup">
        <a data-permalink-href="/newren/git-filter-repo/raw/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo" href="/newren/git-filter-repo/raw/main/git-filter-repo" id="raw-url" data-view-component="true" class="js-permalink-replaceable-link btn-sm btn BtnGroup-item">    Raw
</a>          <a data-permalink-href="/newren/git-filter-repo/blame/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo" href="/newren/git-filter-repo/blame/main/git-filter-repo" data-hotkey="b" data-view-component="true" class="js-update-url-with-hash js-permalink-replaceable-link btn-sm btn BtnGroup-item">    Blame
</a>    </div>

    <div class="d-flex">
        
<div class="ml-1" data-test-selector="edit-dropdown-menu-component">
  <form class="BtnGroup-parent js-update-url-with-hash " data-turbo="false" action="/newren/git-filter-repo/edit/main/git-filter-repo" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="0pZ-0C01y1lsqd-jO8OZiOEKrnbomb3H_QusEB4IaRvu-H5LgdxiI6ZDUTzBzXm1IDIltXHMjpwcMY36jGKFzg" autocomplete="off" />
      <button title="Fork this repository and edit the file" data-hotkey="e" data-disable-with="" data-test-selector="edit-icon-button" type="submit" data-view-component="true" class="btn-sm BtnGroup-item btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path fill-rule="evenodd" d="M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"></path>
</svg>
</button></form>
  <details class="details-reset details-overlay select-menu BtnGroup-parent d-inline-block position-relative">
      <summary data-disable-invalid="" data-disable-with="" data-dropdown-tracking="{&quot;type&quot;:&quot;blob_edit_dropdown.more_options_click&quot;,&quot;context&quot;:{&quot;repository_id&quot;:145584971,&quot;actor_id&quot;:25706871,&quot;github_dev_enabled&quot;:true,&quot;edit_enabled&quot;:true,&quot;small_screen&quot;:false}}" aria-label="Select additional options" data-view-component="true" class="js-blob-dropdown-click select-menu-button btn-sm btn BtnGroup-item float-none px-2">
</summary>    <div class="SelectMenu right-0">
      <div class="SelectMenu-modal width-full">
        <div class="SelectMenu-list SelectMenu-list--borderless py-2">
          <form class="SelectMenu-item js-update-url-with-hash " data-turbo="false" action="/newren/git-filter-repo/edit/main/git-filter-repo" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="mi29J7gNLcNTtFNh1FHpMD1MmCCtWU6fDh3WAIbSHN2mQ728FOSEuZle3f4uXwkN_HQT4zQMfcTvJ_fqFLjwCA" autocomplete="off" />
              <button title="Fork this repository and edit the file" data-test-selector="edit-text-button" type="submit" data-view-component="true" class="btn-invisible btn width-full d-flex flex-justify-between color-fg-default text-normal p-0">    <div class="mr-5">Edit this file</div>
              <div class="color-fg-muted">E</div>
</button></form>
            <a aria-label="Open this file in github.dev" data-test-selector="github-dev-link" data-dropdown-tracking="{&quot;type&quot;:&quot;blob_edit_dropdown.dev_link_click&quot;,&quot;context&quot;:{&quot;repository_id&quot;:145584971,&quot;actor_id&quot;:25706871,&quot;edit_enabled&quot;:true,&quot;small_screen&quot;:false}}" href="https://github.dev/" data-view-component="true" class="SelectMenu-item js-github-dev-shortcut js-blob-dropdown-click width-full d-flex flex-justify-between color-fg-default f5 text-normal">
              <div class="mr-5 no-wrap">Open in github.dev</div>
              <div class="color-fg-muted">.</div>
</a>
            <a data-platforms="windows,mac" data-test-selector="github-desktop-link" aria-label="Open this file in GitHub Desktop" href="https://desktop.github.com" data-view-component="true" class="SelectMenu-item no-wrap js-remove-unless-platform width-full text-normal color-fg-default f5">
              Open in GitHub Desktop
</a>        </div>
      </div>
    </div>
  </details>
</div>


        
<div data-test-selector="remote-clipboard-copy">
  <remote-clipboard-copy class="d-inline-block btn-octicon" style="height: 26px" data-src="/newren/git-filter-repo/raw/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo" data-action="click:remote-clipboard-copy#remoteCopy">
  

  <span data-target="remote-clipboard-copy.idle">      <span class="tooltipped tooltipped-nw cursor-pointer" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;COPY_RAW_CONTENTS_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="04186039555c8b2a0f6dc897dba4211a60017c93c2118a03bff527ba88966951" aria-label="Copy raw contents">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy">
    <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
</svg>
</span></span>
  <span data-target="remote-clipboard-copy.fetching" hidden="hidden">      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
</span>
  <span data-target="remote-clipboard-copy.success" hidden="hidden">      <span class="tooltipped tooltipped-nw" aria-label="Copied!">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
      </span>
</span>
  <span data-target="remote-clipboard-copy.error" hidden="hidden">      <span class="tooltipped tooltipped-nw" aria-label="Something went wrong. Try again.">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert color-fg-attention">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
      </span>
</span>
</remote-clipboard-copy></div>


          <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="inline-form" data-turbo="false" action="/newren/git-filter-repo/delete/main/git-filter-repo" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="-zhETiXE7x7ofI6ageopDxQqG7cV6s-gSuvjYxJ29FcxSNyofbNg4QOpyimjit8Li5MDwkZa76VJol4VWs5_aA" />
            <button class="btn-octicon btn-octicon-danger tooltipped tooltipped-nw" type="submit"
              aria-label="Fork this repository and delete the file" data-disable-with>
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path fill-rule="evenodd" d="M6.5 1.75a.25.25 0 01.25-.25h2.5a.25.25 0 01.25.25V3h-3V1.75zm4.5 0V3h2.25a.75.75 0 010 1.5H2.75a.75.75 0 010-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75zM4.496 6.675a.75.75 0 10-1.492.15l.66 6.6A1.75 1.75 0 005.405 15h5.19c.9 0 1.652-.681 1.741-1.576l.66-6.6a.75.75 0 00-1.492-.149l-.66 6.6a.25.25 0 01-.249.225h-5.19a.25.25 0 01-.249-.225l-.66-6.6z"></path>
</svg>
            </button>
</form>    </div>
  </div>

    <div class="d-flex hide-lg hide-xl flex-order-2 flex-grow-0">
      <details class="dropdown details-reset details-overlay d-inline-block">
        <summary
          class="js-blob-dropdown-click btn-octicon"
          aria-haspopup="true"
          aria-label="possible actions"
          data-test-selector="small-screen-more-options"
          data-dropdown-tracking="{&quot;type&quot;:&quot;blob_edit_dropdown.more_options_click&quot;,&quot;context&quot;:{&quot;repository_id&quot;:145584971,&quot;actor_id&quot;:25706871,&quot;github_dev_enabled&quot;:true,&quot;edit_enabled&quot;:true,&quot;small_screen&quot;:true}}"
        >
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
        </summary>

        <ul class="dropdown-menu dropdown-menu-sw" style="width: 175px">
            <li>
                <a class="dropdown-item tooltipped tooltipped-nw js-remove-unless-platform"
                   data-platforms="windows,mac"
                   href="https://desktop.github.com">
                  Open with Desktop
                </a>
            </li>
          <li>
            <a class="dropdown-item" href="/newren/git-filter-repo/raw/main/git-filter-repo">
              View raw
            </a>
          </li>
            <li>
              <remote-clipboard-copy class="dropdown-item" data-src="/newren/git-filter-repo/raw/main/git-filter-repo" data-action="click:remote-clipboard-copy#remoteCopy">
  

  <span data-target="remote-clipboard-copy.idle">                  <span class="cursor-pointer" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;COPY_RAW_CONTENTS_BUTTON&quot;,&quot;repository_id&quot;:145584971,&quot;originating_url&quot;:&quot;https://github.com/newren/git-filter-repo/blob/main/git-filter-repo&quot;,&quot;user_id&quot;:25706871}}" data-hydro-click-hmac="04186039555c8b2a0f6dc897dba4211a60017c93c2118a03bff527ba88966951">
                    Copy raw contents
</span></span>
  <span data-target="remote-clipboard-copy.fetching" hidden="hidden">                  Copy raw contents
                  <span class="d-inline-block position-relative" style="top: 3px">
                    <svg aria-label="fetching contents…" style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" />
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>
                  </span>
</span>
  <span data-target="remote-clipboard-copy.success" hidden="hidden">                  Copy raw contents
                  <svg aria-label="Copied!" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
</span>
  <span data-target="remote-clipboard-copy.error" hidden="hidden">                  Copy raw contents
                  <svg aria-label="Something went wrong. Try again." role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert color-fg-attention">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span>
</remote-clipboard-copy>            </li>
            <li>
              <a class="dropdown-item" href="/newren/git-filter-repo/blame/main/git-filter-repo">
                View blame
              </a>
            </li>

              <li class="dropdown-divider" role="none"></li>
              <li>
                <a class="dropdown-item" href="/newren/git-filter-repo/edit/main/git-filter-repo">Edit file</a>
              </li>
                <li>
                  <a class="dropdown-item js-github-dev-shortcut js-blob-dropdown-click" data-test-selector="small-screen-github-dev-link" data-dropdown-tracking="{&quot;type&quot;:&quot;blob_edit_dropdown.dev_link_click&quot;,&quot;context&quot;:{&quot;repository_id&quot;:145584971,&quot;actor_id&quot;:25706871,&quot;edit_enabled&quot;:true,&quot;small_screen&quot;:true}}" href="https://github.dev/">Open with github.dev</a>
                </li>
              <li>
                <a class="dropdown-item menu-item-danger" href="/newren/git-filter-repo/delete/main/git-filter-repo">Delete file</a>
              </li>
        </ul>
      </details>
    </div>
</div>


      
    <div itemprop="text" class="Box-body p-0 blob-wrapper data type-python  gist-border-0">

        
<div class="js-check-bidi js-blob-code-container blob-code-content">

  <template class="js-file-alert-template">
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
  
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">        <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">    Show hidden characters
</a>
</div>
</div></template>
<template class="js-line-alert-template">
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
</span></template>

  <table data-hpc class="highlight tab-size js-file-line-container js-code-nav-container js-tagsearch-file" data-tab-size="8" data-paste-markdown-skip data-tagsearch-lang="Python" data-tagsearch-path="git-filter-repo">
        <tr>
          <td id="L1" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1"></td>
          <td id="LC1" class="blob-code blob-code-inner js-file-line"><span class=pl-c>#!/usr/bin/env python3</span></td>
        </tr>
        <tr>
          <td id="L2" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2"></td>
          <td id="LC2" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3"></td>
          <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L4" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4"></td>
          <td id="LC4" class="blob-code blob-code-inner js-file-line"><span class=pl-s>git-filter-repo filters git repositories, similar to git filter-branch, BFG</span></td>
        </tr>
        <tr>
          <td id="L5" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="5"></td>
          <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class=pl-s>repo cleaner, and others.  The basic idea is that it works by running</span></td>
        </tr>
        <tr>
          <td id="L6" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="6"></td>
          <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class=pl-s>   git fast-export &lt;options&gt; | filter | git fast-import &lt;options&gt;</span></td>
        </tr>
        <tr>
          <td id="L7" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="7"></td>
          <td id="LC7" class="blob-code blob-code-inner js-file-line"><span class=pl-s>where this program not only launches the whole pipeline but also serves as</span></td>
        </tr>
        <tr>
          <td id="L8" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="8"></td>
          <td id="LC8" class="blob-code blob-code-inner js-file-line"><span class=pl-s>the &#39;filter&#39; in the middle.  It does a few additional things on top as well</span></td>
        </tr>
        <tr>
          <td id="L9" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="9"></td>
          <td id="LC9" class="blob-code blob-code-inner js-file-line"><span class=pl-s>in order to make it into a well-rounded filtering tool.</span></td>
        </tr>
        <tr>
          <td id="L10" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="10"></td>
          <td id="LC10" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L11" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="11"></td>
          <td id="LC11" class="blob-code blob-code-inner js-file-line"><span class=pl-s>git-filter-repo can also be used as a library for more involved filtering</span></td>
        </tr>
        <tr>
          <td id="L12" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="12"></td>
          <td id="LC12" class="blob-code blob-code-inner js-file-line"><span class=pl-s>operations; however:</span></td>
        </tr>
        <tr>
          <td id="L13" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="13"></td>
          <td id="LC13" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  ***** API BACKWARD COMPATIBILITY CAVEAT *****</span></td>
        </tr>
        <tr>
          <td id="L14" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="14"></td>
          <td id="LC14" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  Programs using git-filter-repo as a library can reach pretty far into its</span></td>
        </tr>
        <tr>
          <td id="L15" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="15"></td>
          <td id="LC15" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  internals, but I am not prepared to guarantee backward compatibility of</span></td>
        </tr>
        <tr>
          <td id="L16" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="16"></td>
          <td id="LC16" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  all APIs.  I suspect changes will be rare, but I reserve the right to</span></td>
        </tr>
        <tr>
          <td id="L17" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="17"></td>
          <td id="LC17" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  change any API.  Since it is assumed that repository filtering is</span></td>
        </tr>
        <tr>
          <td id="L18" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="18"></td>
          <td id="LC18" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  something one would do very rarely, and in particular that it&#39;s a</span></td>
        </tr>
        <tr>
          <td id="L19" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="19"></td>
          <td id="LC19" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  one-shot operation, this should not be a problem in practice for anyone.</span></td>
        </tr>
        <tr>
          <td id="L20" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="20"></td>
          <td id="LC20" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  However, if you want to re-use a program you have written that uses</span></td>
        </tr>
        <tr>
          <td id="L21" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="21"></td>
          <td id="LC21" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  git-filter-repo as a library (or makes use of one of its --*-callback</span></td>
        </tr>
        <tr>
          <td id="L22" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="22"></td>
          <td id="LC22" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  arguments), you should either make sure you are using the same version of</span></td>
        </tr>
        <tr>
          <td id="L23" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="23"></td>
          <td id="LC23" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  git and git-filter-repo, or make sure to re-test it.</span></td>
        </tr>
        <tr>
          <td id="L24" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="24"></td>
          <td id="LC24" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L25" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="25"></td>
          <td id="LC25" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  If there are particular pieces of the API you are concerned about, and</span></td>
        </tr>
        <tr>
          <td id="L26" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="26"></td>
          <td id="LC26" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  there is not already a testcase for it in t9391-lib-usage.sh or</span></td>
        </tr>
        <tr>
          <td id="L27" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="27"></td>
          <td id="LC27" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  t9392-python-callback.sh, please contribute a testcase.  That will not</span></td>
        </tr>
        <tr>
          <td id="L28" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="28"></td>
          <td id="LC28" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  prevent me from changing the API, but it will allow you to look at the</span></td>
        </tr>
        <tr>
          <td id="L29" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="29"></td>
          <td id="LC29" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  history of a testcase to see whether and how the API changed.</span></td>
        </tr>
        <tr>
          <td id="L30" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="30"></td>
          <td id="LC30" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  ***** END API BACKWARD COMPATIBILITY CAVEAT *****</span></td>
        </tr>
        <tr>
          <td id="L31" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="31"></td>
          <td id="LC31" class="blob-code blob-code-inner js-file-line"><span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L32" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="32"></td>
          <td id="LC32" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L33" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="33"></td>
          <td id="LC33" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>argparse</span></td>
        </tr>
        <tr>
          <td id="L34" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="34"></td>
          <td id="LC34" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>collections</span></td>
        </tr>
        <tr>
          <td id="L35" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="35"></td>
          <td id="LC35" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>fnmatch</span></td>
        </tr>
        <tr>
          <td id="L36" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="36"></td>
          <td id="LC36" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>gettext</span></td>
        </tr>
        <tr>
          <td id="L37" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="37"></td>
          <td id="LC37" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>io</span></td>
        </tr>
        <tr>
          <td id="L38" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="38"></td>
          <td id="LC38" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>os</span></td>
        </tr>
        <tr>
          <td id="L39" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="39"></td>
          <td id="LC39" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>platform</span></td>
        </tr>
        <tr>
          <td id="L40" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="40"></td>
          <td id="LC40" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>re</span></td>
        </tr>
        <tr>
          <td id="L41" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="41"></td>
          <td id="LC41" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>shutil</span></td>
        </tr>
        <tr>
          <td id="L42" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="42"></td>
          <td id="LC42" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>subprocess</span></td>
        </tr>
        <tr>
          <td id="L43" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="43"></td>
          <td id="LC43" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>sys</span></td>
        </tr>
        <tr>
          <td id="L44" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="44"></td>
          <td id="LC44" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>time</span></td>
        </tr>
        <tr>
          <td id="L45" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="45"></td>
          <td id="LC45" class="blob-code blob-code-inner js-file-line"><span class=pl-k>import</span> <span class=pl-s1>textwrap</span></td>
        </tr>
        <tr>
          <td id="L46" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="46"></td>
          <td id="LC46" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L47" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="47"></td>
          <td id="LC47" class="blob-code blob-code-inner js-file-line"><span class=pl-k>from</span> <span class=pl-s1>datetime</span> <span class=pl-k>import</span> <span class=pl-s1>tzinfo</span>, <span class=pl-s1>timedelta</span>, <span class=pl-s1>datetime</span></td>
        </tr>
        <tr>
          <td id="L48" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="48"></td>
          <td id="LC48" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L49" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="49"></td>
          <td id="LC49" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>__all__</span> <span class=pl-c1>=</span> [<span class=pl-s>&quot;Blob&quot;</span>, <span class=pl-s>&quot;Reset&quot;</span>, <span class=pl-s>&quot;FileChange&quot;</span>, <span class=pl-s>&quot;Commit&quot;</span>, <span class=pl-s>&quot;Tag&quot;</span>, <span class=pl-s>&quot;Progress&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L50" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="50"></td>
          <td id="LC50" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&quot;Checkpoint&quot;</span>, <span class=pl-s>&quot;FastExportParser&quot;</span>, <span class=pl-s>&quot;ProgressWriter&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L51" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="51"></td>
          <td id="LC51" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&quot;string_to_date&quot;</span>, <span class=pl-s>&quot;date_to_string&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L52" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="52"></td>
          <td id="LC52" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&quot;record_id_rename&quot;</span>, <span class=pl-s>&quot;GitUtils&quot;</span>, <span class=pl-s>&quot;FilteringOptions&quot;</span>, <span class=pl-s>&quot;RepoFilter&quot;</span>]</td>
        </tr>
        <tr>
          <td id="L53" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="53"></td>
          <td id="LC53" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L54" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="54"></td>
          <td id="LC54" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>deleted_hash</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;0&#39;</span><span class=pl-c1>*</span><span class=pl-c1>40</span></td>
        </tr>
        <tr>
          <td id="L55" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="55"></td>
          <td id="LC55" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>write_marks</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L56" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="56"></td>
          <td id="LC56" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>date_format_permissive</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L57" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="57"></td>
          <td id="LC57" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L58" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="58"></td>
          <td id="LC58" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>gettext_poison</span>(<span class=pl-s1>msg</span>):</td>
        </tr>
        <tr>
          <td id="L59" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="59"></td>
          <td id="LC59" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>if</span> <span class=pl-s>&quot;GIT_TEST_GETTEXT_POISON&quot;</span> <span class=pl-c1>in</span> <span class=pl-s1>os</span>.<span class=pl-s1>environ</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L60" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="60"></td>
          <td id="LC60" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s>&quot;# GETTEXT POISON #&quot;</span></td>
        </tr>
        <tr>
          <td id="L61" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="61"></td>
          <td id="LC61" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-s1>gettext</span>.<span class=pl-en>gettext</span>(<span class=pl-s1>msg</span>)</td>
        </tr>
        <tr>
          <td id="L62" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="62"></td>
          <td id="LC62" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L63" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="63"></td>
          <td id="LC63" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>_</span> <span class=pl-c1>=</span> <span class=pl-s1>gettext_poison</span></td>
        </tr>
        <tr>
          <td id="L64" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="64"></td>
          <td id="LC64" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L65" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="65"></td>
          <td id="LC65" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>setup_gettext</span>():</td>
        </tr>
        <tr>
          <td id="L66" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="66"></td>
          <td id="LC66" class="blob-code blob-code-inner js-file-line">  <span class=pl-v>TEXTDOMAIN</span><span class=pl-c1>=</span><span class=pl-s>&quot;git-filter-repo&quot;</span></td>
        </tr>
        <tr>
          <td id="L67" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="67"></td>
          <td id="LC67" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>podir</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>environ</span>.<span class=pl-en>get</span>(<span class=pl-s>&quot;GIT_TEXTDOMAINDIR&quot;</span>) <span class=pl-c1>or</span> <span class=pl-s>&quot;@@LOCALEDIR@@&quot;</span></td>
        </tr>
        <tr>
          <td id="L68" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="68"></td>
          <td id="LC68" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isdir</span>(<span class=pl-s1>podir</span>): <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L69" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="69"></td>
          <td id="LC69" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>podir</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>  <span class=pl-c># Python has its own fallback; use that</span></td>
        </tr>
        <tr>
          <td id="L70" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="70"></td>
          <td id="LC70" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L71" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="71"></td>
          <td id="LC71" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>## This looks like the most straightforward translation of the relevant</span></td>
        </tr>
        <tr>
          <td id="L72" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="72"></td>
          <td id="LC72" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>## code in git.git:gettext.c and git.git:perl/Git/I18n.pm:</span></td>
        </tr>
        <tr>
          <td id="L73" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="73"></td>
          <td id="LC73" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>#import locale</span></td>
        </tr>
        <tr>
          <td id="L74" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="74"></td>
          <td id="LC74" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>#locale.setlocale(locale.LC_MESSAGES, &quot;&quot;);</span></td>
        </tr>
        <tr>
          <td id="L75" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="75"></td>
          <td id="LC75" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>#locale.setlocale(locale.LC_TIME, &quot;&quot;);</span></td>
        </tr>
        <tr>
          <td id="L76" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="76"></td>
          <td id="LC76" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>#locale.textdomain(TEXTDOMAIN);</span></td>
        </tr>
        <tr>
          <td id="L77" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="77"></td>
          <td id="LC77" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>#locale.bindtextdomain(TEXTDOMAIN, podir);</span></td>
        </tr>
        <tr>
          <td id="L78" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="78"></td>
          <td id="LC78" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>## but the python docs suggest using the gettext module (which doesn&#39;t</span></td>
        </tr>
        <tr>
          <td id="L79" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="79"></td>
          <td id="LC79" class="blob-code blob-code-inner js-file-line">  <span class=pl-c>## have setlocale()) instead, so:</span></td>
        </tr>
        <tr>
          <td id="L80" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="80"></td>
          <td id="LC80" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>gettext</span>.<span class=pl-en>textdomain</span>(<span class=pl-v>TEXTDOMAIN</span>);</td>
        </tr>
        <tr>
          <td id="L81" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="81"></td>
          <td id="LC81" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>gettext</span>.<span class=pl-en>bindtextdomain</span>(<span class=pl-v>TEXTDOMAIN</span>, <span class=pl-s1>podir</span>);</td>
        </tr>
        <tr>
          <td id="L82" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="82"></td>
          <td id="LC82" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L83" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="83"></td>
          <td id="LC83" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>_timedelta_to_seconds</span>(<span class=pl-s1>delta</span>):</td>
        </tr>
        <tr>
          <td id="L84" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="84"></td>
          <td id="LC84" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L85" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="85"></td>
          <td id="LC85" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  Converts timedelta to seconds</span></td>
        </tr>
        <tr>
          <td id="L86" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="86"></td>
          <td id="LC86" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L87" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="87"></td>
          <td id="LC87" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>offset</span> <span class=pl-c1>=</span> <span class=pl-s1>delta</span>.<span class=pl-s1>days</span><span class=pl-c1>*</span><span class=pl-c1>86400</span> <span class=pl-c1>+</span> <span class=pl-s1>delta</span>.<span class=pl-s1>seconds</span> <span class=pl-c1>+</span> (<span class=pl-s1>delta</span>.<span class=pl-s1>microseconds</span><span class=pl-c1>+</span><span class=pl-c1>0.0</span>)<span class=pl-c1>/</span><span class=pl-c1>1000000</span></td>
        </tr>
        <tr>
          <td id="L88" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="88"></td>
          <td id="LC88" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-en>round</span>(<span class=pl-s1>offset</span>)</td>
        </tr>
        <tr>
          <td id="L89" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="89"></td>
          <td id="LC89" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L90" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="90"></td>
          <td id="LC90" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>FixedTimeZone</span>(<span class=pl-s1>tzinfo</span>):</td>
        </tr>
        <tr>
          <td id="L91" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="91"></td>
          <td id="LC91" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L92" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="92"></td>
          <td id="LC92" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  Fixed offset in minutes east from UTC.</span></td>
        </tr>
        <tr>
          <td id="L93" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="93"></td>
          <td id="LC93" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L94" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="94"></td>
          <td id="LC94" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L95" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="95"></td>
          <td id="LC95" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>tz_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;^([-+]?)(\d\d)(\d\d)$&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L96" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="96"></td>
          <td id="LC96" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L97" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="97"></td>
          <td id="LC97" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>offset_string</span>):</td>
        </tr>
        <tr>
          <td id="L98" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="98"></td>
          <td id="LC98" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tzinfo</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L99" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="99"></td>
          <td id="LC99" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>sign</span>, <span class=pl-s1>hh</span>, <span class=pl-s1>mm</span> <span class=pl-c1>=</span> <span class=pl-v>FixedTimeZone</span>.<span class=pl-s1>tz_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>offset_string</span>).<span class=pl-en>groups</span>()</td>
        </tr>
        <tr>
          <td id="L100" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="100"></td>
          <td id="LC100" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>factor</span> <span class=pl-c1>=</span> <span class=pl-c1>-</span><span class=pl-c1>1</span> <span class=pl-k>if</span> (<span class=pl-s1>sign</span> <span class=pl-c1>and</span> <span class=pl-s1>sign</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;-&#39;</span>) <span class=pl-k>else</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L101" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="101"></td>
          <td id="LC101" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_offset</span> <span class=pl-c1>=</span> <span class=pl-en>timedelta</span>(<span class=pl-s1>minutes</span> <span class=pl-c1>=</span> <span class=pl-s1>factor</span><span class=pl-c1>*</span>(<span class=pl-c1>60</span><span class=pl-c1>*</span><span class=pl-en>int</span>(<span class=pl-s1>hh</span>) <span class=pl-c1>+</span> <span class=pl-en>int</span>(<span class=pl-s1>mm</span>)))</td>
        </tr>
        <tr>
          <td id="L102" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="102"></td>
          <td id="LC102" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_offset_string</span> <span class=pl-c1>=</span> <span class=pl-s1>offset_string</span></td>
        </tr>
        <tr>
          <td id="L103" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="103"></td>
          <td id="LC103" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L104" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="104"></td>
          <td id="LC104" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>utcoffset</span>(<span class=pl-s1>self</span>, <span class=pl-s1>dt</span>):</td>
        </tr>
        <tr>
          <td id="L105" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="105"></td>
          <td id="LC105" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_offset</span></td>
        </tr>
        <tr>
          <td id="L106" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="106"></td>
          <td id="LC106" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L107" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="107"></td>
          <td id="LC107" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>tzname</span>(<span class=pl-s1>self</span>, <span class=pl-s1>dt</span>):</td>
        </tr>
        <tr>
          <td id="L108" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="108"></td>
          <td id="LC108" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_offset_string</span></td>
        </tr>
        <tr>
          <td id="L109" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="109"></td>
          <td id="LC109" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L110" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="110"></td>
          <td id="LC110" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dst</span>(<span class=pl-s1>self</span>, <span class=pl-s1>dt</span>):</td>
        </tr>
        <tr>
          <td id="L111" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="111"></td>
          <td id="LC111" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-en>timedelta</span>(<span class=pl-c1>0</span>)</td>
        </tr>
        <tr>
          <td id="L112" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="112"></td>
          <td id="LC112" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L113" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="113"></td>
          <td id="LC113" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>string_to_date</span>(<span class=pl-s1>datestring</span>):</td>
        </tr>
        <tr>
          <td id="L114" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="114"></td>
          <td id="LC114" class="blob-code blob-code-inner js-file-line">  (<span class=pl-s1>unix_timestamp</span>, <span class=pl-s1>tz_offset</span>) <span class=pl-c1>=</span> <span class=pl-s1>datestring</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L115" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="115"></td>
          <td id="LC115" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-s1>datetime</span>.<span class=pl-en>fromtimestamp</span>(<span class=pl-en>int</span>(<span class=pl-s1>unix_timestamp</span>),</td>
        </tr>
        <tr>
          <td id="L116" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="116"></td>
          <td id="LC116" class="blob-code blob-code-inner js-file-line">                                <span class=pl-v>FixedTimeZone</span>(<span class=pl-s1>tz_offset</span>))</td>
        </tr>
        <tr>
          <td id="L117" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="117"></td>
          <td id="LC117" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L118" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="118"></td>
          <td id="LC118" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>date_to_string</span>(<span class=pl-s1>dateobj</span>):</td>
        </tr>
        <tr>
          <td id="L119" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="119"></td>
          <td id="LC119" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>epoch</span> <span class=pl-c1>=</span> <span class=pl-s1>datetime</span>.<span class=pl-en>fromtimestamp</span>(<span class=pl-c1>0</span>, <span class=pl-s1>dateobj</span>.<span class=pl-s1>tzinfo</span>)</td>
        </tr>
        <tr>
          <td id="L120" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="120"></td>
          <td id="LC120" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span>(<span class=pl-s>b&#39;%d %s&#39;</span> <span class=pl-c1>%</span> (<span class=pl-en>int</span>(<span class=pl-en>_timedelta_to_seconds</span>(<span class=pl-s1>dateobj</span> <span class=pl-c1>-</span> <span class=pl-s1>epoch</span>)),</td>
        </tr>
        <tr>
          <td id="L121" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="121"></td>
          <td id="LC121" class="blob-code blob-code-inner js-file-line">                     <span class=pl-s1>dateobj</span>.<span class=pl-s1>tzinfo</span>.<span class=pl-en>tzname</span>(<span class=pl-c1>0</span>)))</td>
        </tr>
        <tr>
          <td id="L122" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="122"></td>
          <td id="LC122" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L123" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="123"></td>
          <td id="LC123" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>decode</span>(<span class=pl-s1>bytestr</span>):</td>
        </tr>
        <tr>
          <td id="L124" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="124"></td>
          <td id="LC124" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&#39;Try to convert bytestr to utf-8 for outputting as an error message.&#39;</span></td>
        </tr>
        <tr>
          <td id="L125" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="125"></td>
          <td id="LC125" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-s1>bytestr</span>.<span class=pl-en>decode</span>(<span class=pl-s>&#39;utf-8&#39;</span>, <span class=pl-s>&#39;backslashreplace&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L126" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="126"></td>
          <td id="LC126" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L127" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="127"></td>
          <td id="LC127" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>glob_to_regex</span>(<span class=pl-s1>glob_bytestr</span>):</td>
        </tr>
        <tr>
          <td id="L128" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="128"></td>
          <td id="LC128" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&#39;Translate glob_bytestr into a regex on bytestrings&#39;</span></td>
        </tr>
        <tr>
          <td id="L129" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="129"></td>
          <td id="LC129" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L130" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="130"></td>
          <td id="LC130" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># fnmatch.translate is idiotic and won&#39;t accept bytestrings</span></td>
        </tr>
        <tr>
          <td id="L131" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="131"></td>
          <td id="LC131" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>if</span> (<span class=pl-en>decode</span>(<span class=pl-s1>glob_bytestr</span>).<span class=pl-en>encode</span>() <span class=pl-c1>!=</span> <span class=pl-s1>glob_bytestr</span>): <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L132" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="132"></td>
          <td id="LC132" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: Cannot handle glob %s&quot;</span>).<span class=pl-en>format</span>(<span class=pl-s1>glob_bytestr</span>))</td>
        </tr>
        <tr>
          <td id="L133" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="133"></td>
          <td id="LC133" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L134" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="134"></td>
          <td id="LC134" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># Create regex operating on string</span></td>
        </tr>
        <tr>
          <td id="L135" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="135"></td>
          <td id="LC135" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-s1>fnmatch</span>.<span class=pl-en>translate</span>(<span class=pl-en>decode</span>(<span class=pl-s1>glob_bytestr</span>))</td>
        </tr>
        <tr>
          <td id="L136" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="136"></td>
          <td id="LC136" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L137" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="137"></td>
          <td id="LC137" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># FIXME: This is an ugly hack...</span></td>
        </tr>
        <tr>
          <td id="L138" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="138"></td>
          <td id="LC138" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># fnmatch.translate tries to do multi-line matching and wants the glob to</span></td>
        </tr>
        <tr>
          <td id="L139" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="139"></td>
          <td id="LC139" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># match up to the end of the input, which isn&#39;t relevant for us, so we</span></td>
        </tr>
        <tr>
          <td id="L140" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="140"></td>
          <td id="LC140" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># have to modify the regex.  fnmatch.translate has used different regex</span></td>
        </tr>
        <tr>
          <td id="L141" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="141"></td>
          <td id="LC141" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># constructs to achieve this with different python versions, so we have</span></td>
        </tr>
        <tr>
          <td id="L142" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="142"></td>
          <td id="LC142" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># to check for each of them and then fix it up.  It would be much better</span></td>
        </tr>
        <tr>
          <td id="L143" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="143"></td>
          <td id="LC143" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># if fnmatch.translate could just take some flags to allow us to specify</span></td>
        </tr>
        <tr>
          <td id="L144" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="144"></td>
          <td id="LC144" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># what we want rather than employing this hackery, but since it</span></td>
        </tr>
        <tr>
          <td id="L145" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="145"></td>
          <td id="LC145" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># doesn&#39;t...</span></td>
        </tr>
        <tr>
          <td id="L146" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="146"></td>
          <td id="LC146" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>if</span> <span class=pl-s1>regex</span>.<span class=pl-en>endswith</span>(<span class=pl-s>r&#39;\Z(?ms)&#39;</span>): <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L147" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="147"></td>
          <td id="LC147" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-s1>regex</span>[<span class=pl-c1>0</span>:<span class=pl-c1>-</span><span class=pl-c1>7</span>]</td>
        </tr>
        <tr>
          <td id="L148" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="148"></td>
          <td id="LC148" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>elif</span> <span class=pl-s1>regex</span>.<span class=pl-en>startswith</span>(<span class=pl-s>r&#39;(?s:&#39;</span>) <span class=pl-c1>and</span> <span class=pl-s1>regex</span>.<span class=pl-en>endswith</span>(<span class=pl-s>r&#39;)\Z&#39;</span>): <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L149" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="149"></td>
          <td id="LC149" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-s1>regex</span>[<span class=pl-c1>4</span>:<span class=pl-c1>-</span><span class=pl-c1>3</span>]</td>
        </tr>
        <tr>
          <td id="L150" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="150"></td>
          <td id="LC150" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L151" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="151"></td>
          <td id="LC151" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># Finally, convert back to regex operating on bytestr</span></td>
        </tr>
        <tr>
          <td id="L152" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="152"></td>
          <td id="LC152" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>return</span> <span class=pl-s1>regex</span>.<span class=pl-en>encode</span>()</td>
        </tr>
        <tr>
          <td id="L153" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="153"></td>
          <td id="LC153" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L154" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="154"></td>
          <td id="LC154" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>PathQuoting</span>:</td>
        </tr>
        <tr>
          <td id="L155" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="155"></td>
          <td id="LC155" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_unescape</span> <span class=pl-c1>=</span> {<span class=pl-s>b&#39;a&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\a</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L156" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="156"></td>
          <td id="LC156" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;b&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\b</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L157" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="157"></td>
          <td id="LC157" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;f&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\f</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L158" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="158"></td>
          <td id="LC158" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;n&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L159" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="159"></td>
          <td id="LC159" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;r&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\r</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L160" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="160"></td>
          <td id="LC160" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;t&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\t</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L161" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="161"></td>
          <td id="LC161" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;v&#39;</span>: <span class=pl-s>b&#39;<span class=pl-cce>\v</span>&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L162" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="162"></td>
          <td id="LC162" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;&quot;&#39;</span>: <span class=pl-s>b&#39;&quot;&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L163" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="163"></td>
          <td id="LC163" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>b&#39;<span class=pl-cce>\\</span>&#39;</span>:<span class=pl-s>b&#39;<span class=pl-cce>\\</span>&#39;</span>}</td>
        </tr>
        <tr>
          <td id="L164" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="164"></td>
          <td id="LC164" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_unescape_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;\\([a-z&quot;\\]|[0-9]{3})&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L165" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="165"></td>
          <td id="LC165" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_escape</span> <span class=pl-c1>=</span> [<span class=pl-en>bytes</span>([<span class=pl-s1>x</span>]) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-en>range</span>(<span class=pl-c1>127</span>)]<span class=pl-c1>+</span>[</td>
        </tr>
        <tr>
          <td id="L166" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="166"></td>
          <td id="LC166" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>b&#39;<span class=pl-cce>\\</span>&#39;</span><span class=pl-c1>+</span><span class=pl-en>bytes</span>(<span class=pl-en>ord</span>(<span class=pl-s1>c</span>) <span class=pl-k>for</span> <span class=pl-s1>c</span> <span class=pl-c1>in</span> <span class=pl-en>oct</span>(<span class=pl-s1>x</span>)[<span class=pl-c1>2</span>:]) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-en>range</span>(<span class=pl-c1>127</span>,<span class=pl-c1>256</span>)]</td>
        </tr>
        <tr>
          <td id="L167" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="167"></td>
          <td id="LC167" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_reverse</span> <span class=pl-c1>=</span> <span class=pl-en>dict</span>(<span class=pl-en>map</span>(<span class=pl-s1>reversed</span>, <span class=pl-s1>_unescape</span>.<span class=pl-en>items</span>()))</td>
        </tr>
        <tr>
          <td id="L168" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="168"></td>
          <td id="LC168" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>_reverse</span>:</td>
        </tr>
        <tr>
          <td id="L169" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="169"></td>
          <td id="LC169" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_escape</span>[<span class=pl-en>ord</span>(<span class=pl-s1>x</span>)] <span class=pl-c1>=</span> <span class=pl-s>b&#39;<span class=pl-cce>\\</span>&#39;</span><span class=pl-c1>+</span><span class=pl-s1>_reverse</span>[<span class=pl-s1>x</span>]</td>
        </tr>
        <tr>
          <td id="L170" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="170"></td>
          <td id="LC170" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_special_chars</span> <span class=pl-c1>=</span> [<span class=pl-en>len</span>(<span class=pl-s1>x</span>) <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>_escape</span>]</td>
        </tr>
        <tr>
          <td id="L171" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="171"></td>
          <td id="LC171" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L172" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="172"></td>
          <td id="LC172" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L173" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="173"></td>
          <td id="LC173" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>unescape_sequence</span>(<span class=pl-s1>orig</span>):</td>
        </tr>
        <tr>
          <td id="L174" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="174"></td>
          <td id="LC174" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>seq</span> <span class=pl-c1>=</span> <span class=pl-s1>orig</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L175" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="175"></td>
          <td id="LC175" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>PathQuoting</span>.<span class=pl-s1>_unescape</span>[<span class=pl-s1>seq</span>] <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>seq</span>) <span class=pl-c1>==</span> <span class=pl-c1>1</span> <span class=pl-k>else</span> <span class=pl-en>bytes</span>([<span class=pl-en>int</span>(<span class=pl-s1>seq</span>, <span class=pl-c1>8</span>)])</td>
        </tr>
        <tr>
          <td id="L176" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="176"></td>
          <td id="LC176" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L177" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="177"></td>
          <td id="LC177" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L178" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="178"></td>
          <td id="LC178" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dequote</span>(<span class=pl-s1>quoted_string</span>):</td>
        </tr>
        <tr>
          <td id="L179" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="179"></td>
          <td id="LC179" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>quoted_string</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L180" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="180"></td>
          <td id="LC180" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>quoted_string</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L181" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="181"></td>
          <td id="LC181" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-v>PathQuoting</span>.<span class=pl-s1>_unescape_re</span>.<span class=pl-en>sub</span>(<span class=pl-v>PathQuoting</span>.<span class=pl-s1>unescape_sequence</span>,</td>
        </tr>
        <tr>
          <td id="L182" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="182"></td>
          <td id="LC182" class="blob-code blob-code-inner js-file-line">                                          <span class=pl-s1>quoted_string</span>[<span class=pl-c1>1</span>:<span class=pl-c1>-</span><span class=pl-c1>1</span>])</td>
        </tr>
        <tr>
          <td id="L183" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="183"></td>
          <td id="LC183" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>quoted_string</span></td>
        </tr>
        <tr>
          <td id="L184" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="184"></td>
          <td id="LC184" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L185" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="185"></td>
          <td id="LC185" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L186" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="186"></td>
          <td id="LC186" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>enquote</span>(<span class=pl-s1>unquoted_string</span>):</td>
        </tr>
        <tr>
          <td id="L187" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="187"></td>
          <td id="LC187" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Option 1: Quoting when fast-export would:</span></td>
        </tr>
        <tr>
          <td id="L188" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="188"></td>
          <td id="LC188" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#    pqsc = PathQuoting._special_chars</span></td>
        </tr>
        <tr>
          <td id="L189" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="189"></td>
          <td id="LC189" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#    if any(pqsc[x] for x in set(unquoted_string)):</span></td>
        </tr>
        <tr>
          <td id="L190" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="190"></td>
          <td id="LC190" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Option 2, perf hack: do minimal amount of quoting required by fast-import</span></td>
        </tr>
        <tr>
          <td id="L191" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="191"></td>
          <td id="LC191" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>unquoted_string</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>) <span class=pl-c1>or</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>unquoted_string</span>:</td>
        </tr>
        <tr>
          <td id="L192" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="192"></td>
          <td id="LC192" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>pqe</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-s1>_escape</span></td>
        </tr>
        <tr>
          <td id="L193" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="193"></td>
          <td id="LC193" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s>b&#39;&quot;&#39;</span> <span class=pl-c1>+</span> <span class=pl-s>b&#39;&#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>pqe</span>[<span class=pl-s1>x</span>] <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>unquoted_string</span>) <span class=pl-c1>+</span> <span class=pl-s>b&#39;&quot;&#39;</span></td>
        </tr>
        <tr>
          <td id="L194" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="194"></td>
          <td id="LC194" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>unquoted_string</span></td>
        </tr>
        <tr>
          <td id="L195" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="195"></td>
          <td id="LC195" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L196" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="196"></td>
          <td id="LC196" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>AncestryGraph</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L197" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="197"></td>
          <td id="LC197" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L198" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="198"></td>
          <td id="LC198" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  A class that maintains a direct acycle graph of commits for the purpose of</span></td>
        </tr>
        <tr>
          <td id="L199" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="199"></td>
          <td id="LC199" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  determining if one commit is the ancestor of another.</span></td>
        </tr>
        <tr>
          <td id="L200" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="200"></td>
          <td id="LC200" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L201" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="201"></td>
          <td id="LC201" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L202" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="202"></td>
          <td id="LC202" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L203" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="203"></td>
          <td id="LC203" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L204" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="204"></td>
          <td id="LC204" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L205" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="205"></td>
          <td id="LC205" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A mapping from the external identifers given to us to the simple integers</span></td>
        </tr>
        <tr>
          <td id="L206" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="206"></td>
          <td id="LC206" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># we use in self.graph</span></td>
        </tr>
        <tr>
          <td id="L207" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="207"></td>
          <td id="LC207" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>value</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L208" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="208"></td>
          <td id="LC208" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L209" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="209"></td>
          <td id="LC209" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A tuple of (depth, list-of-ancestors).  Values and keys in this graph are</span></td>
        </tr>
        <tr>
          <td id="L210" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="210"></td>
          <td id="LC210" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># all integers from the self.value dict.  The depth of a commit is one more</span></td>
        </tr>
        <tr>
          <td id="L211" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="211"></td>
          <td id="LC211" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># than the max depth of any of its ancestors.</span></td>
        </tr>
        <tr>
          <td id="L212" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="212"></td>
          <td id="LC212" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>graph</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L213" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="213"></td>
          <td id="LC213" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L214" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="214"></td>
          <td id="LC214" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Cached results from previous calls to is_ancestor().</span></td>
        </tr>
        <tr>
          <td id="L215" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="215"></td>
          <td id="LC215" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L216" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="216"></td>
          <td id="LC216" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L217" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="217"></td>
          <td id="LC217" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>record_external_commits</span>(<span class=pl-s1>self</span>, <span class=pl-s1>external_commits</span>):</td>
        </tr>
        <tr>
          <td id="L218" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="218"></td>
          <td id="LC218" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L219" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="219"></td>
          <td id="LC219" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Record in graph that each commit in external_commits exists, and is</span></td>
        </tr>
        <tr>
          <td id="L220" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="220"></td>
          <td id="LC220" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    treated as a root commit with no parents.</span></td>
        </tr>
        <tr>
          <td id="L221" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="221"></td>
          <td id="LC221" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L222" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="222"></td>
          <td id="LC222" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>c</span> <span class=pl-c1>in</span> <span class=pl-s1>external_commits</span>:</td>
        </tr>
        <tr>
          <td id="L223" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="223"></td>
          <td id="LC223" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>c</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>value</span>:</td>
        </tr>
        <tr>
          <td id="L224" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="224"></td>
          <td id="LC224" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L225" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="225"></td>
          <td id="LC225" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>value</span>[<span class=pl-s1>c</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span></td>
        </tr>
        <tr>
          <td id="L226" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="226"></td>
          <td id="LC226" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>graph</span>[<span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span>] <span class=pl-c1>=</span> (<span class=pl-c1>1</span>, [])</td>
        </tr>
        <tr>
          <td id="L227" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="227"></td>
          <td id="LC227" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L228" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="228"></td>
          <td id="LC228" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>add_commit_and_parents</span>(<span class=pl-s1>self</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>parents</span>):</td>
        </tr>
        <tr>
          <td id="L229" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="229"></td>
          <td id="LC229" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L230" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="230"></td>
          <td id="LC230" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Record in graph that commit has the given parents.  parents _MUST_ have</span></td>
        </tr>
        <tr>
          <td id="L231" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="231"></td>
          <td id="LC231" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    been first recorded.  commit _MUST_ not have been recorded yet.</span></td>
        </tr>
        <tr>
          <td id="L232" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="232"></td>
          <td id="LC232" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L233" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="233"></td>
          <td id="LC233" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-en>all</span>(<span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>value</span> <span class=pl-k>for</span> <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L234" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="234"></td>
          <td id="LC234" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>commit</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>value</span></td>
        </tr>
        <tr>
          <td id="L235" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="235"></td>
          <td id="LC235" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L236" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="236"></td>
          <td id="LC236" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Get values for commit and parents</span></td>
        </tr>
        <tr>
          <td id="L237" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="237"></td>
          <td id="LC237" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L238" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="238"></td>
          <td id="LC238" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>value</span>[<span class=pl-s1>commit</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span></td>
        </tr>
        <tr>
          <td id="L239" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="239"></td>
          <td id="LC239" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>graph_parents</span> <span class=pl-c1>=</span> [<span class=pl-s1>self</span>.<span class=pl-s1>value</span>[<span class=pl-s1>x</span>] <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>parents</span>]</td>
        </tr>
        <tr>
          <td id="L240" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="240"></td>
          <td id="LC240" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L241" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="241"></td>
          <td id="LC241" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Determine depth for commit, then insert the info into the graph</span></td>
        </tr>
        <tr>
          <td id="L242" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="242"></td>
          <td id="LC242" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>depth</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L243" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="243"></td>
          <td id="LC243" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>parents</span>:</td>
        </tr>
        <tr>
          <td id="L244" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="244"></td>
          <td id="LC244" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>depth</span> <span class=pl-c1>+=</span> <span class=pl-en>max</span>(<span class=pl-s1>self</span>.<span class=pl-s1>graph</span>[<span class=pl-s1>p</span>][<span class=pl-c1>0</span>] <span class=pl-k>for</span> <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>graph_parents</span>)</td>
        </tr>
        <tr>
          <td id="L245" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="245"></td>
          <td id="LC245" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>graph</span>[<span class=pl-s1>self</span>.<span class=pl-s1>cur_value</span>] <span class=pl-c1>=</span> (<span class=pl-s1>depth</span>, <span class=pl-s1>graph_parents</span>)</td>
        </tr>
        <tr>
          <td id="L246" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="246"></td>
          <td id="LC246" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L247" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="247"></td>
          <td id="LC247" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>is_ancestor</span>(<span class=pl-s1>self</span>, <span class=pl-s1>possible_ancestor</span>, <span class=pl-s1>check</span>):</td>
        </tr>
        <tr>
          <td id="L248" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="248"></td>
          <td id="LC248" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L249" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="249"></td>
          <td id="LC249" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return whether possible_ancestor is an ancestor of check</span></td>
        </tr>
        <tr>
          <td id="L250" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="250"></td>
          <td id="LC250" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L251" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="251"></td>
          <td id="LC251" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>a</span>, <span class=pl-s1>b</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>value</span>[<span class=pl-s1>possible_ancestor</span>], <span class=pl-s1>self</span>.<span class=pl-s1>value</span>[<span class=pl-s1>check</span>]</td>
        </tr>
        <tr>
          <td id="L252" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="252"></td>
          <td id="LC252" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>original_pair</span> <span class=pl-c1>=</span> (<span class=pl-s1>a</span>,<span class=pl-s1>b</span>)</td>
        </tr>
        <tr>
          <td id="L253" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="253"></td>
          <td id="LC253" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>a_depth</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>graph</span>[<span class=pl-s1>a</span>][<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L254" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="254"></td>
          <td id="LC254" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ancestors</span> <span class=pl-c1>=</span> [<span class=pl-s1>b</span>]</td>
        </tr>
        <tr>
          <td id="L255" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="255"></td>
          <td id="LC255" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>visited</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L256" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="256"></td>
          <td id="LC256" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>ancestors</span>:</td>
        </tr>
        <tr>
          <td id="L257" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="257"></td>
          <td id="LC257" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>ancestor</span> <span class=pl-c1>=</span> <span class=pl-s1>ancestors</span>.<span class=pl-en>pop</span>()</td>
        </tr>
        <tr>
          <td id="L258" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="258"></td>
          <td id="LC258" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>prev_pair</span> <span class=pl-c1>=</span> (<span class=pl-s1>a</span>, <span class=pl-s1>ancestor</span>)</td>
        </tr>
        <tr>
          <td id="L259" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="259"></td>
          <td id="LC259" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>prev_pair</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span>:</td>
        </tr>
        <tr>
          <td id="L260" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="260"></td>
          <td id="LC260" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span>[<span class=pl-s1>prev_pair</span>]:</td>
        </tr>
        <tr>
          <td id="L261" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="261"></td>
          <td id="LC261" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L262" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="262"></td>
          <td id="LC262" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span>[<span class=pl-s1>original_pair</span>] <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L263" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="263"></td>
          <td id="LC263" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L264" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="264"></td>
          <td id="LC264" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>ancestor</span> <span class=pl-c1>in</span> <span class=pl-s1>visited</span>:</td>
        </tr>
        <tr>
          <td id="L265" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="265"></td>
          <td id="LC265" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L266" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="266"></td>
          <td id="LC266" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>visited</span>.<span class=pl-en>add</span>(<span class=pl-s1>ancestor</span>)</td>
        </tr>
        <tr>
          <td id="L267" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="267"></td>
          <td id="LC267" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>depth</span>, <span class=pl-s1>more_ancestors</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>graph</span>[<span class=pl-s1>ancestor</span>]</td>
        </tr>
        <tr>
          <td id="L268" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="268"></td>
          <td id="LC268" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>ancestor</span> <span class=pl-c1>==</span> <span class=pl-s1>a</span>:</td>
        </tr>
        <tr>
          <td id="L269" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="269"></td>
          <td id="LC269" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span>[<span class=pl-s1>original_pair</span>] <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L270" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="270"></td>
          <td id="LC270" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L271" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="271"></td>
          <td id="LC271" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>depth</span> <span class=pl-c1>&lt;=</span> <span class=pl-s1>a_depth</span>:</td>
        </tr>
        <tr>
          <td id="L272" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="272"></td>
          <td id="LC272" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L273" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="273"></td>
          <td id="LC273" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>ancestors</span>.<span class=pl-en>extend</span>(<span class=pl-s1>more_ancestors</span>)</td>
        </tr>
        <tr>
          <td id="L274" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="274"></td>
          <td id="LC274" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_cached_is_ancestor</span>[<span class=pl-s1>original_pair</span>] <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L275" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="275"></td>
          <td id="LC275" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L276" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="276"></td>
          <td id="LC276" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L277" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="277"></td>
          <td id="LC277" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>MailmapInfo</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L278" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="278"></td>
          <td id="LC278" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>filename</span>):</td>
        </tr>
        <tr>
          <td id="L279" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="279"></td>
          <td id="LC279" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>changes</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L280" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="280"></td>
          <td id="LC280" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_parse_file</span>(<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L281" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="281"></td>
          <td id="LC281" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L282" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="282"></td>
          <td id="LC282" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_file</span>(<span class=pl-s1>self</span>, <span class=pl-s1>filename</span>):</td>
        </tr>
        <tr>
          <td id="L283" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="283"></td>
          <td id="LC283" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>name_and_email_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;(.*?)\s*&lt;([^&gt;]*)&gt;\s*&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L284" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="284"></td>
          <td id="LC284" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>comment_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;\s*#.*&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L285" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="285"></td>
          <td id="LC285" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>os</span>.<span class=pl-en>access</span>(<span class=pl-s1>filename</span>, <span class=pl-s1>os</span>.<span class=pl-v>R_OK</span>):</td>
        </tr>
        <tr>
          <td id="L286" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="286"></td>
          <td id="LC286" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Cannot read %s&quot;</span>) <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>filename</span>))</td>
        </tr>
        <tr>
          <td id="L287" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="287"></td>
          <td id="LC287" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>filename</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L288" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="288"></td>
          <td id="LC288" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>count</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L289" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="289"></td>
          <td id="LC289" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L290" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="290"></td>
          <td id="LC290" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>count</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L291" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="291"></td>
          <td id="LC291" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>err</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;Unparseable mailmap file: line #{} is bad: {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>count</span>, <span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L292" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="292"></td>
          <td id="LC292" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Remove comments</span></td>
        </tr>
        <tr>
          <td id="L293" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="293"></td>
          <td id="LC293" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>comment_re</span>.<span class=pl-en>sub</span>(<span class=pl-s>b&#39;&#39;</span>, <span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L294" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="294"></td>
          <td id="LC294" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Remove leading and trailing whitespace</span></td>
        </tr>
        <tr>
          <td id="L295" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="295"></td>
          <td id="LC295" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L296" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="296"></td>
          <td id="LC296" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L297" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="297"></td>
          <td id="LC297" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L298" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="298"></td>
          <td id="LC298" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L299" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="299"></td>
          <td id="LC299" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>m</span> <span class=pl-c1>=</span> <span class=pl-s1>name_and_email_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L300" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="300"></td>
          <td id="LC300" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>m</span>:</td>
        </tr>
        <tr>
          <td id="L301" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="301"></td>
          <td id="LC301" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-s1>err</span>)</td>
        </tr>
        <tr>
          <td id="L302" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="302"></td>
          <td id="LC302" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>proper_name</span>, <span class=pl-s1>proper_email</span> <span class=pl-c1>=</span> <span class=pl-s1>m</span>.<span class=pl-en>groups</span>()</td>
        </tr>
        <tr>
          <td id="L303" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="303"></td>
          <td id="LC303" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>line</span>) <span class=pl-c1>==</span> <span class=pl-s1>m</span>.<span class=pl-en>end</span>():</td>
        </tr>
        <tr>
          <td id="L304" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="304"></td>
          <td id="LC304" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-s1>changes</span>[(<span class=pl-c1>None</span>, <span class=pl-s1>proper_email</span>)] <span class=pl-c1>=</span> (<span class=pl-s1>proper_name</span>, <span class=pl-s1>proper_email</span>)</td>
        </tr>
        <tr>
          <td id="L305" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="305"></td>
          <td id="LC305" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L306" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="306"></td>
          <td id="LC306" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>rest</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-s1>m</span>.<span class=pl-en>end</span>():]</td>
        </tr>
        <tr>
          <td id="L307" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="307"></td>
          <td id="LC307" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>m</span> <span class=pl-c1>=</span> <span class=pl-s1>name_and_email_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>rest</span>)</td>
        </tr>
        <tr>
          <td id="L308" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="308"></td>
          <td id="LC308" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>m</span>:</td>
        </tr>
        <tr>
          <td id="L309" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="309"></td>
          <td id="LC309" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>commit_name</span>, <span class=pl-s1>commit_email</span> <span class=pl-c1>=</span> <span class=pl-s1>m</span>.<span class=pl-en>groups</span>()</td>
        </tr>
        <tr>
          <td id="L310" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="310"></td>
          <td id="LC310" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>rest</span>) <span class=pl-c1>!=</span> <span class=pl-s1>m</span>.<span class=pl-en>end</span>():</td>
        </tr>
        <tr>
          <td id="L311" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="311"></td>
          <td id="LC311" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-s1>err</span>)</td>
        </tr>
        <tr>
          <td id="L312" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="312"></td>
          <td id="LC312" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L313" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="313"></td>
          <td id="LC313" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>commit_name</span>, <span class=pl-s1>commit_email</span> <span class=pl-c1>=</span> <span class=pl-s1>rest</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L314" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="314"></td>
          <td id="LC314" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>changes</span>[(<span class=pl-s1>commit_name</span>, <span class=pl-s1>commit_email</span>)] <span class=pl-c1>=</span> (<span class=pl-s1>proper_name</span>, <span class=pl-s1>proper_email</span>)</td>
        </tr>
        <tr>
          <td id="L315" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="315"></td>
          <td id="LC315" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L316" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="316"></td>
          <td id="LC316" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>translate</span>(<span class=pl-s1>self</span>, <span class=pl-s1>name</span>, <span class=pl-s1>email</span>):</td>
        </tr>
        <tr>
          <td id="L317" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="317"></td>
          <td id="LC317" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&#39;&#39;&#39; Given a name and email, return the expected new name and email from the</span></td>
        </tr>
        <tr>
          <td id="L318" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="318"></td>
          <td id="LC318" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        mailmap if there is a translation rule for it, otherwise just return</span></td>
        </tr>
        <tr>
          <td id="L319" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="319"></td>
          <td id="LC319" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        the given name and email.&#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L320" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="320"></td>
          <td id="LC320" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>old</span>, <span class=pl-s1>new</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>changes</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L321" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="321"></td>
          <td id="LC321" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>old_name</span>, <span class=pl-s1>old_email</span> <span class=pl-c1>=</span> <span class=pl-s1>old</span></td>
        </tr>
        <tr>
          <td id="L322" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="322"></td>
          <td id="LC322" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_name</span>, <span class=pl-s1>new_email</span> <span class=pl-c1>=</span> <span class=pl-s1>new</span></td>
        </tr>
        <tr>
          <td id="L323" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="323"></td>
          <td id="LC323" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> (<span class=pl-s1>old_email</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>or</span> <span class=pl-s1>email</span>.<span class=pl-en>lower</span>() <span class=pl-c1>==</span> <span class=pl-s1>old_email</span>.<span class=pl-en>lower</span>()) <span class=pl-c1>and</span> (</td>
        </tr>
        <tr>
          <td id="L324" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="324"></td>
          <td id="LC324" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>name</span> <span class=pl-c1>==</span> <span class=pl-s1>old_name</span> <span class=pl-c1>or</span> <span class=pl-c1>not</span> <span class=pl-s1>old_name</span>):</td>
        </tr>
        <tr>
          <td id="L325" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="325"></td>
          <td id="LC325" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> (<span class=pl-s1>new_name</span> <span class=pl-c1>or</span> <span class=pl-s1>name</span>, <span class=pl-s1>new_email</span> <span class=pl-c1>or</span> <span class=pl-s1>email</span>)</td>
        </tr>
        <tr>
          <td id="L326" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="326"></td>
          <td id="LC326" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> (<span class=pl-s1>name</span>, <span class=pl-s1>email</span>)</td>
        </tr>
        <tr>
          <td id="L327" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="327"></td>
          <td id="LC327" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L328" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="328"></td>
          <td id="LC328" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>ProgressWriter</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L329" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="329"></td>
          <td id="LC329" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L330" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="330"></td>
          <td id="LC330" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_last_progress_update</span> <span class=pl-c1>=</span> <span class=pl-s1>time</span>.<span class=pl-en>time</span>()</td>
        </tr>
        <tr>
          <td id="L331" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="331"></td>
          <td id="LC331" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_last_message</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L332" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="332"></td>
          <td id="LC332" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L333" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="333"></td>
          <td id="LC333" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>show</span>(<span class=pl-s1>self</span>, <span class=pl-s1>msg</span>):</td>
        </tr>
        <tr>
          <td id="L334" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="334"></td>
          <td id="LC334" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_last_message</span> <span class=pl-c1>=</span> <span class=pl-s1>msg</span></td>
        </tr>
        <tr>
          <td id="L335" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="335"></td>
          <td id="LC335" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>now</span> <span class=pl-c1>=</span> <span class=pl-s1>time</span>.<span class=pl-en>time</span>()</td>
        </tr>
        <tr>
          <td id="L336" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="336"></td>
          <td id="LC336" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>now</span> <span class=pl-c1>-</span> <span class=pl-s1>self</span>.<span class=pl-s1>_last_progress_update</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>.1</span>:</td>
        </tr>
        <tr>
          <td id="L337" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="337"></td>
          <td id="LC337" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_last_progress_update</span> <span class=pl-c1>=</span> <span class=pl-s1>now</span></td>
        </tr>
        <tr>
          <td id="L338" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="338"></td>
          <td id="LC338" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-s>&quot;<span class=pl-cce>\r</span>{}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>msg</span>))</td>
        </tr>
        <tr>
          <td id="L339" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="339"></td>
          <td id="LC339" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L340" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="340"></td>
          <td id="LC340" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L341" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="341"></td>
          <td id="LC341" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>finish</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L342" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="342"></td>
          <td id="LC342" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_last_progress_update</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L343" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="343"></td>
          <td id="LC343" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_last_message</span>:</td>
        </tr>
        <tr>
          <td id="L344" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="344"></td>
          <td id="LC344" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>show</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_last_message</span>)</td>
        </tr>
        <tr>
          <td id="L345" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="345"></td>
          <td id="LC345" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-s>&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L346" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="346"></td>
          <td id="LC346" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L347" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="347"></td>
          <td id="LC347" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-s1>_IDs</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L348" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="348"></td>
          <td id="LC348" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L349" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="349"></td>
          <td id="LC349" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  A class that maintains the &#39;name domain&#39; of all the &#39;marks&#39; (short int</span></td>
        </tr>
        <tr>
          <td id="L350" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="350"></td>
          <td id="LC350" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  id for a blob/commit git object). The reason this mechanism is necessary</span></td>
        </tr>
        <tr>
          <td id="L351" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="351"></td>
          <td id="LC351" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  is because the text of fast-export may refer to an object using a different</span></td>
        </tr>
        <tr>
          <td id="L352" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="352"></td>
          <td id="LC352" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  mark than the mark that was assigned to that object using IDS.new(). This</span></td>
        </tr>
        <tr>
          <td id="L353" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="353"></td>
          <td id="LC353" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  class allows you to translate the fast-export marks (old) to the marks</span></td>
        </tr>
        <tr>
          <td id="L354" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="354"></td>
          <td id="LC354" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  assigned from IDS.new() (new).</span></td>
        </tr>
        <tr>
          <td id="L355" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="355"></td>
          <td id="LC355" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L356" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="356"></td>
          <td id="LC356" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  Note that there are two reasons why the marks may differ: (1) The</span></td>
        </tr>
        <tr>
          <td id="L357" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="357"></td>
          <td id="LC357" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  user manually creates Blob or Commit objects (for insertion into the</span></td>
        </tr>
        <tr>
          <td id="L358" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="358"></td>
          <td id="LC358" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  stream) (2) We&#39;re reading the data from two different repositories</span></td>
        </tr>
        <tr>
          <td id="L359" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="359"></td>
          <td id="LC359" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  and trying to combine the data (git fast-export will number ids from</span></td>
        </tr>
        <tr>
          <td id="L360" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="360"></td>
          <td id="LC360" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  1...n, and having two 1&#39;s, two 2&#39;s, two 3&#39;s, causes issues).</span></td>
        </tr>
        <tr>
          <td id="L361" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="361"></td>
          <td id="LC361" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L362" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="362"></td>
          <td id="LC362" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L363" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="363"></td>
          <td id="LC363" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L364" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="364"></td>
          <td id="LC364" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L365" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="365"></td>
          <td id="LC365" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Init</span></td>
        </tr>
        <tr>
          <td id="L366" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="366"></td>
          <td id="LC366" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L367" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="367"></td>
          <td id="LC367" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The id for the next created blob/commit object</span></td>
        </tr>
        <tr>
          <td id="L368" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="368"></td>
          <td id="LC368" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_next_id</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L369" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="369"></td>
          <td id="LC369" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L370" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="370"></td>
          <td id="LC370" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A map of old-ids to new-ids (1:1 map)</span></td>
        </tr>
        <tr>
          <td id="L371" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="371"></td>
          <td id="LC371" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L372" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="372"></td>
          <td id="LC372" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L373" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="373"></td>
          <td id="LC373" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A map of new-ids to every old-id that points to the new-id (1:N map)</span></td>
        </tr>
        <tr>
          <td id="L374" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="374"></td>
          <td id="LC374" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L375" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="375"></td>
          <td id="LC375" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L376" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="376"></td>
          <td id="LC376" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>has_renames</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L377" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="377"></td>
          <td id="LC377" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L378" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="378"></td>
          <td id="LC378" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return whether there have been ids remapped to new values</span></td>
        </tr>
        <tr>
          <td id="L379" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="379"></td>
          <td id="LC379" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L380" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="380"></td>
          <td id="LC380" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-en>bool</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>)</td>
        </tr>
        <tr>
          <td id="L381" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="381"></td>
          <td id="LC381" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L382" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="382"></td>
          <td id="LC382" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>new</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L383" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="383"></td>
          <td id="LC383" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L384" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="384"></td>
          <td id="LC384" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Should be called whenever a new blob or commit object is created. The</span></td>
        </tr>
        <tr>
          <td id="L385" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="385"></td>
          <td id="LC385" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    returned value should be used as the id/mark for that object.</span></td>
        </tr>
        <tr>
          <td id="L386" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="386"></td>
          <td id="LC386" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L387" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="387"></td>
          <td id="LC387" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rv</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_next_id</span></td>
        </tr>
        <tr>
          <td id="L388" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="388"></td>
          <td id="LC388" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_next_id</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L389" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="389"></td>
          <td id="LC389" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>rv</span></td>
        </tr>
        <tr>
          <td id="L390" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="390"></td>
          <td id="LC390" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L391" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="391"></td>
          <td id="LC391" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>record_rename</span>(<span class=pl-s1>self</span>, <span class=pl-s1>old_id</span>, <span class=pl-s1>new_id</span>, <span class=pl-s1>handle_transitivity</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>):</td>
        </tr>
        <tr>
          <td id="L392" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="392"></td>
          <td id="LC392" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L393" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="393"></td>
          <td id="LC393" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Record that old_id is being renamed to new_id.</span></td>
        </tr>
        <tr>
          <td id="L394" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="394"></td>
          <td id="LC394" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L395" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="395"></td>
          <td id="LC395" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>old_id</span> <span class=pl-c1>!=</span> <span class=pl-s1>new_id</span>:</td>
        </tr>
        <tr>
          <td id="L396" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="396"></td>
          <td id="LC396" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># old_id -&gt; new_id</span></td>
        </tr>
        <tr>
          <td id="L397" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="397"></td>
          <td id="LC397" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>[<span class=pl-s1>old_id</span>] <span class=pl-c1>=</span> <span class=pl-s1>new_id</span></td>
        </tr>
        <tr>
          <td id="L398" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="398"></td>
          <td id="LC398" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L399" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="399"></td>
          <td id="LC399" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Transitivity will be needed if new commits are being inserted mid-way</span></td>
        </tr>
        <tr>
          <td id="L400" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="400"></td>
          <td id="LC400" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># through a branch.</span></td>
        </tr>
        <tr>
          <td id="L401" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="401"></td>
          <td id="LC401" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>handle_transitivity</span>:</td>
        </tr>
        <tr>
          <td id="L402" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="402"></td>
          <td id="LC402" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Anything that points to old_id should point to new_id</span></td>
        </tr>
        <tr>
          <td id="L403" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="403"></td>
          <td id="LC403" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>old_id</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>:</td>
        </tr>
        <tr>
          <td id="L404" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="404"></td>
          <td id="LC404" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>for</span> <span class=pl-s1>id_</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>[<span class=pl-s1>old_id</span>]:</td>
        </tr>
        <tr>
          <td id="L405" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="405"></td>
          <td id="LC405" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>[<span class=pl-s1>id_</span>] <span class=pl-c1>=</span> <span class=pl-s1>new_id</span></td>
        </tr>
        <tr>
          <td id="L406" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="406"></td>
          <td id="LC406" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L407" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="407"></td>
          <td id="LC407" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Record that new_id is pointed to by old_id</span></td>
        </tr>
        <tr>
          <td id="L408" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="408"></td>
          <td id="LC408" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>new_id</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>:</td>
        </tr>
        <tr>
          <td id="L409" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="409"></td>
          <td id="LC409" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>[<span class=pl-s1>new_id</span>] <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L410" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="410"></td>
          <td id="LC410" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>[<span class=pl-s1>new_id</span>].<span class=pl-en>append</span>(<span class=pl-s1>old_id</span>)</td>
        </tr>
        <tr>
          <td id="L411" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="411"></td>
          <td id="LC411" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L412" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="412"></td>
          <td id="LC412" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>translate</span>(<span class=pl-s1>self</span>, <span class=pl-s1>old_id</span>):</td>
        </tr>
        <tr>
          <td id="L413" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="413"></td>
          <td id="LC413" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L414" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="414"></td>
          <td id="LC414" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    If old_id has been mapped to an alternate id, return the alternate id.</span></td>
        </tr>
        <tr>
          <td id="L415" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="415"></td>
          <td id="LC415" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L416" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="416"></td>
          <td id="LC416" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>old_id</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>:</td>
        </tr>
        <tr>
          <td id="L417" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="417"></td>
          <td id="LC417" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>[<span class=pl-s1>old_id</span>]</td>
        </tr>
        <tr>
          <td id="L418" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="418"></td>
          <td id="LC418" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L419" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="419"></td>
          <td id="LC419" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>old_id</span></td>
        </tr>
        <tr>
          <td id="L420" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="420"></td>
          <td id="LC420" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L421" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="421"></td>
          <td id="LC421" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__str__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L422" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="422"></td>
          <td id="LC422" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L423" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="423"></td>
          <td id="LC423" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Convert IDs to string; used for debugging</span></td>
        </tr>
        <tr>
          <td id="L424" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="424"></td>
          <td id="LC424" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L425" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="425"></td>
          <td id="LC425" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rv</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;Current count: %d<span class=pl-cce>\n</span>Translation:<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>_next_id</span></td>
        </tr>
        <tr>
          <td id="L426" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="426"></td>
          <td id="LC426" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>k</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>):</td>
        </tr>
        <tr>
          <td id="L427" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="427"></td>
          <td id="LC427" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>rv</span> <span class=pl-c1>+=</span> <span class=pl-s>&quot;  %d -&gt; %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>k</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_translation</span>[<span class=pl-s1>k</span>])</td>
        </tr>
        <tr>
          <td id="L428" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="428"></td>
          <td id="LC428" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L429" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="429"></td>
          <td id="LC429" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rv</span> <span class=pl-c1>+=</span> <span class=pl-s>&quot;Reverse translation:<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L430" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="430"></td>
          <td id="LC430" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>k</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>):</td>
        </tr>
        <tr>
          <td id="L431" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="431"></td>
          <td id="LC431" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>rv</span> <span class=pl-c1>+=</span> <span class=pl-s>&quot;  &quot;</span> <span class=pl-c1>+</span> <span class=pl-en>str</span>(<span class=pl-s1>k</span>) <span class=pl-c1>+</span> <span class=pl-s>&quot; -&gt; &quot;</span> <span class=pl-c1>+</span> <span class=pl-en>str</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_reverse_translation</span>[<span class=pl-s1>k</span>]) <span class=pl-c1>+</span> <span class=pl-s>&quot;<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L432" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="432"></td>
          <td id="LC432" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L433" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="433"></td>
          <td id="LC433" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>rv</span></td>
        </tr>
        <tr>
          <td id="L434" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="434"></td>
          <td id="LC434" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L435" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="435"></td>
          <td id="LC435" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-s1>_GitElement</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L436" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="436"></td>
          <td id="LC436" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L437" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="437"></td>
          <td id="LC437" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  The base class for all git elements that we create.</span></td>
        </tr>
        <tr>
          <td id="L438" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="438"></td>
          <td id="LC438" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L439" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="439"></td>
          <td id="LC439" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L440" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="440"></td>
          <td id="LC440" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L441" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="441"></td>
          <td id="LC441" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A string that describes what type of Git element this is</span></td>
        </tr>
        <tr>
          <td id="L442" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="442"></td>
          <td id="LC442" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L443" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="443"></td>
          <td id="LC443" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L444" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="444"></td>
          <td id="LC444" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A flag telling us if this Git element has been dumped</span></td>
        </tr>
        <tr>
          <td id="L445" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="445"></td>
          <td id="LC445" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># (i.e. printed) or skipped.  Typically elements that have been</span></td>
        </tr>
        <tr>
          <td id="L446" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="446"></td>
          <td id="LC446" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># dumped or skipped will not be dumped again.</span></td>
        </tr>
        <tr>
          <td id="L447" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="447"></td>
          <td id="LC447" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L448" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="448"></td>
          <td id="LC448" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L449" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="449"></td>
          <td id="LC449" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L450" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="450"></td>
          <td id="LC450" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L451" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="451"></td>
          <td id="LC451" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    This version should never be called. Derived classes need to</span></td>
        </tr>
        <tr>
          <td id="L452" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="452"></td>
          <td id="LC452" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    override! We should note that subclasses should implement this</span></td>
        </tr>
        <tr>
          <td id="L453" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="453"></td>
          <td id="LC453" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    method such that the output would match the format produced by</span></td>
        </tr>
        <tr>
          <td id="L454" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="454"></td>
          <td id="LC454" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    fast-export.</span></td>
        </tr>
        <tr>
          <td id="L455" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="455"></td>
          <td id="LC455" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L456" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="456"></td>
          <td id="LC456" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Unimplemented function: %s&quot;</span>) <span class=pl-c1>%</span> <span class=pl-en>type</span>(<span class=pl-s1>self</span>).<span class=pl-s1>__name__</span></td>
        </tr>
        <tr>
          <td id="L457" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="457"></td>
          <td id="LC457" class="blob-code blob-code-inner js-file-line">                     <span class=pl-c1>+</span><span class=pl-s>&quot;.dump()&quot;</span>) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L458" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="458"></td>
          <td id="LC458" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L459" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="459"></td>
          <td id="LC459" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__bytes__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L460" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="460"></td>
          <td id="LC460" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L461" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="461"></td>
          <td id="LC461" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Convert GitElement to bytestring; used for debugging</span></td>
        </tr>
        <tr>
          <td id="L462" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="462"></td>
          <td id="LC462" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L463" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="463"></td>
          <td id="LC463" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old_dumped</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span></td>
        </tr>
        <tr>
          <td id="L464" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="464"></td>
          <td id="LC464" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>writeme</span> <span class=pl-c1>=</span> <span class=pl-s1>io</span>.<span class=pl-v>BytesIO</span>()</td>
        </tr>
        <tr>
          <td id="L465" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="465"></td>
          <td id="LC465" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>dump</span>(<span class=pl-s1>writeme</span>)</td>
        </tr>
        <tr>
          <td id="L466" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="466"></td>
          <td id="LC466" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output_lines</span> <span class=pl-c1>=</span> <span class=pl-s1>writeme</span>.<span class=pl-en>getvalue</span>().<span class=pl-en>splitlines</span>()</td>
        </tr>
        <tr>
          <td id="L467" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="467"></td>
          <td id="LC467" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>writeme</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L468" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="468"></td>
          <td id="LC468" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-s1>old_dumped</span></td>
        </tr>
        <tr>
          <td id="L469" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="469"></td>
          <td id="LC469" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s>b&quot;%s:<span class=pl-cce>\n</span>  %s&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>type</span>(<span class=pl-s1>self</span>).<span class=pl-s1>__name__</span>.<span class=pl-en>encode</span>(),</td>
        </tr>
        <tr>
          <td id="L470" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="470"></td>
          <td id="LC470" class="blob-code blob-code-inner js-file-line">                           <span class=pl-s>b&quot;<span class=pl-cce>\n</span>  &quot;</span>.<span class=pl-en>join</span>(<span class=pl-s1>output_lines</span>))</td>
        </tr>
        <tr>
          <td id="L471" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="471"></td>
          <td id="LC471" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L472" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="472"></td>
          <td id="LC472" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>skip</span>(<span class=pl-s1>self</span>, <span class=pl-s1>new_id</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L473" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="473"></td>
          <td id="LC473" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L474" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="474"></td>
          <td id="LC474" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Ensures this element will not be written to output</span></td>
        </tr>
        <tr>
          <td id="L475" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="475"></td>
          <td id="LC475" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L476" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="476"></td>
          <td id="LC476" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>2</span></td>
        </tr>
        <tr>
          <td id="L477" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="477"></td>
          <td id="LC477" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L478" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="478"></td>
          <td id="LC478" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-s1>_GitElementWithId</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L479" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="479"></td>
          <td id="LC479" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L480" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="480"></td>
          <td id="LC480" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  The base class for Git elements that have IDs (commits and blobs)</span></td>
        </tr>
        <tr>
          <td id="L481" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="481"></td>
          <td id="LC481" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L482" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="482"></td>
          <td id="LC482" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L483" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="483"></td>
          <td id="LC483" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L484" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="484"></td>
          <td id="LC484" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L485" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="485"></td>
          <td id="LC485" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L486" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="486"></td>
          <td id="LC486" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The mark (short, portable id) for this element</span></td>
        </tr>
        <tr>
          <td id="L487" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="487"></td>
          <td id="LC487" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>id</span> <span class=pl-c1>=</span> <span class=pl-s1>_IDS</span>.<span class=pl-en>new</span>()</td>
        </tr>
        <tr>
          <td id="L488" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="488"></td>
          <td id="LC488" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L489" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="489"></td>
          <td id="LC489" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The previous mark for this element</span></td>
        </tr>
        <tr>
          <td id="L490" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="490"></td>
          <td id="LC490" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L491" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="491"></td>
          <td id="LC491" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L492" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="492"></td>
          <td id="LC492" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>skip</span>(<span class=pl-s1>self</span>, <span class=pl-s1>new_id</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L493" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="493"></td>
          <td id="LC493" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L494" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="494"></td>
          <td id="LC494" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    This element will no longer be automatically written to output. When a</span></td>
        </tr>
        <tr>
          <td id="L495" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="495"></td>
          <td id="LC495" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    commit gets skipped, it&#39;s ID will need to be translated to that of its</span></td>
        </tr>
        <tr>
          <td id="L496" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="496"></td>
          <td id="LC496" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    parent.</span></td>
        </tr>
        <tr>
          <td id="L497" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="497"></td>
          <td id="LC497" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L498" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="498"></td>
          <td id="LC498" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>2</span></td>
        </tr>
        <tr>
          <td id="L499" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="499"></td>
          <td id="LC499" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L500" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="500"></td>
          <td id="LC500" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_IDS</span>.<span class=pl-en>record_rename</span>(<span class=pl-s1>self</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span>, <span class=pl-s1>new_id</span>)</td>
        </tr>
        <tr>
          <td id="L501" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="501"></td>
          <td id="LC501" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L502" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="502"></td>
          <td id="LC502" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Blob</span>(<span class=pl-s1>_GitElementWithId</span>):</td>
        </tr>
        <tr>
          <td id="L503" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="503"></td>
          <td id="LC503" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L504" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="504"></td>
          <td id="LC504" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of git blob elements (i.e. our</span></td>
        </tr>
        <tr>
          <td id="L505" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="505"></td>
          <td id="LC505" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  way of representing file contents).</span></td>
        </tr>
        <tr>
          <td id="L506" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="506"></td>
          <td id="LC506" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L507" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="507"></td>
          <td id="LC507" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L508" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="508"></td>
          <td id="LC508" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>data</span>, <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L509" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="509"></td>
          <td id="LC509" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElementWithId</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L510" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="510"></td>
          <td id="LC510" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L511" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="511"></td>
          <td id="LC511" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a blob</span></td>
        </tr>
        <tr>
          <td id="L512" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="512"></td>
          <td id="LC512" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;blob&#39;</span></td>
        </tr>
        <tr>
          <td id="L513" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="513"></td>
          <td id="LC513" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L514" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="514"></td>
          <td id="LC514" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record original id</span></td>
        </tr>
        <tr>
          <td id="L515" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="515"></td>
          <td id="LC515" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L516" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="516"></td>
          <td id="LC516" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L517" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="517"></td>
          <td id="LC517" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Stores the blob&#39;s data</span></td>
        </tr>
        <tr>
          <td id="L518" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="518"></td>
          <td id="LC518" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span>(<span class=pl-en>type</span>(<span class=pl-s1>data</span>) <span class=pl-c1>==</span> <span class=pl-s1>bytes</span>)</td>
        </tr>
        <tr>
          <td id="L519" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="519"></td>
          <td id="LC519" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>data</span> <span class=pl-c1>=</span> <span class=pl-s1>data</span></td>
        </tr>
        <tr>
          <td id="L520" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="520"></td>
          <td id="LC520" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L521" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="521"></td>
          <td id="LC521" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L522" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="522"></td>
          <td id="LC522" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L523" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="523"></td>
          <td id="LC523" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this blob element to a file.</span></td>
        </tr>
        <tr>
          <td id="L524" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="524"></td>
          <td id="LC524" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L525" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="525"></td>
          <td id="LC525" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L526" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="526"></td>
          <td id="LC526" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HASH_TO_ID</span>[<span class=pl-s1>self</span>.<span class=pl-s1>original_id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L527" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="527"></td>
          <td id="LC527" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>ID_TO_HASH</span>[<span class=pl-s1>self</span>.<span class=pl-s1>id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L528" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="528"></td>
          <td id="LC528" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L529" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="529"></td>
          <td id="LC529" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;blob<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L530" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="530"></td>
          <td id="LC530" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;mark :%d<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L531" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="531"></td>
          <td id="LC531" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;data %d<span class=pl-cce>\n</span>%s&#39;</span> <span class=pl-c1>%</span> (<span class=pl-en>len</span>(<span class=pl-s1>self</span>.<span class=pl-s1>data</span>), <span class=pl-s1>self</span>.<span class=pl-s1>data</span>))</td>
        </tr>
        <tr>
          <td id="L532" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="532"></td>
          <td id="LC532" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L533" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="533"></td>
          <td id="LC533" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L534" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="534"></td>
          <td id="LC534" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L535" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="535"></td>
          <td id="LC535" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Reset</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L536" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="536"></td>
          <td id="LC536" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L537" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="537"></td>
          <td id="LC537" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of git reset elements.  A reset</span></td>
        </tr>
        <tr>
          <td id="L538" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="538"></td>
          <td id="LC538" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  event is the creation (or recreation) of a named branch, optionally</span></td>
        </tr>
        <tr>
          <td id="L539" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="539"></td>
          <td id="LC539" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  starting from a specific revision).</span></td>
        </tr>
        <tr>
          <td id="L540" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="540"></td>
          <td id="LC540" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L541" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="541"></td>
          <td id="LC541" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L542" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="542"></td>
          <td id="LC542" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>ref</span>, <span class=pl-s1>from_ref</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L543" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="543"></td>
          <td id="LC543" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L544" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="544"></td>
          <td id="LC544" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L545" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="545"></td>
          <td id="LC545" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a reset</span></td>
        </tr>
        <tr>
          <td id="L546" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="546"></td>
          <td id="LC546" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;reset&#39;</span></td>
        </tr>
        <tr>
          <td id="L547" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="547"></td>
          <td id="LC547" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L548" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="548"></td>
          <td id="LC548" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The name of the branch being (re)created</span></td>
        </tr>
        <tr>
          <td id="L549" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="549"></td>
          <td id="LC549" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>ref</span></td>
        </tr>
        <tr>
          <td id="L550" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="550"></td>
          <td id="LC550" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L551" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="551"></td>
          <td id="LC551" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Some reference to the branch/commit we are resetting from</span></td>
        </tr>
        <tr>
          <td id="L552" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="552"></td>
          <td id="LC552" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>from_ref</span></td>
        </tr>
        <tr>
          <td id="L553" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="553"></td>
          <td id="LC553" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L554" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="554"></td>
          <td id="LC554" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L555" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="555"></td>
          <td id="LC555" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L556" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="556"></td>
          <td id="LC556" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this reset element to a file</span></td>
        </tr>
        <tr>
          <td id="L557" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="557"></td>
          <td id="LC557" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L558" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="558"></td>
          <td id="LC558" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L559" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="559"></td>
          <td id="LC559" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L560" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="560"></td>
          <td id="LC560" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;reset %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L561" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="561"></td>
          <td id="LC561" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>:</td>
        </tr>
        <tr>
          <td id="L562" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="562"></td>
          <td id="LC562" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>, <span class=pl-s1>int</span>):</td>
        </tr>
        <tr>
          <td id="L563" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="563"></td>
          <td id="LC563" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;from :%d<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>)</td>
        </tr>
        <tr>
          <td id="L564" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="564"></td>
          <td id="LC564" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L565" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="565"></td>
          <td id="LC565" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;from %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>)</td>
        </tr>
        <tr>
          <td id="L566" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="566"></td>
          <td id="LC566" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L567" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="567"></td>
          <td id="LC567" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L568" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="568"></td>
          <td id="LC568" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>FileChange</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L569" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="569"></td>
          <td id="LC569" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L570" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="570"></td>
          <td id="LC570" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of file change elements. File change</span></td>
        </tr>
        <tr>
          <td id="L571" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="571"></td>
          <td id="LC571" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  elements are components within a Commit element.</span></td>
        </tr>
        <tr>
          <td id="L572" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="572"></td>
          <td id="LC572" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L573" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="573"></td>
          <td id="LC573" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L574" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="574"></td>
          <td id="LC574" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>type_</span>, <span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-s1>id_</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-s1>mode</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L575" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="575"></td>
          <td id="LC575" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L576" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="576"></td>
          <td id="LC576" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L577" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="577"></td>
          <td id="LC577" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote the type of file-change (b&#39;M&#39; for modify, b&#39;D&#39; for delete, etc)</span></td>
        </tr>
        <tr>
          <td id="L578" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="578"></td>
          <td id="LC578" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># We could</span></td>
        </tr>
        <tr>
          <td id="L579" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="579"></td>
          <td id="LC579" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   assert(type(type_) == bytes)</span></td>
        </tr>
        <tr>
          <td id="L580" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="580"></td>
          <td id="LC580" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># here but I don&#39;t just due to worries about performance overhead...</span></td>
        </tr>
        <tr>
          <td id="L581" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="581"></td>
          <td id="LC581" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s1>type_</span></td>
        </tr>
        <tr>
          <td id="L582" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="582"></td>
          <td id="LC582" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L583" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="583"></td>
          <td id="LC583" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record the name of the file being changed</span></td>
        </tr>
        <tr>
          <td id="L584" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="584"></td>
          <td id="LC584" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-s1>filename</span></td>
        </tr>
        <tr>
          <td id="L585" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="585"></td>
          <td id="LC585" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L586" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="586"></td>
          <td id="LC586" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record the mode (mode describes type of file entry (non-executable,</span></td>
        </tr>
        <tr>
          <td id="L587" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="587"></td>
          <td id="LC587" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># executable, or symlink)).</span></td>
        </tr>
        <tr>
          <td id="L588" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="588"></td>
          <td id="LC588" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>mode</span> <span class=pl-c1>=</span> <span class=pl-s1>mode</span></td>
        </tr>
        <tr>
          <td id="L589" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="589"></td>
          <td id="LC589" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L590" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="590"></td>
          <td id="LC590" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># blob_id is the id (mark) of the affected blob</span></td>
        </tr>
        <tr>
          <td id="L591" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="591"></td>
          <td id="LC591" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span> <span class=pl-c1>=</span> <span class=pl-s1>id_</span></td>
        </tr>
        <tr>
          <td id="L592" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="592"></td>
          <td id="LC592" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L593" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="593"></td>
          <td id="LC593" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>type_</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;DELETEALL&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L594" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="594"></td>
          <td id="LC594" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>filename</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span> <span class=pl-s1>id_</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span> <span class=pl-s1>mode</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L595" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="595"></td>
          <td id="LC595" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;&#39;</span> <span class=pl-c># Just so PathQuoting.enquote doesn&#39;t die</span></td>
        </tr>
        <tr>
          <td id="L596" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="596"></td>
          <td id="LC596" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L597" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="597"></td>
          <td id="LC597" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>filename</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L598" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="598"></td>
          <td id="LC598" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L599" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="599"></td>
          <td id="LC599" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>type_</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L600" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="600"></td>
          <td id="LC600" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>id_</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span> <span class=pl-s1>mode</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L601" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="601"></td>
          <td id="LC601" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>type_</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L602" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="602"></td>
          <td id="LC602" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>id_</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span> <span class=pl-s1>mode</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L603" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="603"></td>
          <td id="LC603" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>type_</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;R&#39;</span>:  <span class=pl-c># pragma: no cover (now avoid fast-export renames)</span></td>
        </tr>
        <tr>
          <td id="L604" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="604"></td>
          <td id="LC604" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-s1>mode</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L605" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="605"></td>
          <td id="LC605" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>id_</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L606" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="606"></td>
          <td id="LC606" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;new name needed for rename of %s&quot;</span>) <span class=pl-c1>%</span> <span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L607" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="607"></td>
          <td id="LC607" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>filename</span>, <span class=pl-s1>id_</span>)</td>
        </tr>
        <tr>
          <td id="L608" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="608"></td>
          <td id="LC608" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L609" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="609"></td>
          <td id="LC609" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L610" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="610"></td>
          <td id="LC610" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L611" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="611"></td>
          <td id="LC611" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L612" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="612"></td>
          <td id="LC612" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this file-change element to a file</span></td>
        </tr>
        <tr>
          <td id="L613" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="613"></td>
          <td id="LC613" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L614" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="614"></td>
          <td id="LC614" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>skipped_blob</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L615" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="615"></td>
          <td id="LC615" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>skipped_blob</span>: <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L616" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="616"></td>
          <td id="LC616" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L617" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="617"></td>
          <td id="LC617" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L618" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="618"></td>
          <td id="LC618" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>quoted_filename</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>enquote</span>(<span class=pl-s1>self</span>.<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L619" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="619"></td>
          <td id="LC619" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span> <span class=pl-c1>and</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span>, <span class=pl-s1>int</span>):</td>
        </tr>
        <tr>
          <td id="L620" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="620"></td>
          <td id="LC620" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;M %s :%d %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>self</span>.<span class=pl-s1>mode</span>, <span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span>, <span class=pl-s1>quoted_filename</span>))</td>
        </tr>
        <tr>
          <td id="L621" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="621"></td>
          <td id="LC621" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L622" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="622"></td>
          <td id="LC622" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;M %s %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>self</span>.<span class=pl-s1>mode</span>, <span class=pl-s1>self</span>.<span class=pl-s1>blob_id</span>, <span class=pl-s1>quoted_filename</span>))</td>
        </tr>
        <tr>
          <td id="L623" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="623"></td>
          <td id="LC623" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L624" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="624"></td>
          <td id="LC624" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;D %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>quoted_filename</span>)</td>
        </tr>
        <tr>
          <td id="L625" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="625"></td>
          <td id="LC625" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;DELETEALL&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L626" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="626"></td>
          <td id="LC626" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;deleteall<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L627" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="627"></td>
          <td id="LC627" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L628" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="628"></td>
          <td id="LC628" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Unhandled filechange type: %s&quot;</span>) <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>type</span>) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L629" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="629"></td>
          <td id="LC629" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L630" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="630"></td>
          <td id="LC630" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Commit</span>(<span class=pl-s1>_GitElementWithId</span>):</td>
        </tr>
        <tr>
          <td id="L631" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="631"></td>
          <td id="LC631" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L632" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="632"></td>
          <td id="LC632" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of commit elements. Commit elements</span></td>
        </tr>
        <tr>
          <td id="L633" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="633"></td>
          <td id="LC633" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  contain all the information associated with a commit.</span></td>
        </tr>
        <tr>
          <td id="L634" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="634"></td>
          <td id="LC634" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L635" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="635"></td>
          <td id="LC635" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L636" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="636"></td>
          <td id="LC636" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>branch</span>,</td>
        </tr>
        <tr>
          <td id="L637" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="637"></td>
          <td id="LC637" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>author_name</span>,    <span class=pl-s1>author_email</span>,    <span class=pl-s1>author_date</span>,</td>
        </tr>
        <tr>
          <td id="L638" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="638"></td>
          <td id="LC638" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>committer_name</span>, <span class=pl-s1>committer_email</span>, <span class=pl-s1>committer_date</span>,</td>
        </tr>
        <tr>
          <td id="L639" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="639"></td>
          <td id="LC639" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>message</span>,</td>
        </tr>
        <tr>
          <td id="L640" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="640"></td>
          <td id="LC640" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>file_changes</span>,</td>
        </tr>
        <tr>
          <td id="L641" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="641"></td>
          <td id="LC641" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>parents</span>,</td>
        </tr>
        <tr>
          <td id="L642" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="642"></td>
          <td id="LC642" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L643" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="643"></td>
          <td id="LC643" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>encoding</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-c># encoding for message; None implies UTF-8</span></td>
        </tr>
        <tr>
          <td id="L644" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="644"></td>
          <td id="LC644" class="blob-code blob-code-inner js-file-line">               <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>):</td>
        </tr>
        <tr>
          <td id="L645" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="645"></td>
          <td id="LC645" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElementWithId</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L646" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="646"></td>
          <td id="LC646" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L647" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="647"></td>
          <td id="LC647" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L648" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="648"></td>
          <td id="LC648" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a commit element</span></td>
        </tr>
        <tr>
          <td id="L649" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="649"></td>
          <td id="LC649" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;commit&#39;</span></td>
        </tr>
        <tr>
          <td id="L650" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="650"></td>
          <td id="LC650" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L651" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="651"></td>
          <td id="LC651" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record the affected branch</span></td>
        </tr>
        <tr>
          <td id="L652" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="652"></td>
          <td id="LC652" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>branch</span> <span class=pl-c1>=</span> <span class=pl-s1>branch</span></td>
        </tr>
        <tr>
          <td id="L653" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="653"></td>
          <td id="LC653" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L654" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="654"></td>
          <td id="LC654" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record original id</span></td>
        </tr>
        <tr>
          <td id="L655" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="655"></td>
          <td id="LC655" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L656" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="656"></td>
          <td id="LC656" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L657" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="657"></td>
          <td id="LC657" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record author&#39;s name</span></td>
        </tr>
        <tr>
          <td id="L658" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="658"></td>
          <td id="LC658" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>author_name</span>  <span class=pl-c1>=</span> <span class=pl-s1>author_name</span></td>
        </tr>
        <tr>
          <td id="L659" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="659"></td>
          <td id="LC659" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L660" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="660"></td>
          <td id="LC660" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record author&#39;s email</span></td>
        </tr>
        <tr>
          <td id="L661" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="661"></td>
          <td id="LC661" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>author_email</span> <span class=pl-c1>=</span> <span class=pl-s1>author_email</span></td>
        </tr>
        <tr>
          <td id="L662" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="662"></td>
          <td id="LC662" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L663" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="663"></td>
          <td id="LC663" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record date of authoring</span></td>
        </tr>
        <tr>
          <td id="L664" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="664"></td>
          <td id="LC664" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>author_date</span>  <span class=pl-c1>=</span> <span class=pl-s1>author_date</span></td>
        </tr>
        <tr>
          <td id="L665" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="665"></td>
          <td id="LC665" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L666" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="666"></td>
          <td id="LC666" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record committer&#39;s name</span></td>
        </tr>
        <tr>
          <td id="L667" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="667"></td>
          <td id="LC667" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>committer_name</span>  <span class=pl-c1>=</span> <span class=pl-s1>committer_name</span></td>
        </tr>
        <tr>
          <td id="L668" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="668"></td>
          <td id="LC668" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L669" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="669"></td>
          <td id="LC669" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record committer&#39;s email</span></td>
        </tr>
        <tr>
          <td id="L670" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="670"></td>
          <td id="LC670" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>committer_email</span> <span class=pl-c1>=</span> <span class=pl-s1>committer_email</span></td>
        </tr>
        <tr>
          <td id="L671" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="671"></td>
          <td id="LC671" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L672" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="672"></td>
          <td id="LC672" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record date the commit was made</span></td>
        </tr>
        <tr>
          <td id="L673" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="673"></td>
          <td id="LC673" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>committer_date</span>  <span class=pl-c1>=</span> <span class=pl-s1>committer_date</span></td>
        </tr>
        <tr>
          <td id="L674" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="674"></td>
          <td id="LC674" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L675" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="675"></td>
          <td id="LC675" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record commit message and its encoding</span></td>
        </tr>
        <tr>
          <td id="L676" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="676"></td>
          <td id="LC676" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>encoding</span> <span class=pl-c1>=</span> <span class=pl-s1>encoding</span></td>
        </tr>
        <tr>
          <td id="L677" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="677"></td>
          <td id="LC677" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>message</span></td>
        </tr>
        <tr>
          <td id="L678" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="678"></td>
          <td id="LC678" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L679" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="679"></td>
          <td id="LC679" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># List of file-changes associated with this commit. Note that file-changes</span></td>
        </tr>
        <tr>
          <td id="L680" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="680"></td>
          <td id="LC680" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># are also represented as git elements</span></td>
        </tr>
        <tr>
          <td id="L681" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="681"></td>
          <td id="LC681" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> <span class=pl-s1>file_changes</span></td>
        </tr>
        <tr>
          <td id="L682" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="682"></td>
          <td id="LC682" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L683" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="683"></td>
          <td id="LC683" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>parents</span> <span class=pl-c1>=</span> <span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L684" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="684"></td>
          <td id="LC684" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L685" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="685"></td>
          <td id="LC685" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L686" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="686"></td>
          <td id="LC686" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L687" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="687"></td>
          <td id="LC687" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this commit element to a file.</span></td>
        </tr>
        <tr>
          <td id="L688" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="688"></td>
          <td id="LC688" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L689" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="689"></td>
          <td id="LC689" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L690" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="690"></td>
          <td id="LC690" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HASH_TO_ID</span>[<span class=pl-s1>self</span>.<span class=pl-s1>original_id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L691" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="691"></td>
          <td id="LC691" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>ID_TO_HASH</span>[<span class=pl-s1>self</span>.<span class=pl-s1>id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L692" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="692"></td>
          <td id="LC692" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L693" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="693"></td>
          <td id="LC693" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Make output to fast-import slightly easier for humans to read if the</span></td>
        </tr>
        <tr>
          <td id="L694" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="694"></td>
          <td id="LC694" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># message has no trailing newline of its own; cosmetic, but a nice touch...</span></td>
        </tr>
        <tr>
          <td id="L695" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="695"></td>
          <td id="LC695" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>extra_newline</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L696" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="696"></td>
          <td id="LC696" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>message</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>) <span class=pl-c1>or</span> <span class=pl-c1>not</span> (<span class=pl-s1>self</span>.<span class=pl-s1>parents</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>file_changes</span>):</td>
        </tr>
        <tr>
          <td id="L697" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="697"></td>
          <td id="LC697" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>extra_newline</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L698" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="698"></td>
          <td id="LC698" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L699" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="699"></td>
          <td id="LC699" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>parents</span>:</td>
        </tr>
        <tr>
          <td id="L700" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="700"></td>
          <td id="LC700" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;reset %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L701" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="701"></td>
          <td id="LC701" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>((<span class=pl-s>b&#39;commit %s<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L702" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="702"></td>
          <td id="LC702" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>b&#39;mark :%d<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L703" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="703"></td>
          <td id="LC703" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>b&#39;author %s &lt;%s&gt; %s<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L704" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="704"></td>
          <td id="LC704" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>b&#39;committer %s &lt;%s&gt; %s<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L705" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="705"></td>
          <td id="LC705" class="blob-code blob-code-inner js-file-line">                ) <span class=pl-c1>%</span> (</td>
        </tr>
        <tr>
          <td id="L706" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="706"></td>
          <td id="LC706" class="blob-code blob-code-inner js-file-line">                  <span class=pl-s1>self</span>.<span class=pl-s1>branch</span>, <span class=pl-s1>self</span>.<span class=pl-s1>id</span>,</td>
        </tr>
        <tr>
          <td id="L707" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="707"></td>
          <td id="LC707" class="blob-code blob-code-inner js-file-line">                  <span class=pl-s1>self</span>.<span class=pl-s1>author_name</span>, <span class=pl-s1>self</span>.<span class=pl-s1>author_email</span>, <span class=pl-s1>self</span>.<span class=pl-s1>author_date</span>,</td>
        </tr>
        <tr>
          <td id="L708" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="708"></td>
          <td id="LC708" class="blob-code blob-code-inner js-file-line">                  <span class=pl-s1>self</span>.<span class=pl-s1>committer_name</span>, <span class=pl-s1>self</span>.<span class=pl-s1>committer_email</span>, <span class=pl-s1>self</span>.<span class=pl-s1>committer_date</span></td>
        </tr>
        <tr>
          <td id="L709" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="709"></td>
          <td id="LC709" class="blob-code blob-code-inner js-file-line">               ))</td>
        </tr>
        <tr>
          <td id="L710" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="710"></td>
          <td id="LC710" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>encoding</span>:</td>
        </tr>
        <tr>
          <td id="L711" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="711"></td>
          <td id="LC711" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;encoding %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>encoding</span>)</td>
        </tr>
        <tr>
          <td id="L712" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="712"></td>
          <td id="LC712" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;data %d<span class=pl-cce>\n</span>%s%s&#39;</span> <span class=pl-c1>%</span></td>
        </tr>
        <tr>
          <td id="L713" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="713"></td>
          <td id="LC713" class="blob-code blob-code-inner js-file-line">                (<span class=pl-en>len</span>(<span class=pl-s1>self</span>.<span class=pl-s1>message</span>), <span class=pl-s1>self</span>.<span class=pl-s1>message</span>, <span class=pl-s1>extra_newline</span>))</td>
        </tr>
        <tr>
          <td id="L714" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="714"></td>
          <td id="LC714" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>i</span>, <span class=pl-s1>parent</span> <span class=pl-c1>in</span> <span class=pl-en>enumerate</span>(<span class=pl-s1>self</span>.<span class=pl-s1>parents</span>):</td>
        </tr>
        <tr>
          <td id="L715" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="715"></td>
          <td id="LC715" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;from &#39;</span> <span class=pl-k>if</span> <span class=pl-s1>i</span><span class=pl-c1>==</span><span class=pl-c1>0</span> <span class=pl-k>else</span> <span class=pl-s>b&#39;merge &#39;</span>)</td>
        </tr>
        <tr>
          <td id="L716" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="716"></td>
          <td id="LC716" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>parent</span>, <span class=pl-s1>int</span>):</td>
        </tr>
        <tr>
          <td id="L717" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="717"></td>
          <td id="LC717" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;:%d<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>parent</span>)</td>
        </tr>
        <tr>
          <td id="L718" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="718"></td>
          <td id="LC718" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L719" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="719"></td>
          <td id="LC719" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;%s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>parent</span>)</td>
        </tr>
        <tr>
          <td id="L720" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="720"></td>
          <td id="LC720" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>change</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L721" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="721"></td>
          <td id="LC721" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>change</span>.<span class=pl-en>dump</span>(<span class=pl-s1>file_</span>)</td>
        </tr>
        <tr>
          <td id="L722" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="722"></td>
          <td id="LC722" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>parents</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L723" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="723"></td>
          <td id="LC723" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Workaround a bug in pre-git-2.22 versions of fast-import with</span></td>
        </tr>
        <tr>
          <td id="L724" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="724"></td>
          <td id="LC724" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># the get-mark directive.</span></td>
        </tr>
        <tr>
          <td id="L725" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="725"></td>
          <td id="LC725" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L726" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="726"></td>
          <td id="LC726" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L727" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="727"></td>
          <td id="LC727" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L728" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="728"></td>
          <td id="LC728" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>first_parent</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L729" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="729"></td>
          <td id="LC729" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L730" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="730"></td>
          <td id="LC730" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return first parent commit</span></td>
        </tr>
        <tr>
          <td id="L731" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="731"></td>
          <td id="LC731" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L732" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="732"></td>
          <td id="LC732" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>parents</span>:</td>
        </tr>
        <tr>
          <td id="L733" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="733"></td>
          <td id="LC733" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>parents</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L734" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="734"></td>
          <td id="LC734" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L735" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="735"></td>
          <td id="LC735" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L736" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="736"></td>
          <td id="LC736" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>skip</span>(<span class=pl-s1>self</span>, <span class=pl-s1>new_id</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L737" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="737"></td>
          <td id="LC737" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_SKIPPED_COMMITS</span>.<span class=pl-en>add</span>(<span class=pl-s1>self</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L738" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="738"></td>
          <td id="LC738" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElementWithId</span>.<span class=pl-en>skip</span>(<span class=pl-s1>self</span>, <span class=pl-s1>new_id</span>)</td>
        </tr>
        <tr>
          <td id="L739" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="739"></td>
          <td id="LC739" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L740" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="740"></td>
          <td id="LC740" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Tag</span>(<span class=pl-s1>_GitElementWithId</span>):</td>
        </tr>
        <tr>
          <td id="L741" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="741"></td>
          <td id="LC741" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L742" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="742"></td>
          <td id="LC742" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of annotated tag elements.</span></td>
        </tr>
        <tr>
          <td id="L743" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="743"></td>
          <td id="LC743" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L744" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="744"></td>
          <td id="LC744" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L745" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="745"></td>
          <td id="LC745" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>ref</span>, <span class=pl-s1>from_ref</span>,</td>
        </tr>
        <tr>
          <td id="L746" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="746"></td>
          <td id="LC746" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>tagger_name</span>, <span class=pl-s1>tagger_email</span>, <span class=pl-s1>tagger_date</span>, <span class=pl-s1>tag_msg</span>,</td>
        </tr>
        <tr>
          <td id="L747" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="747"></td>
          <td id="LC747" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L748" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="748"></td>
          <td id="LC748" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElementWithId</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L749" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="749"></td>
          <td id="LC749" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L750" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="750"></td>
          <td id="LC750" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L751" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="751"></td>
          <td id="LC751" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a tag element</span></td>
        </tr>
        <tr>
          <td id="L752" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="752"></td>
          <td id="LC752" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;tag&#39;</span></td>
        </tr>
        <tr>
          <td id="L753" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="753"></td>
          <td id="LC753" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L754" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="754"></td>
          <td id="LC754" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the name of the tag</span></td>
        </tr>
        <tr>
          <td id="L755" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="755"></td>
          <td id="LC755" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>ref</span></td>
        </tr>
        <tr>
          <td id="L756" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="756"></td>
          <td id="LC756" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L757" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="757"></td>
          <td id="LC757" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the entity being tagged (this should be a commit)</span></td>
        </tr>
        <tr>
          <td id="L758" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="758"></td>
          <td id="LC758" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>from_ref</span></td>
        </tr>
        <tr>
          <td id="L759" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="759"></td>
          <td id="LC759" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L760" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="760"></td>
          <td id="LC760" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record original id</span></td>
        </tr>
        <tr>
          <td id="L761" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="761"></td>
          <td id="LC761" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L762" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="762"></td>
          <td id="LC762" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L763" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="763"></td>
          <td id="LC763" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the name of the tagger</span></td>
        </tr>
        <tr>
          <td id="L764" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="764"></td>
          <td id="LC764" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>tagger_name</span>  <span class=pl-c1>=</span> <span class=pl-s1>tagger_name</span></td>
        </tr>
        <tr>
          <td id="L765" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="765"></td>
          <td id="LC765" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L766" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="766"></td>
          <td id="LC766" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the email of the tagger</span></td>
        </tr>
        <tr>
          <td id="L767" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="767"></td>
          <td id="LC767" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>tagger_email</span> <span class=pl-c1>=</span> <span class=pl-s1>tagger_email</span></td>
        </tr>
        <tr>
          <td id="L768" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="768"></td>
          <td id="LC768" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L769" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="769"></td>
          <td id="LC769" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the date</span></td>
        </tr>
        <tr>
          <td id="L770" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="770"></td>
          <td id="LC770" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>tagger_date</span>  <span class=pl-c1>=</span> <span class=pl-s1>tagger_date</span></td>
        </tr>
        <tr>
          <td id="L771" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="771"></td>
          <td id="LC771" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L772" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="772"></td>
          <td id="LC772" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the tag message</span></td>
        </tr>
        <tr>
          <td id="L773" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="773"></td>
          <td id="LC773" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>tag_msg</span></td>
        </tr>
        <tr>
          <td id="L774" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="774"></td>
          <td id="LC774" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L775" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="775"></td>
          <td id="LC775" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L776" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="776"></td>
          <td id="LC776" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L777" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="777"></td>
          <td id="LC777" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this tag element to a file</span></td>
        </tr>
        <tr>
          <td id="L778" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="778"></td>
          <td id="LC778" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L779" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="779"></td>
          <td id="LC779" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L780" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="780"></td>
          <td id="LC780" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L781" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="781"></td>
          <td id="LC781" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>HASH_TO_ID</span>[<span class=pl-s1>self</span>.<span class=pl-s1>original_id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L782" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="782"></td>
          <td id="LC782" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>ID_TO_HASH</span>[<span class=pl-s1>self</span>.<span class=pl-s1>id</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L783" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="783"></td>
          <td id="LC783" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L784" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="784"></td>
          <td id="LC784" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;tag %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L785" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="785"></td>
          <td id="LC785" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> (<span class=pl-s1>write_marks</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span>):</td>
        </tr>
        <tr>
          <td id="L786" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="786"></td>
          <td id="LC786" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;mark :%d<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L787" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="787"></td>
          <td id="LC787" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>markfmt</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;from :%d<span class=pl-cce>\n</span>&#39;</span> <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>, <span class=pl-s1>int</span>) <span class=pl-k>else</span> <span class=pl-s>b&#39;from %s<span class=pl-cce>\n</span>&#39;</span></td>
        </tr>
        <tr>
          <td id="L788" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="788"></td>
          <td id="LC788" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s1>markfmt</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>from_ref</span>)</td>
        </tr>
        <tr>
          <td id="L789" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="789"></td>
          <td id="LC789" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>tagger_name</span>:</td>
        </tr>
        <tr>
          <td id="L790" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="790"></td>
          <td id="LC790" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;tagger %s &lt;%s&gt; &#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>self</span>.<span class=pl-s1>tagger_name</span>, <span class=pl-s1>self</span>.<span class=pl-s1>tagger_email</span>))</td>
        </tr>
        <tr>
          <td id="L791" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="791"></td>
          <td id="LC791" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s1>self</span>.<span class=pl-s1>tagger_date</span>)</td>
        </tr>
        <tr>
          <td id="L792" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="792"></td>
          <td id="LC792" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L793" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="793"></td>
          <td id="LC793" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;data %d<span class=pl-cce>\n</span>%s&#39;</span> <span class=pl-c1>%</span> (<span class=pl-en>len</span>(<span class=pl-s1>self</span>.<span class=pl-s1>message</span>), <span class=pl-s1>self</span>.<span class=pl-s1>message</span>))</td>
        </tr>
        <tr>
          <td id="L794" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="794"></td>
          <td id="LC794" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L795" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="795"></td>
          <td id="LC795" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L796" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="796"></td>
          <td id="LC796" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Progress</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L797" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="797"></td>
          <td id="LC797" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L798" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="798"></td>
          <td id="LC798" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of progress elements. The progress</span></td>
        </tr>
        <tr>
          <td id="L799" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="799"></td>
          <td id="LC799" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  element only contains a progress message, which is printed by fast-import</span></td>
        </tr>
        <tr>
          <td id="L800" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="800"></td>
          <td id="LC800" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  when it processes the progress output.</span></td>
        </tr>
        <tr>
          <td id="L801" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="801"></td>
          <td id="LC801" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L802" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="802"></td>
          <td id="LC802" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L803" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="803"></td>
          <td id="LC803" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>message</span>):</td>
        </tr>
        <tr>
          <td id="L804" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="804"></td>
          <td id="LC804" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L805" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="805"></td>
          <td id="LC805" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L806" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="806"></td>
          <td id="LC806" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a progress element</span></td>
        </tr>
        <tr>
          <td id="L807" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="807"></td>
          <td id="LC807" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;progress&#39;</span></td>
        </tr>
        <tr>
          <td id="L808" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="808"></td>
          <td id="LC808" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L809" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="809"></td>
          <td id="LC809" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the progress message</span></td>
        </tr>
        <tr>
          <td id="L810" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="810"></td>
          <td id="LC810" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>message</span></td>
        </tr>
        <tr>
          <td id="L811" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="811"></td>
          <td id="LC811" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L812" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="812"></td>
          <td id="LC812" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L813" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="813"></td>
          <td id="LC813" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L814" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="814"></td>
          <td id="LC814" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this progress element to a file</span></td>
        </tr>
        <tr>
          <td id="L815" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="815"></td>
          <td id="LC815" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L816" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="816"></td>
          <td id="LC816" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L817" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="817"></td>
          <td id="LC817" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L818" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="818"></td>
          <td id="LC818" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;progress %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L819" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="819"></td>
          <td id="LC819" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L820" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="820"></td>
          <td id="LC820" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L821" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="821"></td>
          <td id="LC821" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Checkpoint</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L822" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="822"></td>
          <td id="LC822" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L823" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="823"></td>
          <td id="LC823" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of checkpoint elements.  These</span></td>
        </tr>
        <tr>
          <td id="L824" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="824"></td>
          <td id="LC824" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  elements represent events which force fast-import to close the current</span></td>
        </tr>
        <tr>
          <td id="L825" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="825"></td>
          <td id="LC825" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  packfile, start a new one, and to save out all current branch refs, tags</span></td>
        </tr>
        <tr>
          <td id="L826" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="826"></td>
          <td id="LC826" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  and marks.</span></td>
        </tr>
        <tr>
          <td id="L827" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="827"></td>
          <td id="LC827" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L828" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="828"></td>
          <td id="LC828" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L829" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="829"></td>
          <td id="LC829" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L830" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="830"></td>
          <td id="LC830" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L831" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="831"></td>
          <td id="LC831" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L832" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="832"></td>
          <td id="LC832" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a checkpoint element</span></td>
        </tr>
        <tr>
          <td id="L833" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="833"></td>
          <td id="LC833" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;checkpoint&#39;</span></td>
        </tr>
        <tr>
          <td id="L834" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="834"></td>
          <td id="LC834" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L835" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="835"></td>
          <td id="LC835" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L836" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="836"></td>
          <td id="LC836" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L837" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="837"></td>
          <td id="LC837" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this checkpoint element to a file</span></td>
        </tr>
        <tr>
          <td id="L838" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="838"></td>
          <td id="LC838" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L839" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="839"></td>
          <td id="LC839" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L840" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="840"></td>
          <td id="LC840" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L841" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="841"></td>
          <td id="LC841" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;checkpoint<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L842" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="842"></td>
          <td id="LC842" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L843" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="843"></td>
          <td id="LC843" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L844" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="844"></td>
          <td id="LC844" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>LiteralCommand</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L845" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="845"></td>
          <td id="LC845" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L846" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="846"></td>
          <td id="LC846" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of commands. The literal command</span></td>
        </tr>
        <tr>
          <td id="L847" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="847"></td>
          <td id="LC847" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  includes only a single line, and is not processed in any special way.</span></td>
        </tr>
        <tr>
          <td id="L848" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="848"></td>
          <td id="LC848" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L849" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="849"></td>
          <td id="LC849" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L850" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="850"></td>
          <td id="LC850" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>line</span>):</td>
        </tr>
        <tr>
          <td id="L851" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="851"></td>
          <td id="LC851" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L852" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="852"></td>
          <td id="LC852" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L853" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="853"></td>
          <td id="LC853" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a literal element</span></td>
        </tr>
        <tr>
          <td id="L854" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="854"></td>
          <td id="LC854" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;literal&#39;</span></td>
        </tr>
        <tr>
          <td id="L855" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="855"></td>
          <td id="LC855" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L856" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="856"></td>
          <td id="LC856" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store the command</span></td>
        </tr>
        <tr>
          <td id="L857" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="857"></td>
          <td id="LC857" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span></td>
        </tr>
        <tr>
          <td id="L858" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="858"></td>
          <td id="LC858" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L859" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="859"></td>
          <td id="LC859" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L860" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="860"></td>
          <td id="LC860" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L861" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="861"></td>
          <td id="LC861" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this progress element to a file</span></td>
        </tr>
        <tr>
          <td id="L862" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="862"></td>
          <td id="LC862" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L863" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="863"></td>
          <td id="LC863" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L864" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="864"></td>
          <td id="LC864" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L865" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="865"></td>
          <td id="LC865" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s1>self</span>.<span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L866" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="866"></td>
          <td id="LC866" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L867" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="867"></td>
          <td id="LC867" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>Alias</span>(<span class=pl-s1>_GitElement</span>):</td>
        </tr>
        <tr>
          <td id="L868" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="868"></td>
          <td id="LC868" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L869" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="869"></td>
          <td id="LC869" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  This class defines our representation of fast-import alias elements.  An</span></td>
        </tr>
        <tr>
          <td id="L870" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="870"></td>
          <td id="LC870" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  alias element is the setting of one mark to the same sha1sum as another,</span></td>
        </tr>
        <tr>
          <td id="L871" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="871"></td>
          <td id="LC871" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  usually because the newer mark corresponded to a pruned commit.</span></td>
        </tr>
        <tr>
          <td id="L872" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="872"></td>
          <td id="LC872" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L873" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="873"></td>
          <td id="LC873" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L874" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="874"></td>
          <td id="LC874" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>ref</span>, <span class=pl-s1>to_ref</span>):</td>
        </tr>
        <tr>
          <td id="L875" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="875"></td>
          <td id="LC875" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>_GitElement</span>.<span class=pl-en>__init__</span>(<span class=pl-s1>self</span>)</td>
        </tr>
        <tr>
          <td id="L876" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="876"></td>
          <td id="LC876" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Denote that this is a reset</span></td>
        </tr>
        <tr>
          <td id="L877" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="877"></td>
          <td id="LC877" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;alias&#39;</span></td>
        </tr>
        <tr>
          <td id="L878" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="878"></td>
          <td id="LC878" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L879" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="879"></td>
          <td id="LC879" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>ref</span></td>
        </tr>
        <tr>
          <td id="L880" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="880"></td>
          <td id="LC880" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>to_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>to_ref</span></td>
        </tr>
        <tr>
          <td id="L881" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="881"></td>
          <td id="LC881" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L882" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="882"></td>
          <td id="LC882" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>dump</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file_</span>):</td>
        </tr>
        <tr>
          <td id="L883" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="883"></td>
          <td id="LC883" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L884" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="884"></td>
          <td id="LC884" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Write this reset element to a file</span></td>
        </tr>
        <tr>
          <td id="L885" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="885"></td>
          <td id="LC885" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L886" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="886"></td>
          <td id="LC886" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>dumped</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L887" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="887"></td>
          <td id="LC887" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L888" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="888"></td>
          <td id="LC888" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;alias<span class=pl-cce>\n</span>mark :%d<span class=pl-cce>\n</span>to :%d<span class=pl-cce>\n</span><span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>self</span>.<span class=pl-s1>ref</span>, <span class=pl-s1>self</span>.<span class=pl-s1>to_ref</span>))</td>
        </tr>
        <tr>
          <td id="L889" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="889"></td>
          <td id="LC889" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L890" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="890"></td>
          <td id="LC890" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>FastExportParser</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L891" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="891"></td>
          <td id="LC891" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L892" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="892"></td>
          <td id="LC892" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  A class for parsing and handling the output from fast-export. This</span></td>
        </tr>
        <tr>
          <td id="L893" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="893"></td>
          <td id="LC893" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  class allows the user to register callbacks when various types of</span></td>
        </tr>
        <tr>
          <td id="L894" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="894"></td>
          <td id="LC894" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  data are encountered in the fast-export output. The basic idea is that,</span></td>
        </tr>
        <tr>
          <td id="L895" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="895"></td>
          <td id="LC895" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  FastExportParser takes fast-export output, creates the various objects</span></td>
        </tr>
        <tr>
          <td id="L896" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="896"></td>
          <td id="LC896" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  as it encounters them, the user gets to use/modify these objects via</span></td>
        </tr>
        <tr>
          <td id="L897" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="897"></td>
          <td id="LC897" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  callbacks, and finally FastExportParser outputs the modified objects</span></td>
        </tr>
        <tr>
          <td id="L898" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="898"></td>
          <td id="LC898" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  in fast-import format (presumably so they can be used to create a new</span></td>
        </tr>
        <tr>
          <td id="L899" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="899"></td>
          <td id="LC899" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  repo).</span></td>
        </tr>
        <tr>
          <td id="L900" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="900"></td>
          <td id="LC900" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L901" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="901"></td>
          <td id="LC901" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L902" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="902"></td>
          <td id="LC902" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>,</td>
        </tr>
        <tr>
          <td id="L903" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="903"></td>
          <td id="LC903" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>tag_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,   <span class=pl-s1>commit_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L904" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="904"></td>
          <td id="LC904" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>blob_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,  <span class=pl-s1>progress_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L905" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="905"></td>
          <td id="LC905" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>reset_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-s1>checkpoint_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L906" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="906"></td>
          <td id="LC906" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>done_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L907" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="907"></td>
          <td id="LC907" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Members below simply store callback functions for the various git</span></td>
        </tr>
        <tr>
          <td id="L908" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="908"></td>
          <td id="LC908" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># elements</span></td>
        </tr>
        <tr>
          <td id="L909" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="909"></td>
          <td id="LC909" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_tag_callback</span>        <span class=pl-c1>=</span> <span class=pl-s1>tag_callback</span></td>
        </tr>
        <tr>
          <td id="L910" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="910"></td>
          <td id="LC910" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span>       <span class=pl-c1>=</span> <span class=pl-s1>blob_callback</span></td>
        </tr>
        <tr>
          <td id="L911" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="911"></td>
          <td id="LC911" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_reset_callback</span>      <span class=pl-c1>=</span> <span class=pl-s1>reset_callback</span></td>
        </tr>
        <tr>
          <td id="L912" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="912"></td>
          <td id="LC912" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commit_callback</span>     <span class=pl-c1>=</span> <span class=pl-s1>commit_callback</span></td>
        </tr>
        <tr>
          <td id="L913" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="913"></td>
          <td id="LC913" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_progress_callback</span>   <span class=pl-c1>=</span> <span class=pl-s1>progress_callback</span></td>
        </tr>
        <tr>
          <td id="L914" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="914"></td>
          <td id="LC914" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_checkpoint_callback</span> <span class=pl-c1>=</span> <span class=pl-s1>checkpoint_callback</span></td>
        </tr>
        <tr>
          <td id="L915" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="915"></td>
          <td id="LC915" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_done_callback</span>       <span class=pl-c1>=</span> <span class=pl-s1>done_callback</span></td>
        </tr>
        <tr>
          <td id="L916" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="916"></td>
          <td id="LC916" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L917" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="917"></td>
          <td id="LC917" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Keep track of which refs appear from the export, and which make it to</span></td>
        </tr>
        <tr>
          <td id="L918" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="918"></td>
          <td id="LC918" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># the import (pruning of empty commits, renaming of refs, and creating</span></td>
        </tr>
        <tr>
          <td id="L919" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="919"></td>
          <td id="LC919" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># new manual objects and inserting them can cause these to differ).</span></td>
        </tr>
        <tr>
          <td id="L920" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="920"></td>
          <td id="LC920" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_exported_refs</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L921" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="921"></td>
          <td id="LC921" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L922" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="922"></td>
          <td id="LC922" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L923" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="923"></td>
          <td id="LC923" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A list of the branches we&#39;ve seen, plus the last known commit they</span></td>
        </tr>
        <tr>
          <td id="L924" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="924"></td>
          <td id="LC924" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># pointed to.  An entry in latest_*commit will be deleted if we get a</span></td>
        </tr>
        <tr>
          <td id="L925" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="925"></td>
          <td id="LC925" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># reset for that branch.  These are used because of fast-import&#39;s weird</span></td>
        </tr>
        <tr>
          <td id="L926" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="926"></td>
          <td id="LC926" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># decision to allow having an implicit parent via naming the branch</span></td>
        </tr>
        <tr>
          <td id="L927" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="927"></td>
          <td id="LC927" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># instead of requiring branches to be specified via &#39;from&#39; directives.</span></td>
        </tr>
        <tr>
          <td id="L928" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="928"></td>
          <td id="LC928" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L929" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="929"></td>
          <td id="LC929" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L930" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="930"></td>
          <td id="LC930" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L931" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="931"></td>
          <td id="LC931" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A handle to the input source for the fast-export data</span></td>
        </tr>
        <tr>
          <td id="L932" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="932"></td>
          <td id="LC932" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L933" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="933"></td>
          <td id="LC933" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L934" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="934"></td>
          <td id="LC934" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A handle to the output file for the output we generate (we call dump</span></td>
        </tr>
        <tr>
          <td id="L935" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="935"></td>
          <td id="LC935" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># on many of the git elements we create).</span></td>
        </tr>
        <tr>
          <td id="L936" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="936"></td>
          <td id="LC936" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L937" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="937"></td>
          <td id="LC937" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L938" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="938"></td>
          <td id="LC938" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Stores the contents of the current line of input being parsed</span></td>
        </tr>
        <tr>
          <td id="L939" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="939"></td>
          <td id="LC939" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L940" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="940"></td>
          <td id="LC940" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L941" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="941"></td>
          <td id="LC941" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Compile some regexes and cache those</span></td>
        </tr>
        <tr>
          <td id="L942" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="942"></td>
          <td id="LC942" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_mark_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;mark :(\d+)\n$&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L943" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="943"></td>
          <td id="LC943" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_parent_regexes</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L944" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="944"></td>
          <td id="LC944" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parent_regex_rules</span> <span class=pl-c1>=</span> (<span class=pl-s>br&#39; :(\d+)\n$&#39;</span>, <span class=pl-s>br&#39; ([0-9a-f]{40})\n&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L945" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="945"></td>
          <td id="LC945" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>parent_refname</span> <span class=pl-c1>in</span> (<span class=pl-s>b&#39;from&#39;</span>, <span class=pl-s>b&#39;merge&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L946" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="946"></td>
          <td id="LC946" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>ans</span> <span class=pl-c1>=</span> [<span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>parent_refname</span><span class=pl-c1>+</span><span class=pl-s1>x</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>parent_regex_rules</span>]</td>
        </tr>
        <tr>
          <td id="L947" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="947"></td>
          <td id="LC947" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_parent_regexes</span>[<span class=pl-s1>parent_refname</span>] <span class=pl-c1>=</span> <span class=pl-s1>ans</span></td>
        </tr>
        <tr>
          <td id="L948" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="948"></td>
          <td id="LC948" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_quoted_string_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;&quot;(?:[^&quot;\\]|\\.)*&quot;&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L949" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="949"></td>
          <td id="LC949" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_refline_regexes</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L950" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="950"></td>
          <td id="LC950" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>refline_name</span> <span class=pl-c1>in</span> (<span class=pl-s>b&#39;reset&#39;</span>, <span class=pl-s>b&#39;commit&#39;</span>, <span class=pl-s>b&#39;tag&#39;</span>, <span class=pl-s>b&#39;progress&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L951" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="951"></td>
          <td id="LC951" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_refline_regexes</span>[<span class=pl-s1>refline_name</span>] <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>refline_name</span><span class=pl-c1>+</span><span class=pl-s>b&#39; (.*)<span class=pl-cce>\n</span>$&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L952" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="952"></td>
          <td id="LC952" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_user_regexes</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L953" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="953"></td>
          <td id="LC953" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>user</span> <span class=pl-c1>in</span> (<span class=pl-s>b&#39;author&#39;</span>, <span class=pl-s>b&#39;committer&#39;</span>, <span class=pl-s>b&#39;tagger&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L954" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="954"></td>
          <td id="LC954" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_user_regexes</span>[<span class=pl-s1>user</span>] <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>user</span> <span class=pl-c1>+</span> <span class=pl-s>b&#39; (.*?) &lt;(.*?)&gt; (.*)<span class=pl-cce>\n</span>$&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L955" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="955"></td>
          <td id="LC955" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L956" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="956"></td>
          <td id="LC956" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_advance_currentline</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L957" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="957"></td>
          <td id="LC957" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L958" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="958"></td>
          <td id="LC958" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Grab the next line of input</span></td>
        </tr>
        <tr>
          <td id="L959" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="959"></td>
          <td id="LC959" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L960" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="960"></td>
          <td id="LC960" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span>.<span class=pl-en>readline</span>()</td>
        </tr>
        <tr>
          <td id="L961" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="961"></td>
          <td id="LC961" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L962" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="962"></td>
          <td id="LC962" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_optional_mark</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L963" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="963"></td>
          <td id="LC963" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L964" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="964"></td>
          <td id="LC964" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    If the current line contains a mark, parse it and advance to the</span></td>
        </tr>
        <tr>
          <td id="L965" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="965"></td>
          <td id="LC965" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    next line; return None otherwise</span></td>
        </tr>
        <tr>
          <td id="L966" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="966"></td>
          <td id="LC966" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L967" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="967"></td>
          <td id="LC967" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>mark</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L968" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="968"></td>
          <td id="LC968" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>matches</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_mark_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L969" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="969"></td>
          <td id="LC969" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>matches</span>:</td>
        </tr>
        <tr>
          <td id="L970" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="970"></td>
          <td id="LC970" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>mark</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>matches</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>))</td>
        </tr>
        <tr>
          <td id="L971" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="971"></td>
          <td id="LC971" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L972" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="972"></td>
          <td id="LC972" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>mark</span></td>
        </tr>
        <tr>
          <td id="L973" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="973"></td>
          <td id="LC973" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L974" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="974"></td>
          <td id="LC974" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_optional_parent_ref</span>(<span class=pl-s1>self</span>, <span class=pl-s1>refname</span>):</td>
        </tr>
        <tr>
          <td id="L975" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="975"></td>
          <td id="LC975" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L976" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="976"></td>
          <td id="LC976" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    If the current line contains a reference to a parent commit, then</span></td>
        </tr>
        <tr>
          <td id="L977" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="977"></td>
          <td id="LC977" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    parse it and advance the current line; otherwise return None. Note</span></td>
        </tr>
        <tr>
          <td id="L978" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="978"></td>
          <td id="LC978" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    that the name of the reference (&#39;from&#39;, &#39;merge&#39;) must match the</span></td>
        </tr>
        <tr>
          <td id="L979" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="979"></td>
          <td id="LC979" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    refname arg.</span></td>
        </tr>
        <tr>
          <td id="L980" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="980"></td>
          <td id="LC980" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L981" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="981"></td>
          <td id="LC981" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>orig_baseref</span>, <span class=pl-s1>baseref</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L982" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="982"></td>
          <td id="LC982" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rule</span>, <span class=pl-s1>altrule</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_parent_regexes</span>[<span class=pl-s1>refname</span>]</td>
        </tr>
        <tr>
          <td id="L983" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="983"></td>
          <td id="LC983" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>matches</span> <span class=pl-c1>=</span> <span class=pl-s1>rule</span>.<span class=pl-en>match</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L984" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="984"></td>
          <td id="LC984" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>matches</span>:</td>
        </tr>
        <tr>
          <td id="L985" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="985"></td>
          <td id="LC985" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_baseref</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>matches</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>))</td>
        </tr>
        <tr>
          <td id="L986" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="986"></td>
          <td id="LC986" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># We translate the parent commit mark to what it needs to be in</span></td>
        </tr>
        <tr>
          <td id="L987" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="987"></td>
          <td id="LC987" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># our mark namespace</span></td>
        </tr>
        <tr>
          <td id="L988" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="988"></td>
          <td id="LC988" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>baseref</span> <span class=pl-c1>=</span> <span class=pl-s1>_IDS</span>.<span class=pl-en>translate</span>(<span class=pl-s1>orig_baseref</span>)</td>
        </tr>
        <tr>
          <td id="L989" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="989"></td>
          <td id="LC989" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L990" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="990"></td>
          <td id="LC990" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L991" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="991"></td>
          <td id="LC991" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>matches</span> <span class=pl-c1>=</span> <span class=pl-s1>altrule</span>.<span class=pl-en>match</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L992" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="992"></td>
          <td id="LC992" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>matches</span>:</td>
        </tr>
        <tr>
          <td id="L993" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="993"></td>
          <td id="LC993" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>orig_baseref</span> <span class=pl-c1>=</span> <span class=pl-s1>matches</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L994" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="994"></td>
          <td id="LC994" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>baseref</span> <span class=pl-c1>=</span> <span class=pl-s1>orig_baseref</span></td>
        </tr>
        <tr>
          <td id="L995" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="995"></td>
          <td id="LC995" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L996" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="996"></td>
          <td id="LC996" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>orig_baseref</span>, <span class=pl-s1>baseref</span></td>
        </tr>
        <tr>
          <td id="L997" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="997"></td>
          <td id="LC997" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L998" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="998"></td>
          <td id="LC998" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_optional_filechange</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L999" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="999"></td>
          <td id="LC999" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1000" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1000"></td>
          <td id="LC1000" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    If the current line contains a file-change object, then parse it</span></td>
        </tr>
        <tr>
          <td id="L1001" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1001"></td>
          <td id="LC1001" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    and advance the current line; otherwise return None. We only care</span></td>
        </tr>
        <tr>
          <td id="L1002" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1002"></td>
          <td id="LC1002" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    about file changes of type b&#39;M&#39; and b&#39;D&#39; (these are the only types</span></td>
        </tr>
        <tr>
          <td id="L1003" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1003"></td>
          <td id="LC1003" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    of file-changes that fast-export will provide).</span></td>
        </tr>
        <tr>
          <td id="L1004" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1004"></td>
          <td id="LC1004" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1005" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1005"></td>
          <td id="LC1005" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>filechange</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1006" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1006"></td>
          <td id="LC1006" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>changetype</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>[<span class=pl-c1>0</span>:<span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L1007" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1007"></td>
          <td id="LC1007" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>changetype</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1008" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1008"></td>
          <td id="LC1008" class="blob-code blob-code-inner js-file-line">      (<span class=pl-s1>changetype</span>, <span class=pl-s1>mode</span>, <span class=pl-s1>idnum</span>, <span class=pl-s1>path</span>) <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>split</span>(<span class=pl-c1>None</span>, <span class=pl-c1>3</span>)</td>
        </tr>
        <tr>
          <td id="L1009" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1009"></td>
          <td id="LC1009" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>idnum</span>[<span class=pl-c1>0</span>:<span class=pl-c1>1</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;:&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1010" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1010"></td>
          <td id="LC1010" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>idnum</span> <span class=pl-c1>=</span> <span class=pl-s1>idnum</span>[<span class=pl-c1>1</span>:]</td>
        </tr>
        <tr>
          <td id="L1011" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1011"></td>
          <td id="LC1011" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-s1>path</span>.<span class=pl-en>rstrip</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1012" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1012"></td>
          <td id="LC1012" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># We translate the idnum to our id system</span></td>
        </tr>
        <tr>
          <td id="L1013" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1013"></td>
          <td id="LC1013" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>idnum</span>) <span class=pl-c1>!=</span> <span class=pl-c1>40</span>:</td>
        </tr>
        <tr>
          <td id="L1014" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1014"></td>
          <td id="LC1014" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>idnum</span> <span class=pl-c1>=</span> <span class=pl-s1>_IDS</span>.<span class=pl-en>translate</span>( <span class=pl-en>int</span>(<span class=pl-s1>idnum</span>) )</td>
        </tr>
        <tr>
          <td id="L1015" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1015"></td>
          <td id="LC1015" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>idnum</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L1016" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1016"></td>
          <td id="LC1016" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>path</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1017" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1017"></td>
          <td id="LC1017" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>path</span>)</td>
        </tr>
        <tr>
          <td id="L1018" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1018"></td>
          <td id="LC1018" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>filechange</span> <span class=pl-c1>=</span> <span class=pl-v>FileChange</span>(<span class=pl-s>b&#39;M&#39;</span>, <span class=pl-s1>path</span>, <span class=pl-s1>idnum</span>, <span class=pl-s1>mode</span>)</td>
        </tr>
        <tr>
          <td id="L1019" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1019"></td>
          <td id="LC1019" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1020" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1020"></td>
          <td id="LC1020" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>filechange</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;skipped&#39;</span></td>
        </tr>
        <tr>
          <td id="L1021" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1021"></td>
          <td id="LC1021" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1022" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1022"></td>
          <td id="LC1022" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>changetype</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1023" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1023"></td>
          <td id="LC1023" class="blob-code blob-code-inner js-file-line">      (<span class=pl-s1>changetype</span>, <span class=pl-s1>path</span>) <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>split</span>(<span class=pl-c1>None</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L1024" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1024"></td>
          <td id="LC1024" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-s1>path</span>.<span class=pl-en>rstrip</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1025" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1025"></td>
          <td id="LC1025" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>path</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1026" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1026"></td>
          <td id="LC1026" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>path</span>)</td>
        </tr>
        <tr>
          <td id="L1027" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1027"></td>
          <td id="LC1027" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>filechange</span> <span class=pl-c1>=</span> <span class=pl-v>FileChange</span>(<span class=pl-s>b&#39;D&#39;</span>, <span class=pl-s1>path</span>)</td>
        </tr>
        <tr>
          <td id="L1028" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1028"></td>
          <td id="LC1028" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1029" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1029"></td>
          <td id="LC1029" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>changetype</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;R&#39;</span>:  <span class=pl-c># pragma: no cover (now avoid fast-export renames)</span></td>
        </tr>
        <tr>
          <td id="L1030" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1030"></td>
          <td id="LC1030" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>rest</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>[<span class=pl-c1>2</span>:<span class=pl-c1>-</span><span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L1031" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1031"></td>
          <td id="LC1031" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>rest</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1032" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1032"></td>
          <td id="LC1032" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>m</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_quoted_string_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>rest</span>)</td>
        </tr>
        <tr>
          <td id="L1033" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1033"></td>
          <td id="LC1033" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>m</span>:</td>
        </tr>
        <tr>
          <td id="L1034" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1034"></td>
          <td id="LC1034" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Couldn&#39;t parse rename source&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1035" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1035"></td>
          <td id="LC1035" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>orig</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>m</span>.<span class=pl-en>group</span>(<span class=pl-c1>0</span>))</td>
        </tr>
        <tr>
          <td id="L1036" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1036"></td>
          <td id="LC1036" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>new</span> <span class=pl-c1>=</span> <span class=pl-s1>rest</span>[<span class=pl-s1>m</span>.<span class=pl-en>end</span>()<span class=pl-c1>+</span><span class=pl-c1>1</span>:]</td>
        </tr>
        <tr>
          <td id="L1037" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1037"></td>
          <td id="LC1037" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1038" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1038"></td>
          <td id="LC1038" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>orig</span>, <span class=pl-s1>new</span> <span class=pl-c1>=</span> <span class=pl-s1>rest</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39; &#39;</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L1039" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1039"></td>
          <td id="LC1039" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>new</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1040" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1040"></td>
          <td id="LC1040" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>new</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>new</span>)</td>
        </tr>
        <tr>
          <td id="L1041" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1041"></td>
          <td id="LC1041" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>filechange</span> <span class=pl-c1>=</span> <span class=pl-v>FileChange</span>(<span class=pl-s>b&#39;R&#39;</span>, <span class=pl-s1>orig</span>, <span class=pl-s1>new</span>)</td>
        </tr>
        <tr>
          <td id="L1042" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1042"></td>
          <td id="LC1042" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1043" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1043"></td>
          <td id="LC1043" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>filechange</span></td>
        </tr>
        <tr>
          <td id="L1044" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1044"></td>
          <td id="LC1044" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1045" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1045"></td>
          <td id="LC1045" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_original_id</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1046" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1046"></td>
          <td id="LC1046" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>[<span class=pl-en>len</span>(<span class=pl-s>b&#39;original-oid &#39;</span>):].<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L1047" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1047"></td>
          <td id="LC1047" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1048" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1048"></td>
          <td id="LC1048" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L1049" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1049"></td>
          <td id="LC1049" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1050" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1050"></td>
          <td id="LC1050" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_encoding</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1051" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1051"></td>
          <td id="LC1051" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>encoding</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>[<span class=pl-en>len</span>(<span class=pl-s>b&#39;encoding &#39;</span>):].<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L1052" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1052"></td>
          <td id="LC1052" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1053" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1053"></td>
          <td id="LC1053" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>encoding</span></td>
        </tr>
        <tr>
          <td id="L1054" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1054"></td>
          <td id="LC1054" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1055" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1055"></td>
          <td id="LC1055" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_ref_line</span>(<span class=pl-s1>self</span>, <span class=pl-s1>refname</span>):</td>
        </tr>
        <tr>
          <td id="L1056" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1056"></td>
          <td id="LC1056" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1057" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1057"></td>
          <td id="LC1057" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parses string data (often a branch name) from current-line. The name of</span></td>
        </tr>
        <tr>
          <td id="L1058" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1058"></td>
          <td id="LC1058" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the string data must match the refname arg. The program will crash if</span></td>
        </tr>
        <tr>
          <td id="L1059" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1059"></td>
          <td id="LC1059" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    current-line does not match, so current-line will always be advanced if</span></td>
        </tr>
        <tr>
          <td id="L1060" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1060"></td>
          <td id="LC1060" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    this method returns.</span></td>
        </tr>
        <tr>
          <td id="L1061" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1061"></td>
          <td id="LC1061" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1062" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1062"></td>
          <td id="LC1062" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>matches</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_refline_regexes</span>[<span class=pl-s1>refname</span>].<span class=pl-en>match</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L1063" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1063"></td>
          <td id="LC1063" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>matches</span>:</td>
        </tr>
        <tr>
          <td id="L1064" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1064"></td>
          <td id="LC1064" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Malformed %(refname)s line: &#39;%(line)s&#39;&quot;</span>) <span class=pl-c1>%</span></td>
        </tr>
        <tr>
          <td id="L1065" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1065"></td>
          <td id="LC1065" class="blob-code blob-code-inner js-file-line">                       ({<span class=pl-s>&#39;refname&#39;</span>: <span class=pl-s1>refname</span>, <span class=pl-s>&#39;line&#39;</span>:<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>})</td>
        </tr>
        <tr>
          <td id="L1066" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1066"></td>
          <td id="LC1066" class="blob-code blob-code-inner js-file-line">                       ) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L1067" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1067"></td>
          <td id="LC1067" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>matches</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L1068" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1068"></td>
          <td id="LC1068" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1069" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1069"></td>
          <td id="LC1069" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>ref</span></td>
        </tr>
        <tr>
          <td id="L1070" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1070"></td>
          <td id="LC1070" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1071" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1071"></td>
          <td id="LC1071" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_user</span>(<span class=pl-s1>self</span>, <span class=pl-s1>usertype</span>):</td>
        </tr>
        <tr>
          <td id="L1072" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1072"></td>
          <td id="LC1072" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1073" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1073"></td>
          <td id="LC1073" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Get user name, email, datestamp from current-line. Current-line will</span></td>
        </tr>
        <tr>
          <td id="L1074" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1074"></td>
          <td id="LC1074" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    be advanced.</span></td>
        </tr>
        <tr>
          <td id="L1075" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1075"></td>
          <td id="LC1075" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1076" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1076"></td>
          <td id="LC1076" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>user_regex</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_user_regexes</span>[<span class=pl-s1>usertype</span>]</td>
        </tr>
        <tr>
          <td id="L1077" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1077"></td>
          <td id="LC1077" class="blob-code blob-code-inner js-file-line">    (<span class=pl-s1>name</span>, <span class=pl-s1>email</span>, <span class=pl-s1>when</span>) <span class=pl-c1>=</span> <span class=pl-s1>user_regex</span>.<span class=pl-en>match</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>).<span class=pl-en>groups</span>()</td>
        </tr>
        <tr>
          <td id="L1078" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1078"></td>
          <td id="LC1078" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1079" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1079"></td>
          <td id="LC1079" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1080" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1080"></td>
          <td id="LC1080" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> (<span class=pl-s1>name</span>, <span class=pl-s1>email</span>, <span class=pl-s1>when</span>)</td>
        </tr>
        <tr>
          <td id="L1081" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1081"></td>
          <td id="LC1081" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1082" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1082"></td>
          <td id="LC1082" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_data</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1083" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1083"></td>
          <td id="LC1083" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1084" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1084"></td>
          <td id="LC1084" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Reads data from _input. Current-line will be advanced until it is beyond</span></td>
        </tr>
        <tr>
          <td id="L1085" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1085"></td>
          <td id="LC1085" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the data.</span></td>
        </tr>
        <tr>
          <td id="L1086" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1086"></td>
          <td id="LC1086" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1087" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1087"></td>
          <td id="LC1087" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>fields</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L1088" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1088"></td>
          <td id="LC1088" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>fields</span>[<span class=pl-c1>0</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;data&#39;</span></td>
        </tr>
        <tr>
          <td id="L1089" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1089"></td>
          <td id="LC1089" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>size</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>fields</span>[<span class=pl-c1>1</span>])</td>
        </tr>
        <tr>
          <td id="L1090" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1090"></td>
          <td id="LC1090" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>data</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span>.<span class=pl-en>read</span>(<span class=pl-s1>size</span>)</td>
        </tr>
        <tr>
          <td id="L1091" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1091"></td>
          <td id="LC1091" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1092" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1092"></td>
          <td id="LC1092" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1093" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1093"></td>
          <td id="LC1093" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1094" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1094"></td>
          <td id="LC1094" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>data</span></td>
        </tr>
        <tr>
          <td id="L1095" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1095"></td>
          <td id="LC1095" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1096" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1096"></td>
          <td id="LC1096" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_blob</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1097" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1097"></td>
          <td id="LC1097" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1098" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1098"></td>
          <td id="LC1098" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Blob object. Once the Blob has been created, it</span></td>
        </tr>
        <tr>
          <td id="L1099" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1099"></td>
          <td id="LC1099" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    will be handed off to the appropriate callbacks. Current-line will be</span></td>
        </tr>
        <tr>
          <td id="L1100" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1100"></td>
          <td id="LC1100" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    advanced until it is beyond this blob&#39;s data. The Blob will be dumped</span></td>
        </tr>
        <tr>
          <td id="L1101" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1101"></td>
          <td id="LC1101" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    to _output once everything else is done (unless it has been skipped by</span></td>
        </tr>
        <tr>
          <td id="L1102" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1102"></td>
          <td id="LC1102" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the callback).</span></td>
        </tr>
        <tr>
          <td id="L1103" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1103"></td>
          <td id="LC1103" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1104" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1104"></td>
          <td id="LC1104" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Blob</span></td>
        </tr>
        <tr>
          <td id="L1105" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1105"></td>
          <td id="LC1105" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1106" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1106"></td>
          <td id="LC1106" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>id_</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_mark</span>()</td>
        </tr>
        <tr>
          <td id="L1107" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1107"></td>
          <td id="LC1107" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1108" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1108"></td>
          <td id="LC1108" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1109" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1109"></td>
          <td id="LC1109" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;original-oid&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1110" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1110"></td>
          <td id="LC1110" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_original_id</span>();</td>
        </tr>
        <tr>
          <td id="L1111" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1111"></td>
          <td id="LC1111" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1112" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1112"></td>
          <td id="LC1112" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>data</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_data</span>()</td>
        </tr>
        <tr>
          <td id="L1113" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1113"></td>
          <td id="LC1113" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1114" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1114"></td>
          <td id="LC1114" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1115" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1115"></td>
          <td id="LC1115" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1116" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1116"></td>
          <td id="LC1116" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the blob</span></td>
        </tr>
        <tr>
          <td id="L1117" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1117"></td>
          <td id="LC1117" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>blob</span> <span class=pl-c1>=</span> <span class=pl-v>Blob</span>(<span class=pl-s1>data</span>, <span class=pl-s1>original_id</span>)</td>
        </tr>
        <tr>
          <td id="L1118" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1118"></td>
          <td id="LC1118" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1119" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1119"></td>
          <td id="LC1119" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If fast-export text had a mark for this blob, need to make sure this</span></td>
        </tr>
        <tr>
          <td id="L1120" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1120"></td>
          <td id="LC1120" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># mark translates to the blob&#39;s true id.</span></td>
        </tr>
        <tr>
          <td id="L1121" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1121"></td>
          <td id="LC1121" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>id_</span>:</td>
        </tr>
        <tr>
          <td id="L1122" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1122"></td>
          <td id="LC1122" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-s1>id_</span></td>
        </tr>
        <tr>
          <td id="L1123" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1123"></td>
          <td id="LC1123" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>_IDS</span>.<span class=pl-en>record_rename</span>(<span class=pl-s1>id_</span>, <span class=pl-s1>blob</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L1124" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1124"></td>
          <td id="LC1124" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1125" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1125"></td>
          <td id="LC1125" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to use/modify the blob</span></td>
        </tr>
        <tr>
          <td id="L1126" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1126"></td>
          <td id="LC1126" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1127" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1127"></td>
          <td id="LC1127" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_blob_callback</span>(<span class=pl-s1>blob</span>)</td>
        </tr>
        <tr>
          <td id="L1128" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1128"></td>
          <td id="LC1128" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1129" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1129"></td>
          <td id="LC1129" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now print the resulting blob</span></td>
        </tr>
        <tr>
          <td id="L1130" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1130"></td>
          <td id="LC1130" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>blob</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L1131" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1131"></td>
          <td id="LC1131" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1132" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1132"></td>
          <td id="LC1132" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1133" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1133"></td>
          <td id="LC1133" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_reset</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1134" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1134"></td>
          <td id="LC1134" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1135" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1135"></td>
          <td id="LC1135" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Reset object. Once the Reset has been created,</span></td>
        </tr>
        <tr>
          <td id="L1136" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1136"></td>
          <td id="LC1136" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    it will be handed off to the appropriate callbacks. Current-line will</span></td>
        </tr>
        <tr>
          <td id="L1137" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1137"></td>
          <td id="LC1137" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    be advanced until it is beyond the reset data. The Reset will be dumped</span></td>
        </tr>
        <tr>
          <td id="L1138" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1138"></td>
          <td id="LC1138" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    to _output once everything else is done (unless it has been skipped by</span></td>
        </tr>
        <tr>
          <td id="L1139" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1139"></td>
          <td id="LC1139" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the callback).</span></td>
        </tr>
        <tr>
          <td id="L1140" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1140"></td>
          <td id="LC1140" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1141" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1141"></td>
          <td id="LC1141" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Reset</span></td>
        </tr>
        <tr>
          <td id="L1142" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1142"></td>
          <td id="LC1142" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_ref_line</span>(<span class=pl-s>b&#39;reset&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1143" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1143"></td>
          <td id="LC1143" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_exported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L1144" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1144"></td>
          <td id="LC1144" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ignoreme</span>, <span class=pl-s1>from_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_parent_ref</span>(<span class=pl-s>b&#39;from&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1145" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1145"></td>
          <td id="LC1145" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1146" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1146"></td>
          <td id="LC1146" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1147" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1147"></td>
          <td id="LC1147" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1148" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1148"></td>
          <td id="LC1148" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># fast-export likes to print extraneous resets that serve no purpose.</span></td>
        </tr>
        <tr>
          <td id="L1149" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1149"></td>
          <td id="LC1149" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># While we could continue processing such resets, that is a waste of</span></td>
        </tr>
        <tr>
          <td id="L1150" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1150"></td>
          <td id="LC1150" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># resources.  Also, we want to avoid recording that this ref was</span></td>
        </tr>
        <tr>
          <td id="L1151" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1151"></td>
          <td id="LC1151" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># seen in such cases, since this ref could be rewritten to nothing.</span></td>
        </tr>
        <tr>
          <td id="L1152" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1152"></td>
          <td id="LC1152" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>from_ref</span>:</td>
        </tr>
        <tr>
          <td id="L1153" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1153"></td>
          <td id="LC1153" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span>.<span class=pl-en>pop</span>(<span class=pl-s1>ref</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L1154" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1154"></td>
          <td id="LC1154" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span>.<span class=pl-en>pop</span>(<span class=pl-s1>ref</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L1155" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1155"></td>
          <td id="LC1155" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L1156" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1156"></td>
          <td id="LC1156" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1157" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1157"></td>
          <td id="LC1157" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the reset</span></td>
        </tr>
        <tr>
          <td id="L1158" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1158"></td>
          <td id="LC1158" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>reset</span> <span class=pl-c1>=</span> <span class=pl-v>Reset</span>(<span class=pl-s1>ref</span>, <span class=pl-s1>from_ref</span>)</td>
        </tr>
        <tr>
          <td id="L1159" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1159"></td>
          <td id="LC1159" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1160" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1160"></td>
          <td id="LC1160" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to modify the reset</span></td>
        </tr>
        <tr>
          <td id="L1161" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1161"></td>
          <td id="LC1161" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_reset_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1162" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1162"></td>
          <td id="LC1162" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_reset_callback</span>(<span class=pl-s1>reset</span>)</td>
        </tr>
        <tr>
          <td id="L1163" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1163"></td>
          <td id="LC1163" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1164" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1164"></td>
          <td id="LC1164" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Update metadata</span></td>
        </tr>
        <tr>
          <td id="L1165" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1165"></td>
          <td id="LC1165" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span>[<span class=pl-s1>reset</span>.<span class=pl-s1>ref</span>] <span class=pl-c1>=</span> <span class=pl-s1>reset</span>.<span class=pl-s1>from_ref</span></td>
        </tr>
        <tr>
          <td id="L1166" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1166"></td>
          <td id="LC1166" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span>[<span class=pl-s1>reset</span>.<span class=pl-s1>ref</span>] <span class=pl-c1>=</span> <span class=pl-s1>reset</span>.<span class=pl-s1>from_ref</span></td>
        </tr>
        <tr>
          <td id="L1167" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1167"></td>
          <td id="LC1167" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1168" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1168"></td>
          <td id="LC1168" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now print the resulting reset</span></td>
        </tr>
        <tr>
          <td id="L1169" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1169"></td>
          <td id="LC1169" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>reset</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L1170" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1170"></td>
          <td id="LC1170" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>reset</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L1171" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1171"></td>
          <td id="LC1171" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reset</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1172" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1172"></td>
          <td id="LC1172" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1173" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1173"></td>
          <td id="LC1173" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_commit</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1174" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1174"></td>
          <td id="LC1174" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1175" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1175"></td>
          <td id="LC1175" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Commit object. Once the Commit has been created,</span></td>
        </tr>
        <tr>
          <td id="L1176" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1176"></td>
          <td id="LC1176" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    it will be handed off to the appropriate callbacks. Current-line will</span></td>
        </tr>
        <tr>
          <td id="L1177" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1177"></td>
          <td id="LC1177" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    be advanced until it is beyond the commit data. The Commit will be dumped</span></td>
        </tr>
        <tr>
          <td id="L1178" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1178"></td>
          <td id="LC1178" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    to _output once everything else is done (unless it has been skipped by</span></td>
        </tr>
        <tr>
          <td id="L1179" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1179"></td>
          <td id="LC1179" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the callback OR the callback has removed all file-changes from the commit).</span></td>
        </tr>
        <tr>
          <td id="L1180" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1180"></td>
          <td id="LC1180" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1181" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1181"></td>
          <td id="LC1181" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Commit. This may look involved, but it&#39;s pretty simple; it only</span></td>
        </tr>
        <tr>
          <td id="L1182" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1182"></td>
          <td id="LC1182" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># looks bad because a commit object contains many pieces of data.</span></td>
        </tr>
        <tr>
          <td id="L1183" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1183"></td>
          <td id="LC1183" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>branch</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_ref_line</span>(<span class=pl-s>b&#39;commit&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1184" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1184"></td>
          <td id="LC1184" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_exported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L1185" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1185"></td>
          <td id="LC1185" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>id_</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_mark</span>()</td>
        </tr>
        <tr>
          <td id="L1186" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1186"></td>
          <td id="LC1186" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1187" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1187"></td>
          <td id="LC1187" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1188" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1188"></td>
          <td id="LC1188" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;original-oid&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1189" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1189"></td>
          <td id="LC1189" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_original_id</span>();</td>
        </tr>
        <tr>
          <td id="L1190" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1190"></td>
          <td id="LC1190" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1191" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1191"></td>
          <td id="LC1191" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>author_name</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1192" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1192"></td>
          <td id="LC1192" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>author_email</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1193" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1193"></td>
          <td id="LC1193" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;author&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1194" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1194"></td>
          <td id="LC1194" class="blob-code blob-code-inner js-file-line">      (<span class=pl-s1>author_name</span>, <span class=pl-s1>author_email</span>, <span class=pl-s1>author_date</span>) <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_user</span>(<span class=pl-s>b&#39;author&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1195" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1195"></td>
          <td id="LC1195" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1196" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1196"></td>
          <td id="LC1196" class="blob-code blob-code-inner js-file-line">    (<span class=pl-s1>committer_name</span>, <span class=pl-s1>committer_email</span>, <span class=pl-s1>committer_date</span>) <span class=pl-c1>=</span> \</td>
        </tr>
        <tr>
          <td id="L1197" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1197"></td>
          <td id="LC1197" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_parse_user</span>(<span class=pl-s>b&#39;committer&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1198" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1198"></td>
          <td id="LC1198" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1199" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1199"></td>
          <td id="LC1199" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>author_name</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>author_email</span>:</td>
        </tr>
        <tr>
          <td id="L1200" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1200"></td>
          <td id="LC1200" class="blob-code blob-code-inner js-file-line">      (<span class=pl-s1>author_name</span>, <span class=pl-s1>author_email</span>, <span class=pl-s1>author_date</span>) <span class=pl-c1>=</span> \</td>
        </tr>
        <tr>
          <td id="L1201" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1201"></td>
          <td id="LC1201" class="blob-code blob-code-inner js-file-line">        (<span class=pl-s1>committer_name</span>, <span class=pl-s1>committer_email</span>, <span class=pl-s1>committer_date</span>)</td>
        </tr>
        <tr>
          <td id="L1202" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1202"></td>
          <td id="LC1202" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1203" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1203"></td>
          <td id="LC1203" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>encoding</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1204" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1204"></td>
          <td id="LC1204" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;encoding &#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1205" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1205"></td>
          <td id="LC1205" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>encoding</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_encoding</span>()</td>
        </tr>
        <tr>
          <td id="L1206" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1206"></td>
          <td id="LC1206" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1207" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1207"></td>
          <td id="LC1207" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit_msg</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_data</span>()</td>
        </tr>
        <tr>
          <td id="L1208" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1208"></td>
          <td id="LC1208" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1209" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1209"></td>
          <td id="LC1209" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>pinfo</span> <span class=pl-c1>=</span> [<span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_parent_ref</span>(<span class=pl-s>b&#39;from&#39;</span>)]</td>
        </tr>
        <tr>
          <td id="L1210" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1210"></td>
          <td id="LC1210" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Due to empty pruning, we can have real &#39;from&#39; and &#39;merge&#39; lines that</span></td>
        </tr>
        <tr>
          <td id="L1211" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1211"></td>
          <td id="LC1211" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># due to commit rewriting map to a parent of None.  We need to record</span></td>
        </tr>
        <tr>
          <td id="L1212" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1212"></td>
          <td id="LC1212" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># &#39;from&#39; if its non-None, and we need to parse all &#39;merge&#39; lines.</span></td>
        </tr>
        <tr>
          <td id="L1213" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1213"></td>
          <td id="LC1213" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;merge &#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1214" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1214"></td>
          <td id="LC1214" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>pinfo</span>.<span class=pl-en>append</span>(<span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_parent_ref</span>(<span class=pl-s>b&#39;merge&#39;</span>))</td>
        </tr>
        <tr>
          <td id="L1215" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1215"></td>
          <td id="LC1215" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>orig_parents</span>, <span class=pl-s1>parents</span> <span class=pl-c1>=</span> [<span class=pl-en>list</span>(<span class=pl-s1>tmp</span>) <span class=pl-k>for</span> <span class=pl-s1>tmp</span> <span class=pl-c1>in</span> <span class=pl-en>zip</span>(<span class=pl-c1>*</span><span class=pl-s1>pinfo</span>)]</td>
        </tr>
        <tr>
          <td id="L1216" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1216"></td>
          <td id="LC1216" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1217" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1217"></td>
          <td id="LC1217" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># No parents is oddly represented as [None] instead of [], due to the</span></td>
        </tr>
        <tr>
          <td id="L1218" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1218"></td>
          <td id="LC1218" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># special &#39;from&#39; handling.  Convert it here to a more canonical form.</span></td>
        </tr>
        <tr>
          <td id="L1219" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1219"></td>
          <td id="LC1219" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>parents</span> <span class=pl-c1>==</span> [<span class=pl-c1>None</span>]:</td>
        </tr>
        <tr>
          <td id="L1220" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1220"></td>
          <td id="LC1220" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parents</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L1221" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1221"></td>
          <td id="LC1221" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>orig_parents</span> <span class=pl-c1>==</span> [<span class=pl-c1>None</span>]:</td>
        </tr>
        <tr>
          <td id="L1222" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1222"></td>
          <td id="LC1222" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_parents</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L1223" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1223"></td>
          <td id="LC1223" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1224" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1224"></td>
          <td id="LC1224" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># fast-import format is kinda stupid in that it allows implicit parents</span></td>
        </tr>
        <tr>
          <td id="L1225" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1225"></td>
          <td id="LC1225" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># based on the branch name instead of requiring them to be specified by</span></td>
        </tr>
        <tr>
          <td id="L1226" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1226"></td>
          <td id="LC1226" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># &#39;from&#39; directives.  The only way to get no parent is by using a reset</span></td>
        </tr>
        <tr>
          <td id="L1227" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1227"></td>
          <td id="LC1227" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># directive first, which clears the latest_commit_for_this_branch tracking.</span></td>
        </tr>
        <tr>
          <td id="L1228" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1228"></td>
          <td id="LC1228" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>orig_parents</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span>.<span class=pl-en>get</span>(<span class=pl-s1>branch</span>):</td>
        </tr>
        <tr>
          <td id="L1229" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1229"></td>
          <td id="LC1229" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parents</span> <span class=pl-c1>=</span> [<span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span>[<span class=pl-s1>branch</span>]]</td>
        </tr>
        <tr>
          <td id="L1230" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1230"></td>
          <td id="LC1230" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>orig_parents</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span>.<span class=pl-en>get</span>(<span class=pl-s1>branch</span>):</td>
        </tr>
        <tr>
          <td id="L1231" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1231"></td>
          <td id="LC1231" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_parents</span> <span class=pl-c1>=</span> [<span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span>[<span class=pl-s1>branch</span>]]</td>
        </tr>
        <tr>
          <td id="L1232" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1232"></td>
          <td id="LC1232" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1233" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1233"></td>
          <td id="LC1233" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Get the list of file changes</span></td>
        </tr>
        <tr>
          <td id="L1234" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1234"></td>
          <td id="LC1234" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L1235" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1235"></td>
          <td id="LC1235" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_change</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_filechange</span>()</td>
        </tr>
        <tr>
          <td id="L1236" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1236"></td>
          <td id="LC1236" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>had_file_changes</span> <span class=pl-c1>=</span> <span class=pl-s1>file_change</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1237" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1237"></td>
          <td id="LC1237" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>file_change</span>:</td>
        </tr>
        <tr>
          <td id="L1238" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1238"></td>
          <td id="LC1238" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> (<span class=pl-en>type</span>(<span class=pl-s1>file_change</span>) <span class=pl-c1>==</span> <span class=pl-s1>bytes</span> <span class=pl-c1>and</span> <span class=pl-s1>file_change</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;skipped&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1239" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1239"></td>
          <td id="LC1239" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_changes</span>.<span class=pl-en>append</span>(<span class=pl-s1>file_change</span>)</td>
        </tr>
        <tr>
          <td id="L1240" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1240"></td>
          <td id="LC1240" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_change</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_filechange</span>()</td>
        </tr>
        <tr>
          <td id="L1241" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1241"></td>
          <td id="LC1241" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1242" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1242"></td>
          <td id="LC1242" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1243" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1243"></td>
          <td id="LC1243" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1244" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1244"></td>
          <td id="LC1244" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Okay, now we can finally create the Commit object</span></td>
        </tr>
        <tr>
          <td id="L1245" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1245"></td>
          <td id="LC1245" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit</span> <span class=pl-c1>=</span> <span class=pl-v>Commit</span>(<span class=pl-s1>branch</span>,</td>
        </tr>
        <tr>
          <td id="L1246" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1246"></td>
          <td id="LC1246" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>author_name</span>,    <span class=pl-s1>author_email</span>,    <span class=pl-s1>author_date</span>,</td>
        </tr>
        <tr>
          <td id="L1247" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1247"></td>
          <td id="LC1247" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>committer_name</span>, <span class=pl-s1>committer_email</span>, <span class=pl-s1>committer_date</span>,</td>
        </tr>
        <tr>
          <td id="L1248" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1248"></td>
          <td id="LC1248" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>commit_msg</span>, <span class=pl-s1>file_changes</span>, <span class=pl-s1>parents</span>, <span class=pl-s1>original_id</span>, <span class=pl-s1>encoding</span>)</td>
        </tr>
        <tr>
          <td id="L1249" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1249"></td>
          <td id="LC1249" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1250" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1250"></td>
          <td id="LC1250" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If fast-export text had a mark for this commit, need to make sure this</span></td>
        </tr>
        <tr>
          <td id="L1251" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1251"></td>
          <td id="LC1251" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># mark translates to the commit&#39;s true id.</span></td>
        </tr>
        <tr>
          <td id="L1252" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1252"></td>
          <td id="LC1252" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>id_</span>:</td>
        </tr>
        <tr>
          <td id="L1253" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1253"></td>
          <td id="LC1253" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-s1>id_</span></td>
        </tr>
        <tr>
          <td id="L1254" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1254"></td>
          <td id="LC1254" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>_IDS</span>.<span class=pl-en>record_rename</span>(<span class=pl-s1>id_</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L1255" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1255"></td>
          <td id="LC1255" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1256" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1256"></td>
          <td id="LC1256" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to modify the commit</span></td>
        </tr>
        <tr>
          <td id="L1257" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1257"></td>
          <td id="LC1257" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>aux_info</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;orig_parents&#39;</span>: <span class=pl-s1>orig_parents</span>,</td>
        </tr>
        <tr>
          <td id="L1258" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1258"></td>
          <td id="LC1258" class="blob-code blob-code-inner js-file-line">                <span class=pl-s>&#39;had_file_changes&#39;</span>: <span class=pl-s1>had_file_changes</span>}</td>
        </tr>
        <tr>
          <td id="L1259" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1259"></td>
          <td id="LC1259" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1260" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1260"></td>
          <td id="LC1260" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_commit_callback</span>(<span class=pl-s1>commit</span>, <span class=pl-s1>aux_info</span>)</td>
        </tr>
        <tr>
          <td id="L1261" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1261"></td>
          <td id="LC1261" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1262" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1262"></td>
          <td id="LC1262" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now print the resulting commit, or if prunable skip it</span></td>
        </tr>
        <tr>
          <td id="L1263" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1263"></td>
          <td id="LC1263" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_latest_orig_commit</span>[<span class=pl-s1>branch</span>] <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L1264" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1264"></td>
          <td id="LC1264" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> (<span class=pl-s1>commit</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>or</span> <span class=pl-s1>commit</span>.<span class=pl-s1>id</span>) <span class=pl-c1>in</span> <span class=pl-s1>_SKIPPED_COMMITS</span>:</td>
        </tr>
        <tr>
          <td id="L1265" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1265"></td>
          <td id="LC1265" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_latest_commit</span>[<span class=pl-s1>branch</span>] <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>id</span></td>
        </tr>
        <tr>
          <td id="L1266" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1266"></td>
          <td id="LC1266" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>commit</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L1267" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1267"></td>
          <td id="LC1267" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L1268" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1268"></td>
          <td id="LC1268" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1269" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1269"></td>
          <td id="LC1269" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1270" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1270"></td>
          <td id="LC1270" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_tag</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1271" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1271"></td>
          <td id="LC1271" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1272" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1272"></td>
          <td id="LC1272" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Tag object. Once the Tag has been created,</span></td>
        </tr>
        <tr>
          <td id="L1273" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1273"></td>
          <td id="LC1273" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    it will be handed off to the appropriate callbacks. Current-line will</span></td>
        </tr>
        <tr>
          <td id="L1274" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1274"></td>
          <td id="LC1274" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    be advanced until it is beyond the tag data. The Tag will be dumped</span></td>
        </tr>
        <tr>
          <td id="L1275" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1275"></td>
          <td id="LC1275" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    to _output once everything else is done (unless it has been skipped by</span></td>
        </tr>
        <tr>
          <td id="L1276" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1276"></td>
          <td id="LC1276" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the callback).</span></td>
        </tr>
        <tr>
          <td id="L1277" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1277"></td>
          <td id="LC1277" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1278" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1278"></td>
          <td id="LC1278" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Tag</span></td>
        </tr>
        <tr>
          <td id="L1279" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1279"></td>
          <td id="LC1279" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tag</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_ref_line</span>(<span class=pl-s>b&#39;tag&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1280" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1280"></td>
          <td id="LC1280" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_exported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s>b&#39;refs/tags/&#39;</span><span class=pl-c1>+</span><span class=pl-s1>tag</span>)</td>
        </tr>
        <tr>
          <td id="L1281" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1281"></td>
          <td id="LC1281" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>id_</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_mark</span>()</td>
        </tr>
        <tr>
          <td id="L1282" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1282"></td>
          <td id="LC1282" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ignoreme</span>, <span class=pl-s1>from_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_optional_parent_ref</span>(<span class=pl-s>b&#39;from&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1283" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1283"></td>
          <td id="LC1283" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1284" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1284"></td>
          <td id="LC1284" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1285" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1285"></td>
          <td id="LC1285" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;original-oid&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1286" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1286"></td>
          <td id="LC1286" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>original_id</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_original_id</span>();</td>
        </tr>
        <tr>
          <td id="L1287" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1287"></td>
          <td id="LC1287" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1288" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1288"></td>
          <td id="LC1288" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tagger_name</span>, <span class=pl-s1>tagger_email</span>, <span class=pl-s1>tagger_date</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>, <span class=pl-c1>None</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L1289" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1289"></td>
          <td id="LC1289" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;tagger&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1290" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1290"></td>
          <td id="LC1290" class="blob-code blob-code-inner js-file-line">      (<span class=pl-s1>tagger_name</span>, <span class=pl-s1>tagger_email</span>, <span class=pl-s1>tagger_date</span>) <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_user</span>(<span class=pl-s>b&#39;tagger&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1291" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1291"></td>
          <td id="LC1291" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tag_msg</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_data</span>()</td>
        </tr>
        <tr>
          <td id="L1292" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1292"></td>
          <td id="LC1292" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1293" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1293"></td>
          <td id="LC1293" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1294" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1294"></td>
          <td id="LC1294" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1295" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1295"></td>
          <td id="LC1295" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the tag</span></td>
        </tr>
        <tr>
          <td id="L1296" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1296"></td>
          <td id="LC1296" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tag</span> <span class=pl-c1>=</span> <span class=pl-v>Tag</span>(<span class=pl-s1>tag</span>, <span class=pl-s1>from_ref</span>,</td>
        </tr>
        <tr>
          <td id="L1297" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1297"></td>
          <td id="LC1297" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>tagger_name</span>, <span class=pl-s1>tagger_email</span>, <span class=pl-s1>tagger_date</span>, <span class=pl-s1>tag_msg</span>,</td>
        </tr>
        <tr>
          <td id="L1298" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1298"></td>
          <td id="LC1298" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>original_id</span>)</td>
        </tr>
        <tr>
          <td id="L1299" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1299"></td>
          <td id="LC1299" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1300" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1300"></td>
          <td id="LC1300" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If fast-export text had a mark for this tag, need to make sure this</span></td>
        </tr>
        <tr>
          <td id="L1301" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1301"></td>
          <td id="LC1301" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># mark translates to the tag&#39;s true id.</span></td>
        </tr>
        <tr>
          <td id="L1302" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1302"></td>
          <td id="LC1302" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>id_</span>:</td>
        </tr>
        <tr>
          <td id="L1303" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1303"></td>
          <td id="LC1303" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>=</span> <span class=pl-s1>id_</span></td>
        </tr>
        <tr>
          <td id="L1304" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1304"></td>
          <td id="LC1304" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>_IDS</span>.<span class=pl-en>record_rename</span>(<span class=pl-s1>id_</span>, <span class=pl-s1>tag</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L1305" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1305"></td>
          <td id="LC1305" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1306" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1306"></td>
          <td id="LC1306" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to modify the tag</span></td>
        </tr>
        <tr>
          <td id="L1307" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1307"></td>
          <td id="LC1307" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tag_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1308" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1308"></td>
          <td id="LC1308" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_tag_callback</span>(<span class=pl-s1>tag</span>)</td>
        </tr>
        <tr>
          <td id="L1309" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1309"></td>
          <td id="LC1309" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1310" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1310"></td>
          <td id="LC1310" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The tag might not point at anything that still exists (self.from_ref</span></td>
        </tr>
        <tr>
          <td id="L1311" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1311"></td>
          <td id="LC1311" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># will be None if the commit it pointed to and all its ancestors were</span></td>
        </tr>
        <tr>
          <td id="L1312" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1312"></td>
          <td id="LC1312" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># pruned due to being empty)</span></td>
        </tr>
        <tr>
          <td id="L1313" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1313"></td>
          <td id="LC1313" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>tag</span>.<span class=pl-s1>from_ref</span>:</td>
        </tr>
        <tr>
          <td id="L1314" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1314"></td>
          <td id="LC1314" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Print out this tag&#39;s information</span></td>
        </tr>
        <tr>
          <td id="L1315" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1315"></td>
          <td id="LC1315" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>tag</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L1316" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1316"></td>
          <td id="LC1316" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s>b&#39;refs/tags/&#39;</span><span class=pl-c1>+</span><span class=pl-s1>tag</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L1317" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1317"></td>
          <td id="LC1317" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>tag</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1318" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1318"></td>
          <td id="LC1318" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1319" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1319"></td>
          <td id="LC1319" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-en>skip</span>()</td>
        </tr>
        <tr>
          <td id="L1320" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1320"></td>
          <td id="LC1320" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1321" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1321"></td>
          <td id="LC1321" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_progress</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1322" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1322"></td>
          <td id="LC1322" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1323" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1323"></td>
          <td id="LC1323" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Progress object. Once the Progress has</span></td>
        </tr>
        <tr>
          <td id="L1324" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1324"></td>
          <td id="LC1324" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    been created, it will be handed off to the appropriate</span></td>
        </tr>
        <tr>
          <td id="L1325" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1325"></td>
          <td id="LC1325" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    callbacks. Current-line will be advanced until it is beyond the</span></td>
        </tr>
        <tr>
          <td id="L1326" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1326"></td>
          <td id="LC1326" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    progress data. The Progress will be dumped to _output once</span></td>
        </tr>
        <tr>
          <td id="L1327" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1327"></td>
          <td id="LC1327" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    everything else is done (unless it has been skipped by the callback).</span></td>
        </tr>
        <tr>
          <td id="L1328" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1328"></td>
          <td id="LC1328" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1329" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1329"></td>
          <td id="LC1329" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Progress</span></td>
        </tr>
        <tr>
          <td id="L1330" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1330"></td>
          <td id="LC1330" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_parse_ref_line</span>(<span class=pl-s>b&#39;progress&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1331" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1331"></td>
          <td id="LC1331" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1332" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1332"></td>
          <td id="LC1332" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1333" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1333"></td>
          <td id="LC1333" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1334" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1334"></td>
          <td id="LC1334" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the progress message</span></td>
        </tr>
        <tr>
          <td id="L1335" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1335"></td>
          <td id="LC1335" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>progress</span> <span class=pl-c1>=</span> <span class=pl-v>Progress</span>(<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L1336" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1336"></td>
          <td id="LC1336" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1337" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1337"></td>
          <td id="LC1337" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to modify the progress messsage</span></td>
        </tr>
        <tr>
          <td id="L1338" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1338"></td>
          <td id="LC1338" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_progress_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1339" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1339"></td>
          <td id="LC1339" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_progress_callback</span>(<span class=pl-s1>progress</span>)</td>
        </tr>
        <tr>
          <td id="L1340" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1340"></td>
          <td id="LC1340" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1341" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1341"></td>
          <td id="LC1341" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># NOTE: By default, we do NOT print the progress message; git</span></td>
        </tr>
        <tr>
          <td id="L1342" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1342"></td>
          <td id="LC1342" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># fast-import would write it to fast_import_pipes which could mess with</span></td>
        </tr>
        <tr>
          <td id="L1343" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1343"></td>
          <td id="LC1343" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># our parsing of output from the &#39;ls&#39; and &#39;get-mark&#39; directives we send</span></td>
        </tr>
        <tr>
          <td id="L1344" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1344"></td>
          <td id="LC1344" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># to fast-import.  If users want these messages, they need to process</span></td>
        </tr>
        <tr>
          <td id="L1345" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1345"></td>
          <td id="LC1345" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># and handle them in the appropriate callback above.</span></td>
        </tr>
        <tr>
          <td id="L1346" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1346"></td>
          <td id="LC1346" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1347" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1347"></td>
          <td id="LC1347" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_checkpoint</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1348" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1348"></td>
          <td id="LC1348" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1349" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1349"></td>
          <td id="LC1349" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse input data into a Checkpoint object. Once the Checkpoint has</span></td>
        </tr>
        <tr>
          <td id="L1350" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1350"></td>
          <td id="LC1350" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    been created, it will be handed off to the appropriate</span></td>
        </tr>
        <tr>
          <td id="L1351" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1351"></td>
          <td id="LC1351" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    callbacks. Current-line will be advanced until it is beyond the</span></td>
        </tr>
        <tr>
          <td id="L1352" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1352"></td>
          <td id="LC1352" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    checkpoint data. The Checkpoint will be dumped to _output once</span></td>
        </tr>
        <tr>
          <td id="L1353" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1353"></td>
          <td id="LC1353" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    everything else is done (unless it has been skipped by the callback).</span></td>
        </tr>
        <tr>
          <td id="L1354" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1354"></td>
          <td id="LC1354" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1355" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1355"></td>
          <td id="LC1355" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse the Checkpoint</span></td>
        </tr>
        <tr>
          <td id="L1356" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1356"></td>
          <td id="LC1356" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1357" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1357"></td>
          <td id="LC1357" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1358" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1358"></td>
          <td id="LC1358" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1359" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1359"></td>
          <td id="LC1359" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1360" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1360"></td>
          <td id="LC1360" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the checkpoint</span></td>
        </tr>
        <tr>
          <td id="L1361" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1361"></td>
          <td id="LC1361" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>checkpoint</span> <span class=pl-c1>=</span> <span class=pl-v>Checkpoint</span>()</td>
        </tr>
        <tr>
          <td id="L1362" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1362"></td>
          <td id="LC1362" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1363" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1363"></td>
          <td id="LC1363" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call any user callback to allow them to drop the checkpoint</span></td>
        </tr>
        <tr>
          <td id="L1364" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1364"></td>
          <td id="LC1364" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_checkpoint_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1365" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1365"></td>
          <td id="LC1365" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_checkpoint_callback</span>(<span class=pl-s1>checkpoint</span>)</td>
        </tr>
        <tr>
          <td id="L1366" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1366"></td>
          <td id="LC1366" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1367" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1367"></td>
          <td id="LC1367" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># NOTE: By default, we do NOT print the checkpoint message; although it</span></td>
        </tr>
        <tr>
          <td id="L1368" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1368"></td>
          <td id="LC1368" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># we would only realistically get them with --stdin, the fact that we</span></td>
        </tr>
        <tr>
          <td id="L1369" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1369"></td>
          <td id="LC1369" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># are filtering makes me think the checkpointing is less likely to be</span></td>
        </tr>
        <tr>
          <td id="L1370" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1370"></td>
          <td id="LC1370" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># reasonable.  In fact, I don&#39;t think it&#39;s necessary in general.  If</span></td>
        </tr>
        <tr>
          <td id="L1371" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1371"></td>
          <td id="LC1371" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># users do want it, they should process it in the checkpoint_callback.</span></td>
        </tr>
        <tr>
          <td id="L1372" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1372"></td>
          <td id="LC1372" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1373" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1373"></td>
          <td id="LC1373" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_parse_literal_command</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1374" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1374"></td>
          <td id="LC1374" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1375" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1375"></td>
          <td id="LC1375" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Parse literal command.  Then just dump the line as is.</span></td>
        </tr>
        <tr>
          <td id="L1376" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1376"></td>
          <td id="LC1376" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1377" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1377"></td>
          <td id="LC1377" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the literal command object</span></td>
        </tr>
        <tr>
          <td id="L1378" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1378"></td>
          <td id="LC1378" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>command</span> <span class=pl-c1>=</span> <span class=pl-v>LiteralCommand</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L1379" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1379"></td>
          <td id="LC1379" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1380" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1380"></td>
          <td id="LC1380" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1381" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1381"></td>
          <td id="LC1381" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now print the resulting literal command</span></td>
        </tr>
        <tr>
          <td id="L1382" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1382"></td>
          <td id="LC1382" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>command</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L1383" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1383"></td>
          <td id="LC1383" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>command</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1384" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1384"></td>
          <td id="LC1384" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1385" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1385"></td>
          <td id="LC1385" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>insert</span>(<span class=pl-s1>self</span>, <span class=pl-s1>obj</span>):</td>
        </tr>
        <tr>
          <td id="L1386" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1386"></td>
          <td id="LC1386" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-c1>not</span> <span class=pl-s1>obj</span>.<span class=pl-s1>dumped</span></td>
        </tr>
        <tr>
          <td id="L1387" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1387"></td>
          <td id="LC1387" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>obj</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L1388" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1388"></td>
          <td id="LC1388" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>==</span> <span class=pl-v>Commit</span>:</td>
        </tr>
        <tr>
          <td id="L1389" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1389"></td>
          <td id="LC1389" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>obj</span>.<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L1390" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1390"></td>
          <td id="LC1390" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>in</span> (<span class=pl-v>Reset</span>, <span class=pl-v>Tag</span>):</td>
        </tr>
        <tr>
          <td id="L1391" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1391"></td>
          <td id="LC1391" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span>.<span class=pl-en>add</span>(<span class=pl-s1>obj</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L1392" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1392"></td>
          <td id="LC1392" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1393" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1393"></td>
          <td id="LC1393" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>run</span>(<span class=pl-s1>self</span>, <span class=pl-s1>input</span>, <span class=pl-s1>output</span>):</td>
        </tr>
        <tr>
          <td id="L1394" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1394"></td>
          <td id="LC1394" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1395" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1395"></td>
          <td id="LC1395" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    This method filters fast export output.</span></td>
        </tr>
        <tr>
          <td id="L1396" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1396"></td>
          <td id="LC1396" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1397" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1397"></td>
          <td id="LC1397" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Set input. If no args provided, use stdin.</span></td>
        </tr>
        <tr>
          <td id="L1398" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1398"></td>
          <td id="LC1398" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-s1>input</span></td>
        </tr>
        <tr>
          <td id="L1399" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1399"></td>
          <td id="LC1399" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-s1>output</span></td>
        </tr>
        <tr>
          <td id="L1400" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1400"></td>
          <td id="LC1400" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1401" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1401"></td>
          <td id="LC1401" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Run over the input and do the filtering</span></td>
        </tr>
        <tr>
          <td id="L1402" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1402"></td>
          <td id="LC1402" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_advance_currentline</span>()</td>
        </tr>
        <tr>
          <td id="L1403" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1403"></td>
          <td id="LC1403" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>:</td>
        </tr>
        <tr>
          <td id="L1404" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1404"></td>
          <td id="LC1404" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span>   <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;blob&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1405" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1405"></td>
          <td id="LC1405" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_blob</span>()</td>
        </tr>
        <tr>
          <td id="L1406" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1406"></td>
          <td id="LC1406" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;reset&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1407" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1407"></td>
          <td id="LC1407" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_reset</span>()</td>
        </tr>
        <tr>
          <td id="L1408" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1408"></td>
          <td id="LC1408" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;commit&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1409" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1409"></td>
          <td id="LC1409" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_commit</span>()</td>
        </tr>
        <tr>
          <td id="L1410" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1410"></td>
          <td id="LC1410" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;tag&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1411" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1411"></td>
          <td id="LC1411" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_tag</span>()</td>
        </tr>
        <tr>
          <td id="L1412" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1412"></td>
          <td id="LC1412" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;progress&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1413" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1413"></td>
          <td id="LC1413" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_progress</span>()</td>
        </tr>
        <tr>
          <td id="L1414" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1414"></td>
          <td id="LC1414" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;checkpoint&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1415" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1415"></td>
          <td id="LC1415" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_checkpoint</span>()</td>
        </tr>
        <tr>
          <td id="L1416" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1416"></td>
          <td id="LC1416" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;feature&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1417" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1417"></td>
          <td id="LC1417" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_literal_command</span>()</td>
        </tr>
        <tr>
          <td id="L1418" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1418"></td>
          <td id="LC1418" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;option&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1419" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1419"></td>
          <td id="LC1419" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_literal_command</span>()</td>
        </tr>
        <tr>
          <td id="L1420" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1420"></td>
          <td id="LC1420" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;done&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1421" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1421"></td>
          <td id="LC1421" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_done_callback</span>:</td>
        </tr>
        <tr>
          <td id="L1422" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1422"></td>
          <td id="LC1422" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-en>_done_callback</span>()</td>
        </tr>
        <tr>
          <td id="L1423" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1423"></td>
          <td id="LC1423" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_literal_command</span>()</td>
        </tr>
        <tr>
          <td id="L1424" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1424"></td>
          <td id="LC1424" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Prevent confusion from others writing additional stuff that&#39;ll just</span></td>
        </tr>
        <tr>
          <td id="L1425" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1425"></td>
          <td id="LC1425" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># be ignored</span></td>
        </tr>
        <tr>
          <td id="L1426" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1426"></td>
          <td id="LC1426" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L1427" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1427"></td>
          <td id="LC1427" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;#&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1428" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1428"></td>
          <td id="LC1428" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_parse_literal_command</span>()</td>
        </tr>
        <tr>
          <td id="L1429" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1429"></td>
          <td id="LC1429" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;get-mark&#39;</span>) <span class=pl-c1>or</span> \</td>
        </tr>
        <tr>
          <td id="L1430" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1430"></td>
          <td id="LC1430" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;cat-blob&#39;</span>) <span class=pl-c1>or</span> \</td>
        </tr>
        <tr>
          <td id="L1431" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1431"></td>
          <td id="LC1431" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;ls&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1432" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1432"></td>
          <td id="LC1432" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Unsupported command: &#39;%s&#39;&quot;</span>) <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L1433" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1433"></td>
          <td id="LC1433" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1434" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1434"></td>
          <td id="LC1434" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Could not parse line: &#39;%s&#39;&quot;</span>) <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>_currentline</span>)</td>
        </tr>
        <tr>
          <td id="L1435" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1435"></td>
          <td id="LC1435" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1436" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1436"></td>
          <td id="LC1436" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_exported_and_imported_refs</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L1437" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1437"></td>
          <td id="LC1437" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_exported_refs</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_imported_refs</span></td>
        </tr>
        <tr>
          <td id="L1438" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1438"></td>
          <td id="LC1438" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1439" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1439"></td>
          <td id="LC1439" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>record_id_rename</span>(<span class=pl-s1>old_id</span>, <span class=pl-s1>new_id</span>):</td>
        </tr>
        <tr>
          <td id="L1440" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1440"></td>
          <td id="LC1440" class="blob-code blob-code-inner js-file-line">  <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1441" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1441"></td>
          <td id="LC1441" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  Register a new translation</span></td>
        </tr>
        <tr>
          <td id="L1442" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1442"></td>
          <td id="LC1442" class="blob-code blob-code-inner js-file-line"><span class=pl-s>  &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1443" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1443"></td>
          <td id="LC1443" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>handle_transitivity</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L1444" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1444"></td>
          <td id="LC1444" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>_IDS</span>.<span class=pl-en>record_rename</span>(<span class=pl-s1>old_id</span>, <span class=pl-s1>new_id</span>, <span class=pl-s1>handle_transitivity</span>)</td>
        </tr>
        <tr>
          <td id="L1445" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1445"></td>
          <td id="LC1445" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1446" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1446"></td>
          <td id="LC1446" class="blob-code blob-code-inner js-file-line"><span class=pl-c># Internal globals</span></td>
        </tr>
        <tr>
          <td id="L1447" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1447"></td>
          <td id="LC1447" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>_IDS</span> <span class=pl-c1>=</span> <span class=pl-en>_IDs</span>()</td>
        </tr>
        <tr>
          <td id="L1448" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1448"></td>
          <td id="LC1448" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>_SKIPPED_COMMITS</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L1449" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1449"></td>
          <td id="LC1449" class="blob-code blob-code-inner js-file-line"><span class=pl-v>HASH_TO_ID</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L1450" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1450"></td>
          <td id="LC1450" class="blob-code blob-code-inner js-file-line"><span class=pl-v>ID_TO_HASH</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L1451" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1451"></td>
          <td id="LC1451" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1452" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1452"></td>
          <td id="LC1452" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>SubprocessWrapper</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L1453" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1453"></td>
          <td id="LC1453" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1454" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1454"></td>
          <td id="LC1454" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>decodify</span>(<span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L1455" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1455"></td>
          <td id="LC1455" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>type</span>(<span class=pl-s1>args</span>) <span class=pl-c1>==</span> <span class=pl-s1>str</span>:</td>
        </tr>
        <tr>
          <td id="L1456" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1456"></td>
          <td id="LC1456" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>args</span></td>
        </tr>
        <tr>
          <td id="L1457" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1457"></td>
          <td id="LC1457" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1458" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1458"></td>
          <td id="LC1458" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>assert</span> <span class=pl-en>type</span>(<span class=pl-s1>args</span>) <span class=pl-c1>==</span> <span class=pl-s1>list</span></td>
        </tr>
        <tr>
          <td id="L1459" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1459"></td>
          <td id="LC1459" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> [<span class=pl-en>decode</span>(<span class=pl-s1>x</span>) <span class=pl-k>if</span> <span class=pl-en>type</span>(<span class=pl-s1>x</span>)<span class=pl-c1>==</span><span class=pl-s1>bytes</span> <span class=pl-k>else</span> <span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>args</span>]</td>
        </tr>
        <tr>
          <td id="L1460" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1460"></td>
          <td id="LC1460" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1461" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1461"></td>
          <td id="LC1461" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1462" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1462"></td>
          <td id="LC1462" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>call</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>, <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>):</td>
        </tr>
        <tr>
          <td id="L1463" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1463"></td>
          <td id="LC1463" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>&#39;cwd&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>kwargs</span>:</td>
        </tr>
        <tr>
          <td id="L1464" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1464"></td>
          <td id="LC1464" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>] <span class=pl-c1>=</span> <span class=pl-en>decode</span>(<span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L1465" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1465"></td>
          <td id="LC1465" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>subprocess</span>.<span class=pl-en>call</span>(<span class=pl-v>SubprocessWrapper</span>.<span class=pl-en>decodify</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>), <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>)</td>
        </tr>
        <tr>
          <td id="L1466" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1466"></td>
          <td id="LC1466" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1467" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1467"></td>
          <td id="LC1467" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1468" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1468"></td>
          <td id="LC1468" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>check_output</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>, <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>):</td>
        </tr>
        <tr>
          <td id="L1469" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1469"></td>
          <td id="LC1469" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>&#39;cwd&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>kwargs</span>:</td>
        </tr>
        <tr>
          <td id="L1470" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1470"></td>
          <td id="LC1470" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>] <span class=pl-c1>=</span> <span class=pl-en>decode</span>(<span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L1471" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1471"></td>
          <td id="LC1471" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>subprocess</span>.<span class=pl-en>check_output</span>(<span class=pl-v>SubprocessWrapper</span>.<span class=pl-en>decodify</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>), <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>)</td>
        </tr>
        <tr>
          <td id="L1472" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1472"></td>
          <td id="LC1472" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1473" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1473"></td>
          <td id="LC1473" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1474" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1474"></td>
          <td id="LC1474" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>check_call</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>, <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>): <span class=pl-c># pragma: no cover  # used by filter-lamely</span></td>
        </tr>
        <tr>
          <td id="L1475" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1475"></td>
          <td id="LC1475" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>&#39;cwd&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>kwargs</span>:</td>
        </tr>
        <tr>
          <td id="L1476" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1476"></td>
          <td id="LC1476" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>] <span class=pl-c1>=</span> <span class=pl-en>decode</span>(<span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L1477" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1477"></td>
          <td id="LC1477" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>subprocess</span>.<span class=pl-en>check_call</span>(<span class=pl-v>SubprocessWrapper</span>.<span class=pl-en>decodify</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>), <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>)</td>
        </tr>
        <tr>
          <td id="L1478" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1478"></td>
          <td id="LC1478" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1479" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1479"></td>
          <td id="LC1479" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1480" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1480"></td>
          <td id="LC1480" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-v>Popen</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>, <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>):</td>
        </tr>
        <tr>
          <td id="L1481" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1481"></td>
          <td id="LC1481" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>&#39;cwd&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>kwargs</span>:</td>
        </tr>
        <tr>
          <td id="L1482" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1482"></td>
          <td id="LC1482" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>] <span class=pl-c1>=</span> <span class=pl-en>decode</span>(<span class=pl-s1>kwargs</span>[<span class=pl-s>&#39;cwd&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L1483" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1483"></td>
          <td id="LC1483" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>subprocess</span>.<span class=pl-v>Popen</span>(<span class=pl-v>SubprocessWrapper</span>.<span class=pl-en>decodify</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>), <span class=pl-c1>**</span><span class=pl-s1>kwargs</span>)</td>
        </tr>
        <tr>
          <td id="L1484" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1484"></td>
          <td id="LC1484" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1485" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1485"></td>
          <td id="LC1485" class="blob-code blob-code-inner js-file-line"><span class=pl-s1>subproc</span> <span class=pl-c1>=</span> <span class=pl-s1>subprocess</span></td>
        </tr>
        <tr>
          <td id="L1486" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1486"></td>
          <td id="LC1486" class="blob-code blob-code-inner js-file-line"><span class=pl-k>if</span> <span class=pl-s1>platform</span>.<span class=pl-en>system</span>() <span class=pl-c1>==</span> <span class=pl-s>&#39;Windows&#39;</span> <span class=pl-c1>or</span> <span class=pl-s>&#39;PRETEND_UNICODE_ARGS&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>os</span>.<span class=pl-s1>environ</span>:</td>
        </tr>
        <tr>
          <td id="L1487" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1487"></td>
          <td id="LC1487" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>subproc</span> <span class=pl-c1>=</span> <span class=pl-v>SubprocessWrapper</span></td>
        </tr>
        <tr>
          <td id="L1488" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1488"></td>
          <td id="LC1488" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1489" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1489"></td>
          <td id="LC1489" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>GitUtils</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L1490" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1490"></td>
          <td id="LC1490" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1491" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1491"></td>
          <td id="LC1491" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_commit_count</span>(<span class=pl-s1>repo</span>, <span class=pl-c1>*</span><span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L1492" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1492"></td>
          <td id="LC1492" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1493" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1493"></td>
          <td id="LC1493" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return the number of commits that have been made on repo.</span></td>
        </tr>
        <tr>
          <td id="L1494" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1494"></td>
          <td id="LC1494" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1495" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1495"></td>
          <td id="LC1495" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>args</span>:</td>
        </tr>
        <tr>
          <td id="L1496" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1496"></td>
          <td id="LC1496" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;--all&#39;</span>]</td>
        </tr>
        <tr>
          <td id="L1497" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1497"></td>
          <td id="LC1497" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>args</span>) <span class=pl-c1>==</span> <span class=pl-c1>1</span> <span class=pl-c1>and</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>args</span>[<span class=pl-c1>0</span>], <span class=pl-s1>list</span>):</td>
        </tr>
        <tr>
          <td id="L1498" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1498"></td>
          <td id="LC1498" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span> <span class=pl-c1>=</span> <span class=pl-s1>args</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L1499" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1499"></td>
          <td id="LC1499" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>([<span class=pl-s>&quot;git&quot;</span>, <span class=pl-s>&quot;rev-list&quot;</span>, <span class=pl-s>&quot;--count&quot;</span>] <span class=pl-c1>+</span> <span class=pl-s1>args</span>,</td>
        </tr>
        <tr>
          <td id="L1500" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1500"></td>
          <td id="LC1500" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>stderr</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>,</td>
        </tr>
        <tr>
          <td id="L1501" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1501"></td>
          <td id="LC1501" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo</span>)</td>
        </tr>
        <tr>
          <td id="L1502" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1502"></td>
          <td id="LC1502" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>p</span>.<span class=pl-en>wait</span>() <span class=pl-c1>!=</span> <span class=pl-c1>0</span>:</td>
        </tr>
        <tr>
          <td id="L1503" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1503"></td>
          <td id="LC1503" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;%s does not appear to be a valid git repository&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L1504" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1504"></td>
          <td id="LC1504" class="blob-code blob-code-inner js-file-line">                       <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>repo</span>))</td>
        </tr>
        <tr>
          <td id="L1505" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1505"></td>
          <td id="LC1505" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-en>int</span>(<span class=pl-s1>p</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>read</span>())</td>
        </tr>
        <tr>
          <td id="L1506" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1506"></td>
          <td id="LC1506" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1507" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1507"></td>
          <td id="LC1507" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1508" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1508"></td>
          <td id="LC1508" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_total_objects</span>(<span class=pl-s1>repo</span>):</td>
        </tr>
        <tr>
          <td id="L1509" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1509"></td>
          <td id="LC1509" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1510" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1510"></td>
          <td id="LC1510" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return the number of objects (both packed and unpacked)</span></td>
        </tr>
        <tr>
          <td id="L1511" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1511"></td>
          <td id="LC1511" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1512" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1512"></td>
          <td id="LC1512" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p1</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>([<span class=pl-s>&quot;git&quot;</span>, <span class=pl-s>&quot;count-objects&quot;</span>, <span class=pl-s>&quot;-v&quot;</span>],</td>
        </tr>
        <tr>
          <td id="L1513" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1513"></td>
          <td id="LC1513" class="blob-code blob-code-inner js-file-line">                          <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo</span>)</td>
        </tr>
        <tr>
          <td id="L1514" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1514"></td>
          <td id="LC1514" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>lines</span> <span class=pl-c1>=</span> <span class=pl-s1>p1</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>read</span>().<span class=pl-en>splitlines</span>()</td>
        </tr>
        <tr>
          <td id="L1515" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1515"></td>
          <td id="LC1515" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Return unpacked objects + packed-objects</span></td>
        </tr>
        <tr>
          <td id="L1516" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1516"></td>
          <td id="LC1516" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-en>int</span>(<span class=pl-s1>lines</span>[<span class=pl-c1>0</span>].<span class=pl-en>split</span>()[<span class=pl-c1>1</span>]) <span class=pl-c1>+</span> <span class=pl-en>int</span>(<span class=pl-s1>lines</span>[<span class=pl-c1>2</span>].<span class=pl-en>split</span>()[<span class=pl-c1>1</span>])</td>
        </tr>
        <tr>
          <td id="L1517" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1517"></td>
          <td id="LC1517" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1518" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1518"></td>
          <td id="LC1518" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1519" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1519"></td>
          <td id="LC1519" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>is_repository_bare</span>(<span class=pl-s1>repo_working_dir</span>):</td>
        </tr>
        <tr>
          <td id="L1520" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1520"></td>
          <td id="LC1520" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>out</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git rev-parse --is-bare-repository&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L1521" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1521"></td>
          <td id="LC1521" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L1522" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1522"></td>
          <td id="LC1522" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> (<span class=pl-s1>out</span>.<span class=pl-en>strip</span>() <span class=pl-c1>==</span> <span class=pl-s>b&#39;true&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1523" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1523"></td>
          <td id="LC1523" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1524" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1524"></td>
          <td id="LC1524" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1525" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1525"></td>
          <td id="LC1525" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>determine_git_dir</span>(<span class=pl-s1>repo_working_dir</span>):</td>
        </tr>
        <tr>
          <td id="L1526" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1526"></td>
          <td id="LC1526" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>d</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git rev-parse --git-dir&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L1527" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1527"></td>
          <td id="LC1527" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo_working_dir</span>).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L1528" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1528"></td>
          <td id="LC1528" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>repo_working_dir</span><span class=pl-c1>==</span><span class=pl-s>b&#39;.&#39;</span> <span class=pl-c1>or</span> <span class=pl-s1>d</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;/&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1529" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1529"></td>
          <td id="LC1529" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>d</span></td>
        </tr>
        <tr>
          <td id="L1530" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1530"></td>
          <td id="LC1530" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>repo_working_dir</span>, <span class=pl-s1>d</span>)</td>
        </tr>
        <tr>
          <td id="L1531" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1531"></td>
          <td id="LC1531" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1532" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1532"></td>
          <td id="LC1532" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1533" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1533"></td>
          <td id="LC1533" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_refs</span>(<span class=pl-s1>repo_working_dir</span>):</td>
        </tr>
        <tr>
          <td id="L1534" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1534"></td>
          <td id="LC1534" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>try</span>:</td>
        </tr>
        <tr>
          <td id="L1535" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1535"></td>
          <td id="LC1535" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git show-ref&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L1536" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1536"></td>
          <td id="LC1536" class="blob-code blob-code-inner js-file-line">                                    <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L1537" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1537"></td>
          <td id="LC1537" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>except</span> <span class=pl-s1>subprocess</span>.<span class=pl-v>CalledProcessError</span> <span class=pl-k>as</span> <span class=pl-s1>e</span>:</td>
        </tr>
        <tr>
          <td id="L1538" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1538"></td>
          <td id="LC1538" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If error code is 1, there just aren&#39;t any refs; i.e. new repo.</span></td>
        </tr>
        <tr>
          <td id="L1539" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1539"></td>
          <td id="LC1539" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If error code is other than 1, some other error (e.g. not a git repo)</span></td>
        </tr>
        <tr>
          <td id="L1540" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1540"></td>
          <td id="LC1540" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>e</span>.<span class=pl-s1>returncode</span> <span class=pl-c1>!=</span> <span class=pl-c1>1</span>:</td>
        </tr>
        <tr>
          <td id="L1541" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1541"></td>
          <td id="LC1541" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-s>&#39;fatal: {}&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>e</span>))</td>
        </tr>
        <tr>
          <td id="L1542" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1542"></td>
          <td id="LC1542" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L1543" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1543"></td>
          <td id="LC1543" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-en>dict</span>(<span class=pl-en>reversed</span>(<span class=pl-s1>x</span>.<span class=pl-en>split</span>()) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>.<span class=pl-en>splitlines</span>())</td>
        </tr>
        <tr>
          <td id="L1544" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1544"></td>
          <td id="LC1544" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1545" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1545"></td>
          <td id="LC1545" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1546" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1546"></td>
          <td id="LC1546" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_blob_sizes</span>(<span class=pl-s1>quiet</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>):</td>
        </tr>
        <tr>
          <td id="L1547" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1547"></td>
          <td id="LC1547" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>blob_size_progress</span> <span class=pl-c1>=</span> <span class=pl-v>ProgressWriter</span>()</td>
        </tr>
        <tr>
          <td id="L1548" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1548"></td>
          <td id="LC1548" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>num_blobs</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L1549" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1549"></td>
          <td id="LC1549" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>processed_blobs_msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Processed %d blob sizes&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L1550" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1550"></td>
          <td id="LC1550" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1551" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1551"></td>
          <td id="LC1551" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Get sizes of blobs by sha1</span></td>
        </tr>
        <tr>
          <td id="L1552" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1552"></td>
          <td id="LC1552" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;--batch-check=%(objectname) %(objecttype) &#39;</span> <span class=pl-c1>+</span> \</td>
        </tr>
        <tr>
          <td id="L1553" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1553"></td>
          <td id="LC1553" class="blob-code blob-code-inner js-file-line">          <span class=pl-s>&#39;%(objectsize) %(objectsize:disk)&#39;</span></td>
        </tr>
        <tr>
          <td id="L1554" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1554"></td>
          <td id="LC1554" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cf</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>([<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;cat-file&#39;</span>, <span class=pl-s>&#39;--batch-all-objects&#39;</span>, <span class=pl-s1>cmd</span>],</td>
        </tr>
        <tr>
          <td id="L1555" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1555"></td>
          <td id="LC1555" class="blob-code blob-code-inner js-file-line">                       <span class=pl-s1>bufsize</span> <span class=pl-c1>=</span> <span class=pl-c1>-</span><span class=pl-c1>1</span>,</td>
        </tr>
        <tr>
          <td id="L1556" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1556"></td>
          <td id="LC1556" class="blob-code blob-code-inner js-file-line">                       <span class=pl-s1>stdout</span> <span class=pl-c1>=</span> <span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>)</td>
        </tr>
        <tr>
          <td id="L1557" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1557"></td>
          <td id="LC1557" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>unpacked_size</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L1558" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1558"></td>
          <td id="LC1558" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>packed_size</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L1559" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1559"></td>
          <td id="LC1559" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>cf</span>.<span class=pl-s1>stdout</span>:</td>
        </tr>
        <tr>
          <td id="L1560" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1560"></td>
          <td id="LC1560" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>sha</span>, <span class=pl-s1>objtype</span>, <span class=pl-s1>objsize</span>, <span class=pl-s1>objdisksize</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L1561" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1561"></td>
          <td id="LC1561" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>objsize</span>, <span class=pl-s1>objdisksize</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>objsize</span>), <span class=pl-en>int</span>(<span class=pl-s1>objdisksize</span>)</td>
        </tr>
        <tr>
          <td id="L1562" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1562"></td>
          <td id="LC1562" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>objtype</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;blob&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1563" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1563"></td>
          <td id="LC1563" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>unpacked_size</span>[<span class=pl-s1>sha</span>] <span class=pl-c1>=</span> <span class=pl-s1>objsize</span></td>
        </tr>
        <tr>
          <td id="L1564" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1564"></td>
          <td id="LC1564" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>packed_size</span>[<span class=pl-s1>sha</span>] <span class=pl-c1>=</span> <span class=pl-s1>objdisksize</span></td>
        </tr>
        <tr>
          <td id="L1565" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1565"></td>
          <td id="LC1565" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>num_blobs</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L1566" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1566"></td>
          <td id="LC1566" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>quiet</span>:</td>
        </tr>
        <tr>
          <td id="L1567" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1567"></td>
          <td id="LC1567" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>blob_size_progress</span>.<span class=pl-en>show</span>(<span class=pl-s1>processed_blobs_msg</span> <span class=pl-c1>%</span> <span class=pl-s1>num_blobs</span>)</td>
        </tr>
        <tr>
          <td id="L1568" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1568"></td>
          <td id="LC1568" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cf</span>.<span class=pl-en>wait</span>()</td>
        </tr>
        <tr>
          <td id="L1569" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1569"></td>
          <td id="LC1569" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>quiet</span>:</td>
        </tr>
        <tr>
          <td id="L1570" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1570"></td>
          <td id="LC1570" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob_size_progress</span>.<span class=pl-en>finish</span>()</td>
        </tr>
        <tr>
          <td id="L1571" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1571"></td>
          <td id="LC1571" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>unpacked_size</span>, <span class=pl-s1>packed_size</span></td>
        </tr>
        <tr>
          <td id="L1572" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1572"></td>
          <td id="LC1572" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1573" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1573"></td>
          <td id="LC1573" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1574" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1574"></td>
          <td id="LC1574" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_file_changes</span>(<span class=pl-s1>repo</span>, <span class=pl-s1>parent_hash</span>, <span class=pl-s1>commit_hash</span>):</td>
        </tr>
        <tr>
          <td id="L1575" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1575"></td>
          <td id="LC1575" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1576" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1576"></td>
          <td id="LC1576" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Return a FileChanges list with the differences between parent_hash</span></td>
        </tr>
        <tr>
          <td id="L1577" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1577"></td>
          <td id="LC1577" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    and commit_hash</span></td>
        </tr>
        <tr>
          <td id="L1578" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1578"></td>
          <td id="LC1578" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1579" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1579"></td>
          <td id="LC1579" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L1580" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1580"></td>
          <td id="LC1580" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1581" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1581"></td>
          <td id="LC1581" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&quot;git&quot;</span>, <span class=pl-s>&quot;diff-tree&quot;</span>, <span class=pl-s>&quot;-r&quot;</span>, <span class=pl-s1>parent_hash</span>, <span class=pl-s1>commit_hash</span>]</td>
        </tr>
        <tr>
          <td id="L1582" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1582"></td>
          <td id="LC1582" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo</span>)</td>
        </tr>
        <tr>
          <td id="L1583" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1583"></td>
          <td id="LC1583" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>.<span class=pl-en>splitlines</span>():</td>
        </tr>
        <tr>
          <td id="L1584" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1584"></td>
          <td id="LC1584" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fileinfo</span>, <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39;<span class=pl-cce>\t</span>&#39;</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L1585" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1585"></td>
          <td id="LC1585" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>path</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;&quot;&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1586" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1586"></td>
          <td id="LC1586" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>path</span>)</td>
        </tr>
        <tr>
          <td id="L1587" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1587"></td>
          <td id="LC1587" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>oldmode</span>, <span class=pl-s1>mode</span>, <span class=pl-s1>oldhash</span>, <span class=pl-s1>newhash</span>, <span class=pl-s1>changetype</span> <span class=pl-c1>=</span> <span class=pl-s1>fileinfo</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L1588" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1588"></td>
          <td id="LC1588" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>changetype</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1589" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1589"></td>
          <td id="LC1589" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_changes</span>.<span class=pl-en>append</span>(<span class=pl-v>FileChange</span>(<span class=pl-s>b&#39;D&#39;</span>, <span class=pl-s1>path</span>))</td>
        </tr>
        <tr>
          <td id="L1590" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1590"></td>
          <td id="LC1590" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>changetype</span> <span class=pl-c1>in</span> (<span class=pl-s>b&#39;A&#39;</span>, <span class=pl-s>b&#39;M&#39;</span>, <span class=pl-s>b&#39;T&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1591" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1591"></td>
          <td id="LC1591" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>identifier</span> <span class=pl-c1>=</span> <span class=pl-v>HASH_TO_ID</span>.<span class=pl-en>get</span>(<span class=pl-s1>newhash</span>, <span class=pl-s1>newhash</span>)</td>
        </tr>
        <tr>
          <td id="L1592" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1592"></td>
          <td id="LC1592" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>file_changes</span>.<span class=pl-en>append</span>(<span class=pl-v>FileChange</span>(<span class=pl-s>b&#39;M&#39;</span>, <span class=pl-s1>path</span>, <span class=pl-s1>identifier</span>, <span class=pl-s1>mode</span>))</td>
        </tr>
        <tr>
          <td id="L1593" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1593"></td>
          <td id="LC1593" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L1594" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1594"></td>
          <td id="LC1594" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-s>&quot;Unknown change type for line {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>line</span>))</td>
        </tr>
        <tr>
          <td id="L1595" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1595"></td>
          <td id="LC1595" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1596" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1596"></td>
          <td id="LC1596" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>file_changes</span></td>
        </tr>
        <tr>
          <td id="L1597" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1597"></td>
          <td id="LC1597" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1598" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1598"></td>
          <td id="LC1598" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1599" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1599"></td>
          <td id="LC1599" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>print_my_version</span>():</td>
        </tr>
        <tr>
          <td id="L1600" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1600"></td>
          <td id="LC1600" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>__file__</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L1601" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1601"></td>
          <td id="LC1601" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>read</span>()</td>
        </tr>
        <tr>
          <td id="L1602" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1602"></td>
          <td id="LC1602" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If people replaced @@LOCALEDIR@@ string to point at their local</span></td>
        </tr>
        <tr>
          <td id="L1603" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1603"></td>
          <td id="LC1603" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># directory, undo it so we can get original source version.</span></td>
        </tr>
        <tr>
          <td id="L1604" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1604"></td>
          <td id="LC1604" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>sub</span>(<span class=pl-s>br&#39;\A#\!.*&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1605" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1605"></td>
          <td id="LC1605" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s>br&#39;#!/usr/bin/env python3&#39;</span>, <span class=pl-s1>contents</span>)</td>
        </tr>
        <tr>
          <td id="L1606" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1606"></td>
          <td id="LC1606" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>sub</span>(<span class=pl-s>br&#39;(\(&quot;GIT_TEXTDOMAINDIR&quot;\) or &quot;).*&quot;&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1607" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1607"></td>
          <td id="LC1607" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s>br&#39;\1@@LOCALEDIR@@&quot;&#39;</span>, <span class=pl-s1>contents</span>)</td>
        </tr>
        <tr>
          <td id="L1608" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1608"></td>
          <td id="LC1608" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1609" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1609"></td>
          <td id="LC1609" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;git hash-object --stdin&#39;</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L1610" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1610"></td>
          <td id="LC1610" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>version</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>input</span><span class=pl-c1>=</span><span class=pl-s1>contents</span>).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L1611" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1611"></td>
          <td id="LC1611" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>print</span>(<span class=pl-en>decode</span>(<span class=pl-s1>version</span>[<span class=pl-c1>0</span>:<span class=pl-c1>12</span>]))</td>
        </tr>
        <tr>
          <td id="L1612" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1612"></td>
          <td id="LC1612" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1613" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1613"></td>
          <td id="LC1613" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>FilteringOptions</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L1614" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1614"></td>
          <td id="LC1614" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>default_replace_text</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;***REMOVED***&#39;</span></td>
        </tr>
        <tr>
          <td id="L1615" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1615"></td>
          <td id="LC1615" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>class</span> <span class=pl-v>AppendFilter</span>(<span class=pl-s1>argparse</span>.<span class=pl-v>Action</span>):</td>
        </tr>
        <tr>
          <td id="L1616" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1616"></td>
          <td id="LC1616" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>__call__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s1>values</span>, <span class=pl-s1>option_string</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L1617" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1617"></td>
          <td id="LC1617" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>user_path</span> <span class=pl-c1>=</span> <span class=pl-s1>values</span></td>
        </tr>
        <tr>
          <td id="L1618" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1618"></td>
          <td id="LC1618" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>suffix</span> <span class=pl-c1>=</span> <span class=pl-s1>option_string</span>[<span class=pl-en>len</span>(<span class=pl-s>&#39;--path-&#39;</span>):] <span class=pl-c1>or</span> <span class=pl-s>&#39;match&#39;</span></td>
        </tr>
        <tr>
          <td id="L1619" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1619"></td>
          <td id="LC1619" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>suffix</span>.<span class=pl-en>startswith</span>(<span class=pl-s>&#39;rename&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1620" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1620"></td>
          <td id="LC1620" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>mod_type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;rename&#39;</span></td>
        </tr>
        <tr>
          <td id="L1621" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1621"></td>
          <td id="LC1621" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>match_type</span> <span class=pl-c1>=</span> <span class=pl-s1>option_string</span>[<span class=pl-en>len</span>(<span class=pl-s>&#39;--path-rename-&#39;</span>):] <span class=pl-c1>or</span> <span class=pl-s>&#39;match&#39;</span></td>
        </tr>
        <tr>
          <td id="L1622" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1622"></td>
          <td id="LC1622" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>values</span> <span class=pl-c1>=</span> <span class=pl-s1>values</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39;:&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1623" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1623"></td>
          <td id="LC1623" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>values</span>) <span class=pl-c1>!=</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L1624" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1624"></td>
          <td id="LC1624" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: --path-rename expects one colon in its&quot;</span></td>
        </tr>
        <tr>
          <td id="L1625" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1625"></td>
          <td id="LC1625" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot; argument: &lt;old_name:new_name&gt;.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1626" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1626"></td>
          <td id="LC1626" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>values</span>[<span class=pl-c1>0</span>] <span class=pl-c1>and</span> <span class=pl-s1>values</span>[<span class=pl-c1>1</span>] <span class=pl-c1>and</span> <span class=pl-c1>not</span> (</td>
        </tr>
        <tr>
          <td id="L1627" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1627"></td>
          <td id="LC1627" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>values</span>[<span class=pl-c1>0</span>].<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-c1>==</span> <span class=pl-s1>values</span>[<span class=pl-c1>1</span>].<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>)):</td>
        </tr>
        <tr>
          <td id="L1628" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1628"></td>
          <td id="LC1628" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: With --path-rename, if OLD_NAME and &quot;</span></td>
        </tr>
        <tr>
          <td id="L1629" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1629"></td>
          <td id="LC1629" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot;NEW_NAME are both non-empty and either ends &quot;</span></td>
        </tr>
        <tr>
          <td id="L1630" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1630"></td>
          <td id="LC1630" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot;with a slash then both must.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1631" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1631"></td>
          <td id="LC1631" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>any</span>(<span class=pl-s1>v</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-k>for</span> <span class=pl-s1>v</span> <span class=pl-c1>in</span> <span class=pl-s1>values</span>):</td>
        </tr>
        <tr>
          <td id="L1632" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1632"></td>
          <td id="LC1632" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: Pathnames cannot begin with a &#39;/&#39;&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1633" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1633"></td>
          <td id="LC1633" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>components</span> <span class=pl-c1>=</span> <span class=pl-s1>values</span>[<span class=pl-c1>0</span>].<span class=pl-en>split</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-c1>+</span> <span class=pl-s1>values</span>[<span class=pl-c1>1</span>].<span class=pl-en>split</span>(<span class=pl-s>b&#39;/&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1634" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1634"></td>
          <td id="LC1634" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1635" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1635"></td>
          <td id="LC1635" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>mod_type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;filter&#39;</span></td>
        </tr>
        <tr>
          <td id="L1636" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1636"></td>
          <td id="LC1636" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>match_type</span> <span class=pl-c1>=</span> <span class=pl-s1>suffix</span></td>
        </tr>
        <tr>
          <td id="L1637" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1637"></td>
          <td id="LC1637" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>components</span> <span class=pl-c1>=</span> <span class=pl-s1>values</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39;/&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1638" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1638"></td>
          <td id="LC1638" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>values</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;/&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1639" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1639"></td>
          <td id="LC1639" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: Pathnames cannot begin with a &#39;/&#39;&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1640" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1640"></td>
          <td id="LC1640" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>illegal_path</span> <span class=pl-c1>in</span> [<span class=pl-s>b&#39;.&#39;</span>, <span class=pl-s>b&#39;..&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L1641" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1641"></td>
          <td id="LC1641" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>illegal_path</span> <span class=pl-c1>in</span> <span class=pl-s1>components</span>:</td>
        </tr>
        <tr>
          <td id="L1642" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1642"></td>
          <td id="LC1642" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: Invalid path component &#39;%s&#39; found in &#39;%s&#39;&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L1643" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1643"></td>
          <td id="LC1643" class="blob-code blob-code-inner js-file-line">                           <span class=pl-c1>%</span> (<span class=pl-en>decode</span>(<span class=pl-s1>illegal_path</span>), <span class=pl-en>decode</span>(<span class=pl-s1>user_path</span>)))</td>
        </tr>
        <tr>
          <td id="L1644" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1644"></td>
          <td id="LC1644" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;regex&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1645" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1645"></td>
          <td id="LC1645" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>values</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>values</span>)</td>
        </tr>
        <tr>
          <td id="L1646" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1646"></td>
          <td id="LC1646" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>items</span> <span class=pl-c1>=</span> <span class=pl-en>getattr</span>(<span class=pl-s1>namespace</span>, <span class=pl-s1>self</span>.<span class=pl-s1>dest</span>, []) <span class=pl-c1>or</span> []</td>
        </tr>
        <tr>
          <td id="L1647" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1647"></td>
          <td id="LC1647" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>items</span>.<span class=pl-en>append</span>((<span class=pl-s1>mod_type</span>, <span class=pl-s1>match_type</span>, <span class=pl-s1>values</span>))</td>
        </tr>
        <tr>
          <td id="L1648" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1648"></td>
          <td id="LC1648" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> (<span class=pl-s1>match_type</span>, <span class=pl-s1>mod_type</span>) <span class=pl-c1>==</span> (<span class=pl-s>&#39;glob&#39;</span>, <span class=pl-s>&#39;filter&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1649" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1649"></td>
          <td id="LC1649" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>values</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;*&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L1650" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1650"></td>
          <td id="LC1650" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>extension</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;*&#39;</span> <span class=pl-k>if</span> <span class=pl-s1>values</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-k>else</span> <span class=pl-s>b&#39;/*&#39;</span></td>
        </tr>
        <tr>
          <td id="L1651" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1651"></td>
          <td id="LC1651" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>items</span>.<span class=pl-en>append</span>((<span class=pl-s1>mod_type</span>, <span class=pl-s1>match_type</span>, <span class=pl-s1>values</span><span class=pl-c1>+</span><span class=pl-s1>extension</span>))</td>
        </tr>
        <tr>
          <td id="L1652" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1652"></td>
          <td id="LC1652" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>setattr</span>(<span class=pl-s1>namespace</span>, <span class=pl-s1>self</span>.<span class=pl-s1>dest</span>, <span class=pl-s1>items</span>)</td>
        </tr>
        <tr>
          <td id="L1653" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1653"></td>
          <td id="LC1653" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1654" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1654"></td>
          <td id="LC1654" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>class</span> <span class=pl-v>HelperFilter</span>(<span class=pl-s1>argparse</span>.<span class=pl-v>Action</span>):</td>
        </tr>
        <tr>
          <td id="L1655" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1655"></td>
          <td id="LC1655" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>__call__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s1>values</span>, <span class=pl-s1>option_string</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L1656" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1656"></td>
          <td id="LC1656" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>af</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-v>AppendFilter</span>(<span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1657" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1657"></td>
          <td id="LC1657" class="blob-code blob-code-inner js-file-line">                                         <span class=pl-s1>option_strings</span><span class=pl-c1>=</span><span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L1658" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1658"></td>
          <td id="LC1658" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>dirname</span> <span class=pl-c1>=</span> <span class=pl-s1>values</span> <span class=pl-k>if</span> <span class=pl-s1>values</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>:] <span class=pl-c1>==</span> <span class=pl-s>b&#39;/&#39;</span> <span class=pl-k>else</span> <span class=pl-s1>values</span><span class=pl-c1>+</span><span class=pl-s>b&#39;/&#39;</span></td>
        </tr>
        <tr>
          <td id="L1659" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1659"></td>
          <td id="LC1659" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>option_string</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;--subdirectory-filter&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1660" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1660"></td>
          <td id="LC1660" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>af</span>(<span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s1>dirname</span>,     <span class=pl-s>&#39;--path-match&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1661" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1661"></td>
          <td id="LC1661" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>af</span>(<span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s1>dirname</span><span class=pl-c1>+</span><span class=pl-s>b&#39;:&#39;</span>, <span class=pl-s>&#39;--path-rename&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1662" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1662"></td>
          <td id="LC1662" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>option_string</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;--to-subdirectory-filter&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L1663" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1663"></td>
          <td id="LC1663" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>af</span>(<span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s>b&#39;:&#39;</span><span class=pl-c1>+</span><span class=pl-s1>dirname</span>, <span class=pl-s>&#39;--path-rename&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1664" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1664"></td>
          <td id="LC1664" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L1665" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1665"></td>
          <td id="LC1665" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: HelperFilter given invalid option_string: %s&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L1666" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1666"></td>
          <td id="LC1666" class="blob-code blob-code-inner js-file-line">                         <span class=pl-c1>%</span> <span class=pl-s1>option_string</span>) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L1667" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1667"></td>
          <td id="LC1667" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1668" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1668"></td>
          <td id="LC1668" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>class</span> <span class=pl-v>FileWithPathsFilter</span>(<span class=pl-s1>argparse</span>.<span class=pl-v>Action</span>):</td>
        </tr>
        <tr>
          <td id="L1669" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1669"></td>
          <td id="LC1669" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>__call__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>parser</span>, <span class=pl-s1>namespace</span>, <span class=pl-s1>values</span>, <span class=pl-s1>option_string</span><span class=pl-c1>=</span><span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L1670" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1670"></td>
          <td id="LC1670" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>namespace</span>.<span class=pl-s1>path_changes</span>:</td>
        </tr>
        <tr>
          <td id="L1671" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1671"></td>
          <td id="LC1671" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>namespace</span>.<span class=pl-s1>path_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L1672" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1672"></td>
          <td id="LC1672" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>namespace</span>.<span class=pl-s1>path_changes</span> <span class=pl-c1>+=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>get_paths_from_file</span>(<span class=pl-s1>values</span>)</td>
        </tr>
        <tr>
          <td id="L1673" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1673"></td>
          <td id="LC1673" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1674" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1674"></td>
          <td id="LC1674" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L1675" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1675"></td>
          <td id="LC1675" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>create_arg_parser</span>():</td>
        </tr>
        <tr>
          <td id="L1676" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1676"></td>
          <td id="LC1676" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Include usage in the summary, so we can put the description first</span></td>
        </tr>
        <tr>
          <td id="L1677" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1677"></td>
          <td id="LC1677" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>summary</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&#39;&#39;Rewrite (or analyze) repository history</span></td>
        </tr>
        <tr>
          <td id="L1678" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1678"></td>
          <td id="LC1678" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1679" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1679"></td>
          <td id="LC1679" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    git-filter-repo destructively rewrites history (unless --analyze or</span></td>
        </tr>
        <tr>
          <td id="L1680" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1680"></td>
          <td id="LC1680" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    --dry-run are given) according to specified rules.  It refuses to do any</span></td>
        </tr>
        <tr>
          <td id="L1681" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1681"></td>
          <td id="LC1681" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    rewriting unless either run from a clean fresh clone, or --force was</span></td>
        </tr>
        <tr>
          <td id="L1682" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1682"></td>
          <td id="LC1682" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    given.</span></td>
        </tr>
        <tr>
          <td id="L1683" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1683"></td>
          <td id="LC1683" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1684" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1684"></td>
          <td id="LC1684" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Basic Usage:</span></td>
        </tr>
        <tr>
          <td id="L1685" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1685"></td>
          <td id="LC1685" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git-filter-repo --analyze</span></td>
        </tr>
        <tr>
          <td id="L1686" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1686"></td>
          <td id="LC1686" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git-filter-repo [FILTER/RENAME/CONTROL OPTIONS]</span></td>
        </tr>
        <tr>
          <td id="L1687" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1687"></td>
          <td id="LC1687" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1688" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1688"></td>
          <td id="LC1688" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    See EXAMPLES section for details.</span></td>
        </tr>
        <tr>
          <td id="L1689" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1689"></td>
          <td id="LC1689" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    &#39;&#39;&#39;</span>).<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L1690" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1690"></td>
          <td id="LC1690" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1691" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1691"></td>
          <td id="LC1691" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Provide a long helpful examples section</span></td>
        </tr>
        <tr>
          <td id="L1692" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1692"></td>
          <td id="LC1692" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>example_text</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&#39;&#39;CALLBACKS</span></td>
        </tr>
        <tr>
          <td id="L1693" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1693"></td>
          <td id="LC1693" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1694" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1694"></td>
          <td id="LC1694" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    All callback functions are of the same general format.  For a command line</span></td>
        </tr>
        <tr>
          <td id="L1695" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1695"></td>
          <td id="LC1695" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    argument like</span></td>
        </tr>
        <tr>
          <td id="L1696" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1696"></td>
          <td id="LC1696" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      --foo-callback &#39;BODY&#39;</span></td>
        </tr>
        <tr>
          <td id="L1697" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1697"></td>
          <td id="LC1697" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1698" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1698"></td>
          <td id="LC1698" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    the following code will be compiled and called:</span></td>
        </tr>
        <tr>
          <td id="L1699" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1699"></td>
          <td id="LC1699" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      def foo_callback(foo):</span></td>
        </tr>
        <tr>
          <td id="L1700" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1700"></td>
          <td id="LC1700" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        BODY</span></td>
        </tr>
        <tr>
          <td id="L1701" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1701"></td>
          <td id="LC1701" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1702" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1702"></td>
          <td id="LC1702" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Thus, to replace &#39;Jon&#39; with &#39;John&#39; in author/committer/tagger names:</span></td>
        </tr>
        <tr>
          <td id="L1703" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1703"></td>
          <td id="LC1703" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --name-callback &#39;return name.replace(b&quot;Jon&quot;, b&quot;John&quot;)&#39;</span></td>
        </tr>
        <tr>
          <td id="L1704" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1704"></td>
          <td id="LC1704" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1705" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1705"></td>
          <td id="LC1705" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To remove all &#39;Tested-by&#39; tags in commit (or tag) messages:</span></td>
        </tr>
        <tr>
          <td id="L1706" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1706"></td>
          <td id="LC1706" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --message-callback &#39;return re.sub(br&quot;<span class=pl-cce>\\</span>nTested-by:.*&quot;, &quot;&quot;, message)&#39;</span></td>
        </tr>
        <tr>
          <td id="L1707" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1707"></td>
          <td id="LC1707" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1708" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1708"></td>
          <td id="LC1708" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To remove all .DS_Store files:</span></td>
        </tr>
        <tr>
          <td id="L1709" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1709"></td>
          <td id="LC1709" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --filename-callback &#39;return None if os.path.basename(filename) == b&quot;.DS_Store&quot; else filename&#39;</span></td>
        </tr>
        <tr>
          <td id="L1710" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1710"></td>
          <td id="LC1710" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1711" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1711"></td>
          <td id="LC1711" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    Note that if BODY resolves to a filename, then the contents of that file</span></td>
        </tr>
        <tr>
          <td id="L1712" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1712"></td>
          <td id="LC1712" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    will be used as the BODY in the callback function.</span></td>
        </tr>
        <tr>
          <td id="L1713" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1713"></td>
          <td id="LC1713" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1714" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1714"></td>
          <td id="LC1714" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    For more detailed examples and explanations AND caveats, see</span></td>
        </tr>
        <tr>
          <td id="L1715" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1715"></td>
          <td id="LC1715" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html#CALLBACKS</span></td>
        </tr>
        <tr>
          <td id="L1716" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1716"></td>
          <td id="LC1716" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1717" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1717"></td>
          <td id="LC1717" class="blob-code blob-code-inner js-file-line"><span class=pl-s>EXAMPLES</span></td>
        </tr>
        <tr>
          <td id="L1718" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1718"></td>
          <td id="LC1718" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1719" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1719"></td>
          <td id="LC1719" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To get a bunch of reports mentioning renames that have occurred in</span></td>
        </tr>
        <tr>
          <td id="L1720" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1720"></td>
          <td id="LC1720" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    your repo and listing sizes of objects aggregated by any of path,</span></td>
        </tr>
        <tr>
          <td id="L1721" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1721"></td>
          <td id="LC1721" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    directory, extension, or blob-id:</span></td>
        </tr>
        <tr>
          <td id="L1722" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1722"></td>
          <td id="LC1722" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --analyze</span></td>
        </tr>
        <tr>
          <td id="L1723" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1723"></td>
          <td id="LC1723" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1724" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1724"></td>
          <td id="LC1724" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    (These reports can help you choose how to filter your repo; it can</span></td>
        </tr>
        <tr>
          <td id="L1725" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1725"></td>
          <td id="LC1725" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    be useful to re-run this command after filtering to regenerate the</span></td>
        </tr>
        <tr>
          <td id="L1726" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1726"></td>
          <td id="LC1726" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    report and verify the changes look correct.)</span></td>
        </tr>
        <tr>
          <td id="L1727" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1727"></td>
          <td id="LC1727" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1728" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1728"></td>
          <td id="LC1728" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To extract the history that touched just &#39;guides&#39; and &#39;tools/releases&#39;:</span></td>
        </tr>
        <tr>
          <td id="L1729" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1729"></td>
          <td id="LC1729" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --path guides/ --path tools/releases</span></td>
        </tr>
        <tr>
          <td id="L1730" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1730"></td>
          <td id="LC1730" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1731" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1731"></td>
          <td id="LC1731" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To remove foo.zip and bar/baz/zips from every revision in history:</span></td>
        </tr>
        <tr>
          <td id="L1732" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1732"></td>
          <td id="LC1732" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --path foo.zip --path bar/baz/zips/ --invert-paths</span></td>
        </tr>
        <tr>
          <td id="L1733" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1733"></td>
          <td id="LC1733" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1734" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1734"></td>
          <td id="LC1734" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To replace the text &#39;password&#39; with &#39;p455w0rd&#39;:</span></td>
        </tr>
        <tr>
          <td id="L1735" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1735"></td>
          <td id="LC1735" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --replace-text &lt;(echo &quot;password==&gt;p455w0rd&quot;)</span></td>
        </tr>
        <tr>
          <td id="L1736" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1736"></td>
          <td id="LC1736" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1737" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1737"></td>
          <td id="LC1737" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To use the current version of the .mailmap file to update authors,</span></td>
        </tr>
        <tr>
          <td id="L1738" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1738"></td>
          <td id="LC1738" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    committers, and taggers throughout history and make it permanent:</span></td>
        </tr>
        <tr>
          <td id="L1739" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1739"></td>
          <td id="LC1739" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --use-mailmap</span></td>
        </tr>
        <tr>
          <td id="L1740" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1740"></td>
          <td id="LC1740" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1741" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1741"></td>
          <td id="LC1741" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    To extract the history of &#39;src/&#39;, rename all files to have a new leading</span></td>
        </tr>
        <tr>
          <td id="L1742" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1742"></td>
          <td id="LC1742" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    directory &#39;my-module&#39; (e.g. src/foo.java -&gt; my-module/src/foo.java), and</span></td>
        </tr>
        <tr>
          <td id="L1743" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1743"></td>
          <td id="LC1743" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    add a &#39;my-module-&#39; prefix to all tags:</span></td>
        </tr>
        <tr>
          <td id="L1744" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1744"></td>
          <td id="LC1744" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      git filter-repo --path src/ --to-subdirectory-filter my-module --tag-rename &#39;&#39;:&#39;my-module-&#39;</span></td>
        </tr>
        <tr>
          <td id="L1745" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1745"></td>
          <td id="LC1745" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L1746" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1746"></td>
          <td id="LC1746" class="blob-code blob-code-inner js-file-line"><span class=pl-s>    For more detailed examples and explanations, see</span></td>
        </tr>
        <tr>
          <td id="L1747" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1747"></td>
          <td id="LC1747" class="blob-code blob-code-inner js-file-line"><span class=pl-s>      https://htmlpreview.github.io/?https://github.com/newren/git-filter-repo/blob/docs/html/git-filter-repo.html#EXAMPLES&#39;&#39;&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L1748" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1748"></td>
          <td id="LC1748" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1749" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1749"></td>
          <td id="LC1749" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the basic parser</span></td>
        </tr>
        <tr>
          <td id="L1750" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1750"></td>
          <td id="LC1750" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parser</span> <span class=pl-c1>=</span> <span class=pl-s1>argparse</span>.<span class=pl-v>ArgumentParser</span>(<span class=pl-s1>description</span><span class=pl-c1>=</span><span class=pl-s1>summary</span>,</td>
        </tr>
        <tr>
          <td id="L1751" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1751"></td>
          <td id="LC1751" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s1>usage</span> <span class=pl-c1>=</span> <span class=pl-s1>argparse</span>.<span class=pl-v>SUPPRESS</span>,</td>
        </tr>
        <tr>
          <td id="L1752" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1752"></td>
          <td id="LC1752" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s1>add_help</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>,</td>
        </tr>
        <tr>
          <td id="L1753" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1753"></td>
          <td id="LC1753" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s1>epilog</span> <span class=pl-c1>=</span> <span class=pl-s1>example_text</span>,</td>
        </tr>
        <tr>
          <td id="L1754" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1754"></td>
          <td id="LC1754" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s1>formatter_class</span><span class=pl-c1>=</span><span class=pl-s1>argparse</span>.<span class=pl-v>RawDescriptionHelpFormatter</span>)</td>
        </tr>
        <tr>
          <td id="L1755" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1755"></td>
          <td id="LC1755" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1756" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1756"></td>
          <td id="LC1756" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>analyze</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Analysis&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1757" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1757"></td>
          <td id="LC1757" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>analyze</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--analyze&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1758" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1758"></td>
          <td id="LC1758" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Analyze repository history and create a report that may be &quot;</span></td>
        </tr>
        <tr>
          <td id="L1759" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1759"></td>
          <td id="LC1759" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;useful in determining what to filter in a subsequent run. &quot;</span></td>
        </tr>
        <tr>
          <td id="L1760" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1760"></td>
          <td id="LC1760" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;Will not modify your repo.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1761" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1761"></td>
          <td id="LC1761" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>analyze</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--report-dir&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1762" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1762"></td>
          <td id="LC1762" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;DIR_OR_FILE&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1763" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1763"></td>
          <td id="LC1763" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1764" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1764"></td>
          <td id="LC1764" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;report_dir&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1765" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1765"></td>
          <td id="LC1765" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Directory to write report, defaults to GIT_DIR/filter_repo/analysis,&quot;</span></td>
        </tr>
        <tr>
          <td id="L1766" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1766"></td>
          <td id="LC1766" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;refuses to run if exists, --force delete existing dir first.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1767" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1767"></td>
          <td id="LC1767" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1768" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1768"></td>
          <td id="LC1768" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Filtering based on paths &quot;</span></td>
        </tr>
        <tr>
          <td id="L1769" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1769"></td>
          <td id="LC1769" class="blob-code blob-code-inner js-file-line">                                             <span class=pl-s>&quot;(see also --filename-callback)&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L1770" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1770"></td>
          <td id="LC1770" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s1>description</span><span class=pl-c1>=</span><span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L1771" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1771"></td>
          <td id="LC1771" class="blob-code blob-code-inner js-file-line"><span class=pl-s>           These options specify the paths to select.  Note that much like git</span></td>
        </tr>
        <tr>
          <td id="L1772" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1772"></td>
          <td id="LC1772" class="blob-code blob-code-inner js-file-line"><span class=pl-s>           itself, renames are NOT followed so you may need to specify multiple</span></td>
        </tr>
        <tr>
          <td id="L1773" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1773"></td>
          <td id="LC1773" class="blob-code blob-code-inner js-file-line"><span class=pl-s>           paths, e.g. `--path olddir/ --path newdir/`</span></td>
        </tr>
        <tr>
          <td id="L1774" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1774"></td>
          <td id="LC1774" class="blob-code blob-code-inner js-file-line"><span class=pl-s>           &quot;&quot;&quot;</span>[<span class=pl-c1>1</span>:])))</td>
        </tr>
        <tr>
          <td id="L1775" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1775"></td>
          <td id="LC1775" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1776" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1776"></td>
          <td id="LC1776" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--invert-paths&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_false&#39;</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;inclusive&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1777" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1777"></td>
          <td id="LC1777" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Invert the selection of files from the specified &quot;</span></td>
        </tr>
        <tr>
          <td id="L1778" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1778"></td>
          <td id="LC1778" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--path-{match,glob,regex} options below, i.e. only select &quot;</span></td>
        </tr>
        <tr>
          <td id="L1779" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1779"></td>
          <td id="LC1779" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;files matching none of those options.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1780" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1780"></td>
          <td id="LC1780" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1781" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1781"></td>
          <td id="LC1781" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--path-match&#39;</span>, <span class=pl-s>&#39;--path&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;DIR_OR_FILE&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1782" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1782"></td>
          <td id="LC1782" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1783" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1783"></td>
          <td id="LC1783" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>AppendFilter</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1784" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1784"></td>
          <td id="LC1784" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Exact paths (files or directories) to include in filtered &quot;</span></td>
        </tr>
        <tr>
          <td id="L1785" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1785"></td>
          <td id="LC1785" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;history.  Multiple --path options can be specified to get &quot;</span></td>
        </tr>
        <tr>
          <td id="L1786" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1786"></td>
          <td id="LC1786" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;a union of paths.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1787" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1787"></td>
          <td id="LC1787" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--path-glob&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;GLOB&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1788" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1788"></td>
          <td id="LC1788" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>AppendFilter</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1789" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1789"></td>
          <td id="LC1789" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Glob of paths to include in filtered history. Multiple &quot;</span></td>
        </tr>
        <tr>
          <td id="L1790" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1790"></td>
          <td id="LC1790" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--path-glob options can be specified to get a union of &quot;</span></td>
        </tr>
        <tr>
          <td id="L1791" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1791"></td>
          <td id="LC1791" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;paths.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1792" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1792"></td>
          <td id="LC1792" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--path-regex&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;REGEX&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1793" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1793"></td>
          <td id="LC1793" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>AppendFilter</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1794" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1794"></td>
          <td id="LC1794" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Regex of paths to include in filtered history. Multiple &quot;</span></td>
        </tr>
        <tr>
          <td id="L1795" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1795"></td>
          <td id="LC1795" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--path-regex options can be specified to get a union of &quot;</span></td>
        </tr>
        <tr>
          <td id="L1796" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1796"></td>
          <td id="LC1796" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;paths&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1797" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1797"></td>
          <td id="LC1797" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--use-base-name&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1798" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1798"></td>
          <td id="LC1798" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Match on file base name instead of full path from the top &quot;</span></td>
        </tr>
        <tr>
          <td id="L1799" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1799"></td>
          <td id="LC1799" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;of the repo.  Incompatible with --path-rename, and &quot;</span></td>
        </tr>
        <tr>
          <td id="L1800" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1800"></td>
          <td id="LC1800" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;incompatible with matching against directory names.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1801" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1801"></td>
          <td id="LC1801" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1802" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1802"></td>
          <td id="LC1802" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rename</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Renaming based on paths &quot;</span></td>
        </tr>
        <tr>
          <td id="L1803" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1803"></td>
          <td id="LC1803" class="blob-code blob-code-inner js-file-line">                                             <span class=pl-s>&quot;(see also --filename-callback)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1804" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1804"></td>
          <td id="LC1804" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rename</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--path-rename&#39;</span>, <span class=pl-s>&#39;--path-rename-match&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1805" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1805"></td>
          <td id="LC1805" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;OLD_NAME:NEW_NAME&#39;</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1806" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1806"></td>
          <td id="LC1806" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>AppendFilter</span>,</td>
        </tr>
        <tr>
          <td id="L1807" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1807"></td>
          <td id="LC1807" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Path to rename; if filename or directory matches OLD_NAME &quot;</span></td>
        </tr>
        <tr>
          <td id="L1808" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1808"></td>
          <td id="LC1808" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;rename to NEW_NAME.  Multiple --path-rename options can be &quot;</span></td>
        </tr>
        <tr>
          <td id="L1809" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1809"></td>
          <td id="LC1809" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;specified.  NOTE: If you combine filtering options with &quot;</span></td>
        </tr>
        <tr>
          <td id="L1810" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1810"></td>
          <td id="LC1810" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;renaming ones, do not rely on a rename argument to select &quot;</span></td>
        </tr>
        <tr>
          <td id="L1811" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1811"></td>
          <td id="LC1811" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;paths; you also need a filter to select them.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1812" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1812"></td>
          <td id="LC1812" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1813" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1813"></td>
          <td id="LC1813" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>helpers</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Path shortcuts&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1814" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1814"></td>
          <td id="LC1814" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>helpers</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--paths-from-file&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;FILENAME&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1815" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1815"></td>
          <td id="LC1815" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1816" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1816"></td>
          <td id="LC1816" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>FileWithPathsFilter</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;path_changes&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1817" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1817"></td>
          <td id="LC1817" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Specify several path filtering and renaming directives, one &quot;</span></td>
        </tr>
        <tr>
          <td id="L1818" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1818"></td>
          <td id="LC1818" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;per line.  Lines with &#39;==&gt;&#39; in them specify path renames, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1819" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1819"></td>
          <td id="LC1819" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;and lines can begin with &#39;literal:&#39; (the default), &#39;glob:&#39;, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1820" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1820"></td>
          <td id="LC1820" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;or &#39;regex:&#39; to specify different matching styles.  Blank &quot;</span></td>
        </tr>
        <tr>
          <td id="L1821" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1821"></td>
          <td id="LC1821" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;lines and lines starting with a &#39;#&#39; are ignored.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1822" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1822"></td>
          <td id="LC1822" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>helpers</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--subdirectory-filter&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;DIRECTORY&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1823" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1823"></td>
          <td id="LC1823" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>HelperFilter</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1824" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1824"></td>
          <td id="LC1824" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Only look at history that touches the given subdirectory &quot;</span></td>
        </tr>
        <tr>
          <td id="L1825" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1825"></td>
          <td id="LC1825" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;and treat that directory as the project root.  Equivalent &quot;</span></td>
        </tr>
        <tr>
          <td id="L1826" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1826"></td>
          <td id="LC1826" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;to using &#39;--path DIRECTORY/ --path-rename DIRECTORY/:&#39;&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1827" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1827"></td>
          <td id="LC1827" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>helpers</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--to-subdirectory-filter&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;DIRECTORY&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1828" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1828"></td>
          <td id="LC1828" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-v>FilteringOptions</span>.<span class=pl-v>HelperFilter</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1829" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1829"></td>
          <td id="LC1829" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Treat the project root as instead being under DIRECTORY. &quot;</span></td>
        </tr>
        <tr>
          <td id="L1830" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1830"></td>
          <td id="LC1830" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;Equivalent to using &#39;--path-rename :DIRECTORY/&#39;&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1831" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1831"></td>
          <td id="LC1831" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1832" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1832"></td>
          <td id="LC1832" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Content editing filters &quot;</span></td>
        </tr>
        <tr>
          <td id="L1833" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1833"></td>
          <td id="LC1833" class="blob-code blob-code-inner js-file-line">                                                 <span class=pl-s>&quot;(see also --blob-callback)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1834" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1834"></td>
          <td id="LC1834" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--replace-text&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;EXPRESSIONS_FILE&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1835" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1835"></td>
          <td id="LC1835" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;A file with expressions that, if found, will be replaced. &quot;</span></td>
        </tr>
        <tr>
          <td id="L1836" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1836"></td>
          <td id="LC1836" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;By default, each expression is treated as literal text, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1837" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1837"></td>
          <td id="LC1837" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;but &#39;regex:&#39; and &#39;glob:&#39; prefixes are supported.  You can &quot;</span></td>
        </tr>
        <tr>
          <td id="L1838" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1838"></td>
          <td id="LC1838" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;end the line with &#39;==&gt;&#39; and some replacement text to &quot;</span></td>
        </tr>
        <tr>
          <td id="L1839" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1839"></td>
          <td id="LC1839" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;choose a replacement choice other than the default of &#39;{}&#39;.&quot;</span></td>
        </tr>
        <tr>
          <td id="L1840" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1840"></td>
          <td id="LC1840" class="blob-code blob-code-inner js-file-line">               .<span class=pl-en>format</span>(<span class=pl-en>decode</span>(<span class=pl-v>FilteringOptions</span>.<span class=pl-s1>default_replace_text</span>))))</td>
        </tr>
        <tr>
          <td id="L1841" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1841"></td>
          <td id="LC1841" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--strip-blobs-bigger-than&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;SIZE&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1842" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1842"></td>
          <td id="LC1842" class="blob-code blob-code-inner js-file-line">                          <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;max_blob_size&#39;</span>, <span class=pl-s1>default</span><span class=pl-c1>=</span><span class=pl-c1>0</span>,</td>
        </tr>
        <tr>
          <td id="L1843" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1843"></td>
          <td id="LC1843" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Strip blobs (files) bigger than specified size (e.g. &#39;5M&#39;, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1844" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1844"></td>
          <td id="LC1844" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;&#39;2G&#39;, etc)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1845" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1845"></td>
          <td id="LC1845" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--strip-blobs-with-ids&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;BLOB-ID-FILENAME&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1846" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1846"></td>
          <td id="LC1846" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Read git object ids from each line of the given file, and &quot;</span></td>
        </tr>
        <tr>
          <td id="L1847" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1847"></td>
          <td id="LC1847" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;strip all of them from history&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1848" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1848"></td>
          <td id="LC1848" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1849" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1849"></td>
          <td id="LC1849" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>refrename</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Renaming of refs &quot;</span></td>
        </tr>
        <tr>
          <td id="L1850" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1850"></td>
          <td id="LC1850" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s>&quot;(see also --refname-callback)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1851" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1851"></td>
          <td id="LC1851" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>refrename</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--tag-rename&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;OLD:NEW&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1852" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1852"></td>
          <td id="LC1852" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Rename tags starting with OLD to start with NEW.  For &quot;</span></td>
        </tr>
        <tr>
          <td id="L1853" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1853"></td>
          <td id="LC1853" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;example, --tag-rename foo:bar will rename tag foo-1.2.3 &quot;</span></td>
        </tr>
        <tr>
          <td id="L1854" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1854"></td>
          <td id="LC1854" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;to bar-1.2.3; either OLD or NEW can be empty.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1855" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1855"></td>
          <td id="LC1855" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1856" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1856"></td>
          <td id="LC1856" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>messages</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Filtering of commit messages &quot;</span></td>
        </tr>
        <tr>
          <td id="L1857" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1857"></td>
          <td id="LC1857" class="blob-code blob-code-inner js-file-line">                                               <span class=pl-s>&quot;(see also --message-callback)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1858" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1858"></td>
          <td id="LC1858" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>messages</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--replace-message&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;EXPRESSIONS_FILE&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1859" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1859"></td>
          <td id="LC1859" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;A file with expressions that, if found in commit messages, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1860" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1860"></td>
          <td id="LC1860" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;will be replaced. This file uses the same syntax as &quot;</span></td>
        </tr>
        <tr>
          <td id="L1861" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1861"></td>
          <td id="LC1861" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--replace-text.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1862" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1862"></td>
          <td id="LC1862" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>messages</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--preserve-commit-hashes&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1863" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1863"></td>
          <td id="LC1863" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;By default, since commits are rewritten and thus gain new &quot;</span></td>
        </tr>
        <tr>
          <td id="L1864" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1864"></td>
          <td id="LC1864" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;hashes, references to old commit hashes in commit messages &quot;</span></td>
        </tr>
        <tr>
          <td id="L1865" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1865"></td>
          <td id="LC1865" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;are replaced with new commit hashes (abbreviated to the same &quot;</span></td>
        </tr>
        <tr>
          <td id="L1866" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1866"></td>
          <td id="LC1866" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;length as the old reference).  Use this flag to turn off &quot;</span></td>
        </tr>
        <tr>
          <td id="L1867" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1867"></td>
          <td id="LC1867" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;updating commit hashes in commit messages.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1868" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1868"></td>
          <td id="LC1868" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>messages</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--preserve-commit-encoding&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1869" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1869"></td>
          <td id="LC1869" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Do not reencode commit messages into UTF-8.  By default, if &quot;</span></td>
        </tr>
        <tr>
          <td id="L1870" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1870"></td>
          <td id="LC1870" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;the commit object specifies an encoding for the commit &quot;</span></td>
        </tr>
        <tr>
          <td id="L1871" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1871"></td>
          <td id="LC1871" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;message, the message is re-encoded into UTF-8.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1872" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1872"></td>
          <td id="LC1872" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1873" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1873"></td>
          <td id="LC1873" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>people</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Filtering of names &amp; emails &quot;</span></td>
        </tr>
        <tr>
          <td id="L1874" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1874"></td>
          <td id="LC1874" class="blob-code blob-code-inner js-file-line">                                               <span class=pl-s>&quot;(see also --name-callback &quot;</span></td>
        </tr>
        <tr>
          <td id="L1875" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1875"></td>
          <td id="LC1875" class="blob-code blob-code-inner js-file-line">                                               <span class=pl-s>&quot;and --email-callback)&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1876" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1876"></td>
          <td id="LC1876" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>people</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--mailmap&#39;</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;mailmap&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&#39;FILENAME&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1877" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1877"></td>
          <td id="LC1877" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1878" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1878"></td>
          <td id="LC1878" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Use specified mailmap file (see git-shortlog(1) for &quot;</span></td>
        </tr>
        <tr>
          <td id="L1879" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1879"></td>
          <td id="LC1879" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;details on the format) when rewriting author, committer, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1880" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1880"></td>
          <td id="LC1880" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;and tagger names and emails.  If the specified file is &quot;</span></td>
        </tr>
        <tr>
          <td id="L1881" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1881"></td>
          <td id="LC1881" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;part of git history, historical versions of the file will &quot;</span></td>
        </tr>
        <tr>
          <td id="L1882" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1882"></td>
          <td id="LC1882" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;be ignored; only the current contents are consulted.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1883" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1883"></td>
          <td id="LC1883" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>people</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--use-mailmap&#39;</span>, <span class=pl-s1>dest</span><span class=pl-c1>=</span><span class=pl-s>&#39;mailmap&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1884" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1884"></td>
          <td id="LC1884" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_const&#39;</span>, <span class=pl-s1>const</span><span class=pl-c1>=</span><span class=pl-s>b&#39;.mailmap&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1885" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1885"></td>
          <td id="LC1885" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Same as: &#39;--mailmap .mailmap&#39; &quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1886" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1886"></td>
          <td id="LC1886" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1887" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1887"></td>
          <td id="LC1887" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Parent rewriting&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1888" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1888"></td>
          <td id="LC1888" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--replace-refs&#39;</span>, <span class=pl-s1>default</span><span class=pl-c1>=</span><span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L1889" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1889"></td>
          <td id="LC1889" class="blob-code blob-code-inner js-file-line">                         <span class=pl-s1>choices</span><span class=pl-c1>=</span>[<span class=pl-s>&#39;delete-no-add&#39;</span>, <span class=pl-s>&#39;delete-and-add&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1890" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1890"></td>
          <td id="LC1890" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s>&#39;update-no-add&#39;</span>, <span class=pl-s>&#39;update-or-add&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1891" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1891"></td>
          <td id="LC1891" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s>&#39;update-and-add&#39;</span>],</td>
        </tr>
        <tr>
          <td id="L1892" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1892"></td>
          <td id="LC1892" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Replace refs (see git-replace(1)) are used to rewrite &quot;</span></td>
        </tr>
        <tr>
          <td id="L1893" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1893"></td>
          <td id="LC1893" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;parents (unless turned off by the usual git mechanism); this &quot;</span></td>
        </tr>
        <tr>
          <td id="L1894" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1894"></td>
          <td id="LC1894" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;flag specifies what do do with those refs afterward. &quot;</span></td>
        </tr>
        <tr>
          <td id="L1895" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1895"></td>
          <td id="LC1895" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;Replace refs can either be deleted or updated to point at new &quot;</span></td>
        </tr>
        <tr>
          <td id="L1896" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1896"></td>
          <td id="LC1896" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;commit hashes.  Also, new replace refs can be added for each &quot;</span></td>
        </tr>
        <tr>
          <td id="L1897" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1897"></td>
          <td id="LC1897" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;commit rewrite.  With &#39;update-or-add&#39;, new replace refs are &quot;</span></td>
        </tr>
        <tr>
          <td id="L1898" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1898"></td>
          <td id="LC1898" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;only added for commit rewrites that aren&#39;t used to update an &quot;</span></td>
        </tr>
        <tr>
          <td id="L1899" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1899"></td>
          <td id="LC1899" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;existing replace ref. default is &#39;update-and-add&#39; if &quot;</span></td>
        </tr>
        <tr>
          <td id="L1900" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1900"></td>
          <td id="LC1900" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;$GIT_DIR/filter-repo/already_ran does not exist; &quot;</span></td>
        </tr>
        <tr>
          <td id="L1901" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1901"></td>
          <td id="LC1901" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;&#39;update-or-add&#39; otherwise.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1902" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1902"></td>
          <td id="LC1902" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--prune-empty&#39;</span>, <span class=pl-s1>default</span><span class=pl-c1>=</span><span class=pl-s>&#39;auto&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1903" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1903"></td>
          <td id="LC1903" class="blob-code blob-code-inner js-file-line">                         <span class=pl-s1>choices</span><span class=pl-c1>=</span>[<span class=pl-s>&#39;always&#39;</span>, <span class=pl-s>&#39;auto&#39;</span>, <span class=pl-s>&#39;never&#39;</span>],</td>
        </tr>
        <tr>
          <td id="L1904" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1904"></td>
          <td id="LC1904" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Whether to prune empty commits.  &#39;auto&#39; (the default) means &quot;</span></td>
        </tr>
        <tr>
          <td id="L1905" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1905"></td>
          <td id="LC1905" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;only prune commits which become empty (not commits which were &quot;</span></td>
        </tr>
        <tr>
          <td id="L1906" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1906"></td>
          <td id="LC1906" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;empty in the original repo, unless their parent was pruned). &quot;</span></td>
        </tr>
        <tr>
          <td id="L1907" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1907"></td>
          <td id="LC1907" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;When the parent of a commit is pruned, the first non-pruned &quot;</span></td>
        </tr>
        <tr>
          <td id="L1908" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1908"></td>
          <td id="LC1908" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;ancestor becomes the new parent.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1909" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1909"></td>
          <td id="LC1909" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--prune-degenerate&#39;</span>, <span class=pl-s1>default</span><span class=pl-c1>=</span><span class=pl-s>&#39;auto&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1910" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1910"></td>
          <td id="LC1910" class="blob-code blob-code-inner js-file-line">                         <span class=pl-s1>choices</span><span class=pl-c1>=</span>[<span class=pl-s>&#39;always&#39;</span>, <span class=pl-s>&#39;auto&#39;</span>, <span class=pl-s>&#39;never&#39;</span>],</td>
        </tr>
        <tr>
          <td id="L1911" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1911"></td>
          <td id="LC1911" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Since merge commits are needed for history topology, they &quot;</span></td>
        </tr>
        <tr>
          <td id="L1912" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1912"></td>
          <td id="LC1912" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;are typically exempt from pruning.  However, they can become &quot;</span></td>
        </tr>
        <tr>
          <td id="L1913" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1913"></td>
          <td id="LC1913" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;degenerate with the pruning of other commits (having fewer &quot;</span></td>
        </tr>
        <tr>
          <td id="L1914" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1914"></td>
          <td id="LC1914" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;than two parents, having one commit serve as both parents, or &quot;</span></td>
        </tr>
        <tr>
          <td id="L1915" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1915"></td>
          <td id="LC1915" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;having one parent as the ancestor of the other.)  If such &quot;</span></td>
        </tr>
        <tr>
          <td id="L1916" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1916"></td>
          <td id="LC1916" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;merge commits have no file changes, they can be pruned.  The &quot;</span></td>
        </tr>
        <tr>
          <td id="L1917" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1917"></td>
          <td id="LC1917" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;default (&#39;auto&#39;) is to only prune empty merge commits which &quot;</span></td>
        </tr>
        <tr>
          <td id="L1918" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1918"></td>
          <td id="LC1918" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;become degenerate (not which started as such).&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1919" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1919"></td>
          <td id="LC1919" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--no-ff&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1920" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1920"></td>
          <td id="LC1920" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Even if the first parent is or becomes an ancestor of another &quot;</span></td>
        </tr>
        <tr>
          <td id="L1921" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1921"></td>
          <td id="LC1921" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;parent, do not prune it.  This modifies how &quot;</span></td>
        </tr>
        <tr>
          <td id="L1922" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1922"></td>
          <td id="LC1922" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--prune-degenerate behaves, and may be useful in projects who &quot;</span></td>
        </tr>
        <tr>
          <td id="L1923" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1923"></td>
          <td id="LC1923" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;always use merge --no-ff.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1924" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1924"></td>
          <td id="LC1924" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1925" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1925"></td>
          <td id="LC1925" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Generic callback code snippets&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1926" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1926"></td>
          <td id="LC1926" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--filename-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1927" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1927"></td>
          <td id="LC1927" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing filenames; see CALLBACKS &quot;</span></td>
        </tr>
        <tr>
          <td id="L1928" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1928"></td>
          <td id="LC1928" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;sections below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1929" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1929"></td>
          <td id="LC1929" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--message-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1930" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1930"></td>
          <td id="LC1930" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing messages (both commit &quot;</span></td>
        </tr>
        <tr>
          <td id="L1931" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1931"></td>
          <td id="LC1931" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;messages and tag messages); see CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1932" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1932"></td>
          <td id="LC1932" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--name-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1933" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1933"></td>
          <td id="LC1933" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing names of people; see &quot;</span></td>
        </tr>
        <tr>
          <td id="L1934" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1934"></td>
          <td id="LC1934" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1935" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1935"></td>
          <td id="LC1935" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--email-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1936" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1936"></td>
          <td id="LC1936" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing emails addresses; see &quot;</span></td>
        </tr>
        <tr>
          <td id="L1937" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1937"></td>
          <td id="LC1937" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1938" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1938"></td>
          <td id="LC1938" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--refname-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1939" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1939"></td>
          <td id="LC1939" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing refnames; see CALLBACKS &quot;</span></td>
        </tr>
        <tr>
          <td id="L1940" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1940"></td>
          <td id="LC1940" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1941" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1941"></td>
          <td id="LC1941" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1942" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1942"></td>
          <td id="LC1942" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--blob-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1943" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1943"></td>
          <td id="LC1943" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing blob objects; see &quot;</span></td>
        </tr>
        <tr>
          <td id="L1944" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1944"></td>
          <td id="LC1944" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1945" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1945"></td>
          <td id="LC1945" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--commit-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1946" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1946"></td>
          <td id="LC1946" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing commit objects; see &quot;</span></td>
        </tr>
        <tr>
          <td id="L1947" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1947"></td>
          <td id="LC1947" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1948" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1948"></td>
          <td id="LC1948" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--tag-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1949" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1949"></td>
          <td id="LC1949" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing tag objects; see CALLBACKS &quot;</span></td>
        </tr>
        <tr>
          <td id="L1950" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1950"></td>
          <td id="LC1950" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1951" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1951"></td>
          <td id="LC1951" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>callback</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--reset-callback&#39;</span>, <span class=pl-s1>metavar</span><span class=pl-c1>=</span><span class=pl-s>&quot;FUNCTION_BODY_OR_FILE&quot;</span>,</td>
        </tr>
        <tr>
          <td id="L1952" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1952"></td>
          <td id="LC1952" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Python code body for processing reset objects; see &quot;</span></td>
        </tr>
        <tr>
          <td id="L1953" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1953"></td>
          <td id="LC1953" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;CALLBACKS section below.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1954" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1954"></td>
          <td id="LC1954" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1955" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1955"></td>
          <td id="LC1955" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>desc</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(</td>
        </tr>
        <tr>
          <td id="L1956" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1956"></td>
          <td id="LC1956" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&quot;Specifying alternate source or target locations implies --partial,<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L1957" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1957"></td>
          <td id="LC1957" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&quot;except that the normal default for --replace-refs is used.  However,<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L1958" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1958"></td>
          <td id="LC1958" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&quot;unlike normal uses of --partial, this doesn&#39;t risk mixing old and new<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L1959" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1959"></td>
          <td id="LC1959" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&quot;history since the old and new histories are in different repositories.&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L1960" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1960"></td>
          <td id="LC1960" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>location</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Location to filter from/to&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L1961" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1961"></td>
          <td id="LC1961" class="blob-code blob-code-inner js-file-line">                                         <span class=pl-s1>description</span><span class=pl-c1>=</span><span class=pl-s1>desc</span>)</td>
        </tr>
        <tr>
          <td id="L1962" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1962"></td>
          <td id="LC1962" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>location</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--source&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1963" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1963"></td>
          <td id="LC1963" class="blob-code blob-code-inner js-file-line">                          <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Git repository to read from&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1964" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1964"></td>
          <td id="LC1964" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>location</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--target&#39;</span>, <span class=pl-s1>type</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>fsencode</span>,</td>
        </tr>
        <tr>
          <td id="L1965" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1965"></td>
          <td id="LC1965" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Git repository to overwrite with filtered history&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1966" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1966"></td>
          <td id="LC1966" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L1967" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1967"></td>
          <td id="LC1967" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>add_argument_group</span>(<span class=pl-s1>title</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Miscellaneous options&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1968" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1968"></td>
          <td id="LC1968" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--help&#39;</span>, <span class=pl-s>&#39;-h&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1969" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1969"></td>
          <td id="LC1969" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Show this help message and exit.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1970" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1970"></td>
          <td id="LC1970" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--version&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1971" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1971"></td>
          <td id="LC1971" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Display filter-repo&#39;s version and exit.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1972" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1972"></td>
          <td id="LC1972" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--force&#39;</span>, <span class=pl-s>&#39;-f&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1973" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1973"></td>
          <td id="LC1973" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Rewrite repository history even if the current repo does not &quot;</span></td>
        </tr>
        <tr>
          <td id="L1974" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1974"></td>
          <td id="LC1974" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;look like a fresh clone.  History rewriting is irreversible &quot;</span></td>
        </tr>
        <tr>
          <td id="L1975" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1975"></td>
          <td id="LC1975" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;(and includes immediate pruning of reflogs and old objects), &quot;</span></td>
        </tr>
        <tr>
          <td id="L1976" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1976"></td>
          <td id="LC1976" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;so be cautious about using this flag.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1977" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1977"></td>
          <td id="LC1977" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--partial&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1978" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1978"></td>
          <td id="LC1978" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Do a partial history rewrite, resulting in the mixture of &quot;</span></td>
        </tr>
        <tr>
          <td id="L1979" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1979"></td>
          <td id="LC1979" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;old and new history.  This implies a default of &quot;</span></td>
        </tr>
        <tr>
          <td id="L1980" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1980"></td>
          <td id="LC1980" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;update-no-add for --replace-refs, disables rewriting &quot;</span></td>
        </tr>
        <tr>
          <td id="L1981" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1981"></td>
          <td id="LC1981" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;refs/remotes/origin/* to refs/heads/*, disables removing &quot;</span></td>
        </tr>
        <tr>
          <td id="L1982" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1982"></td>
          <td id="LC1982" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;of the &#39;origin&#39; remote, disables removing unexported refs, &quot;</span></td>
        </tr>
        <tr>
          <td id="L1983" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1983"></td>
          <td id="LC1983" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;disables expiring the reflog, and disables the automatic &quot;</span></td>
        </tr>
        <tr>
          <td id="L1984" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1984"></td>
          <td id="LC1984" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;post-filter gc.  Also, this modifies --tag-rename and &quot;</span></td>
        </tr>
        <tr>
          <td id="L1985" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1985"></td>
          <td id="LC1985" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--refname-callback options such that instead of replacing &quot;</span></td>
        </tr>
        <tr>
          <td id="L1986" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1986"></td>
          <td id="LC1986" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;old refs with new refnames, it will instead create new &quot;</span></td>
        </tr>
        <tr>
          <td id="L1987" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1987"></td>
          <td id="LC1987" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;refs and keep the old ones around.  Use with caution.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L1988" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1988"></td>
          <td id="LC1988" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># WARNING: --refs presents a problem with become-degenerate pruning:</span></td>
        </tr>
        <tr>
          <td id="L1989" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1989"></td>
          <td id="LC1989" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * Excluding a commit also excludes its ancestors so when some other</span></td>
        </tr>
        <tr>
          <td id="L1990" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1990"></td>
          <td id="LC1990" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     commit has an excluded ancestor as a parent we have no way of</span></td>
        </tr>
        <tr>
          <td id="L1991" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1991"></td>
          <td id="LC1991" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     knowing what it is an ancestor of without doing a special</span></td>
        </tr>
        <tr>
          <td id="L1992" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1992"></td>
          <td id="LC1992" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     full-graph walk.</span></td>
        </tr>
        <tr>
          <td id="L1993" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1993"></td>
          <td id="LC1993" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--refs&#39;</span>, <span class=pl-s1>nargs</span><span class=pl-c1>=</span><span class=pl-s>&#39;+&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L1994" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1994"></td>
          <td id="LC1994" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Limit history rewriting to the specified refs.  Implies &quot;</span></td>
        </tr>
        <tr>
          <td id="L1995" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1995"></td>
          <td id="LC1995" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;--partial.  In addition to the normal caveats of --partial &quot;</span></td>
        </tr>
        <tr>
          <td id="L1996" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1996"></td>
          <td id="LC1996" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;(mixing old and new history, no automatic remapping of &quot;</span></td>
        </tr>
        <tr>
          <td id="L1997" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1997"></td>
          <td id="LC1997" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;refs/remotes/origin/* to refs/heads/*, etc.), this also may &quot;</span></td>
        </tr>
        <tr>
          <td id="L1998" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1998"></td>
          <td id="LC1998" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;cause problems for pruning of degenerate empty merge &quot;</span></td>
        </tr>
        <tr>
          <td id="L1999" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="1999"></td>
          <td id="LC1999" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;commits when negative revisions are specified.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2000" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2000"></td>
          <td id="LC2000" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2001" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2001"></td>
          <td id="LC2001" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--dry-run&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L2002" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2002"></td>
          <td id="LC2002" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Do not change the repository.  Run `git fast-export` and &quot;</span></td>
        </tr>
        <tr>
          <td id="L2003" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2003"></td>
          <td id="LC2003" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;filter its output, and save both the original and the &quot;</span></td>
        </tr>
        <tr>
          <td id="L2004" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2004"></td>
          <td id="LC2004" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;filtered version for comparison.  This also disables &quot;</span></td>
        </tr>
        <tr>
          <td id="L2005" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2005"></td>
          <td id="LC2005" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;rewriting commit messages due to not knowing new commit &quot;</span></td>
        </tr>
        <tr>
          <td id="L2006" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2006"></td>
          <td id="LC2006" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;IDs and disables filtering of some empty commits due to &quot;</span></td>
        </tr>
        <tr>
          <td id="L2007" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2007"></td>
          <td id="LC2007" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;inability to query the fast-import backend.&quot;</span> ))</td>
        </tr>
        <tr>
          <td id="L2008" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2008"></td>
          <td id="LC2008" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--debug&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L2009" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2009"></td>
          <td id="LC2009" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Print additional information about operations being &quot;</span></td>
        </tr>
        <tr>
          <td id="L2010" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2010"></td>
          <td id="LC2010" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;performed and commands being run.  When used together &quot;</span></td>
        </tr>
        <tr>
          <td id="L2011" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2011"></td>
          <td id="LC2011" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;with --dry-run, also show extra information about what &quot;</span></td>
        </tr>
        <tr>
          <td id="L2012" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2012"></td>
          <td id="LC2012" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;would be run.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2013" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2013"></td>
          <td id="LC2013" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># WARNING: --state-branch has some problems:</span></td>
        </tr>
        <tr>
          <td id="L2014" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2014"></td>
          <td id="LC2014" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * It does not work well with manually inserted objects (user creating</span></td>
        </tr>
        <tr>
          <td id="L2015" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2015"></td>
          <td id="LC2015" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     Blob() or Commit() or Tag() objects and calling</span></td>
        </tr>
        <tr>
          <td id="L2016" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2016"></td>
          <td id="LC2016" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     RepoFilter.insert(obj) on them).</span></td>
        </tr>
        <tr>
          <td id="L2017" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2017"></td>
          <td id="LC2017" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * It does not work well with multiple source or multiple target repos</span></td>
        </tr>
        <tr>
          <td id="L2018" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2018"></td>
          <td id="LC2018" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * It doesn&#39;t work so well with pruning become-empty commits (though</span></td>
        </tr>
        <tr>
          <td id="L2019" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2019"></td>
          <td id="LC2019" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     --refs doesn&#39;t work so well with it either)</span></td>
        </tr>
        <tr>
          <td id="L2020" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2020"></td>
          <td id="LC2020" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># These are probably fixable, given some work (e.g. re-importing the</span></td>
        </tr>
        <tr>
          <td id="L2021" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2021"></td>
          <td id="LC2021" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># graph at the beginning to get the AncestryGraph right, doing our own</span></td>
        </tr>
        <tr>
          <td id="L2022" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2022"></td>
          <td id="LC2022" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># export of marks instead of using fast-export --export-marks, etc.), but</span></td>
        </tr>
        <tr>
          <td id="L2023" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2023"></td>
          <td id="LC2023" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># for now just hide the option.</span></td>
        </tr>
        <tr>
          <td id="L2024" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2024"></td>
          <td id="LC2024" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--state-branch&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L2025" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2025"></td>
          <td id="LC2025" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#help=_(&quot;Enable incremental filtering by saving the mapping of old &quot;</span></td>
        </tr>
        <tr>
          <td id="L2026" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2026"></td>
          <td id="LC2026" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#       &quot;to new objects to the specified branch upon exit, and&quot;</span></td>
        </tr>
        <tr>
          <td id="L2027" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2027"></td>
          <td id="LC2027" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#       &quot;loading that mapping from that branch (if it exists) &quot;</span></td>
        </tr>
        <tr>
          <td id="L2028" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2028"></td>
          <td id="LC2028" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#       &quot;upon startup.&quot;))</span></td>
        </tr>
        <tr>
          <td id="L2029" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2029"></td>
          <td id="LC2029" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-s1>argparse</span>.<span class=pl-v>SUPPRESS</span>)</td>
        </tr>
        <tr>
          <td id="L2030" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2030"></td>
          <td id="LC2030" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--stdin&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L2031" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2031"></td>
          <td id="LC2031" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Instead of running `git fast-export` and filtering its &quot;</span></td>
        </tr>
        <tr>
          <td id="L2032" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2032"></td>
          <td id="LC2032" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;output, filter the fast-export stream from stdin.    The &quot;</span></td>
        </tr>
        <tr>
          <td id="L2033" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2033"></td>
          <td id="LC2033" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;stdin must be in the expected input format (e.g. it needs &quot;</span></td>
        </tr>
        <tr>
          <td id="L2034" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2034"></td>
          <td id="LC2034" class="blob-code blob-code-inner js-file-line">               <span class=pl-s>&quot;to include original-oid directives).&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2035" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2035"></td>
          <td id="LC2035" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>misc</span>.<span class=pl-en>add_argument</span>(<span class=pl-s>&#39;--quiet&#39;</span>, <span class=pl-s1>action</span><span class=pl-c1>=</span><span class=pl-s>&#39;store_true&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L2036" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2036"></td>
          <td id="LC2036" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>help</span><span class=pl-c1>=</span><span class=pl-en>_</span>(<span class=pl-s>&quot;Pass --quiet to other git commands called&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2037" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2037"></td>
          <td id="LC2037" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>parser</span></td>
        </tr>
        <tr>
          <td id="L2038" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2038"></td>
          <td id="LC2038" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2039" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2039"></td>
          <td id="LC2039" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2040" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2040"></td>
          <td id="LC2040" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>sanity_check_args</span>(<span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L2041" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2041"></td>
          <td id="LC2041" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>analyze</span> <span class=pl-c1>and</span> <span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span>:</td>
        </tr>
        <tr>
          <td id="L2042" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2042"></td>
          <td id="LC2042" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: --analyze is incompatible with --path* flags; &quot;</span></td>
        </tr>
        <tr>
          <td id="L2043" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2043"></td>
          <td id="LC2043" class="blob-code blob-code-inner js-file-line">                         <span class=pl-s>&quot;it&#39;s a read-only operation.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2044" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2044"></td>
          <td id="LC2044" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>analyze</span> <span class=pl-c1>and</span> <span class=pl-s1>args</span>.<span class=pl-s1>stdin</span>:</td>
        </tr>
        <tr>
          <td id="L2045" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2045"></td>
          <td id="LC2045" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: --analyze is incompatible with --stdin.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2046" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2046"></td>
          <td id="LC2046" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If no path_changes are found, initialize with empty list but mark as</span></td>
        </tr>
        <tr>
          <td id="L2047" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2047"></td>
          <td id="LC2047" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># not inclusive so that all files match</span></td>
        </tr>
        <tr>
          <td id="L2048" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2048"></td>
          <td id="LC2048" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span> <span class=pl-c1>==</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L2049" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2049"></td>
          <td id="LC2049" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2050" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2050"></td>
          <td id="LC2050" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>inclusive</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2051" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2051"></td>
          <td id="LC2051" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2052" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2052"></td>
          <td id="LC2052" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Similarly, if we have no filtering paths, then no path should be</span></td>
        </tr>
        <tr>
          <td id="L2053" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2053"></td>
          <td id="LC2053" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># filtered out.  Based on how newname() works, the easiest way to</span></td>
        </tr>
        <tr>
          <td id="L2054" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2054"></td>
          <td id="LC2054" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># achieve that is setting args.inclusive to False.</span></td>
        </tr>
        <tr>
          <td id="L2055" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2055"></td>
          <td id="LC2055" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-en>any</span>(<span class=pl-s1>x</span>[<span class=pl-c1>0</span>] <span class=pl-c1>==</span> <span class=pl-s>&#39;filter&#39;</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span>):</td>
        </tr>
        <tr>
          <td id="L2056" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2056"></td>
          <td id="LC2056" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>args</span>.<span class=pl-s1>inclusive</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2057" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2057"></td>
          <td id="LC2057" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Also check for incompatible --use-base-name and --path-rename flags.</span></td>
        </tr>
        <tr>
          <td id="L2058" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2058"></td>
          <td id="LC2058" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>use_base_name</span>:</td>
        </tr>
        <tr>
          <td id="L2059" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2059"></td>
          <td id="LC2059" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>any</span>(<span class=pl-s1>x</span>[<span class=pl-c1>0</span>] <span class=pl-c1>==</span> <span class=pl-s>&#39;rename&#39;</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span>):</td>
        </tr>
        <tr>
          <td id="L2060" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2060"></td>
          <td id="LC2060" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: --use-base-name and --path-rename are &quot;</span></td>
        </tr>
        <tr>
          <td id="L2061" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2061"></td>
          <td id="LC2061" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot;incompatible.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2062" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2062"></td>
          <td id="LC2062" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Also throw some sanity checks on git version here;</span></td>
        </tr>
        <tr>
          <td id="L2063" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2063"></td>
          <td id="LC2063" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># PERF: remove these checks once new enough git versions are common</span></td>
        </tr>
        <tr>
          <td id="L2064" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2064"></td>
          <td id="LC2064" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s>&#39;git fast-export -h&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L2065" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2065"></td>
          <td id="LC2065" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>stderr</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>STDOUT</span>)</td>
        </tr>
        <tr>
          <td id="L2066" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2066"></td>
          <td id="LC2066" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>p</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>read</span>()</td>
        </tr>
        <tr>
          <td id="L2067" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2067"></td>
          <td id="LC2067" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>b&#39;--anonymize-map&#39;</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L2068" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2068"></td>
          <td id="LC2068" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>global</span> <span class=pl-s1>date_format_permissive</span></td>
        </tr>
        <tr>
          <td id="L2069" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2069"></td>
          <td id="LC2069" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>date_format_permissive</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2070" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2070"></td>
          <td id="LC2070" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>b&#39;--mark-tags&#39;</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L2071" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2071"></td>
          <td id="LC2071" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>global</span> <span class=pl-s1>write_marks</span></td>
        </tr>
        <tr>
          <td id="L2072" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2072"></td>
          <td id="LC2072" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>write_marks</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2073" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2073"></td>
          <td id="LC2073" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L2074" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2074"></td>
          <td id="LC2074" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># We need a version of git-fast-export with --mark-tags</span></td>
        </tr>
        <tr>
          <td id="L2075" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2075"></td>
          <td id="LC2075" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: need git &gt;= 2.24.0&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2076" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2076"></td>
          <td id="LC2076" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>b&#39;--reencode&#39;</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L2077" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2077"></td>
          <td id="LC2077" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>preserve_commit_encoding</span>:</td>
        </tr>
        <tr>
          <td id="L2078" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2078"></td>
          <td id="LC2078" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># We need a version of git-fast-export with --reencode</span></td>
        </tr>
        <tr>
          <td id="L2079" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2079"></td>
          <td id="LC2079" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: need git &gt;= 2.23.0&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2080" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2080"></td>
          <td id="LC2080" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2081" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2081"></td>
          <td id="LC2081" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Set args.preserve_commit_encoding to None which we&#39;ll check for later</span></td>
        </tr>
        <tr>
          <td id="L2082" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2082"></td>
          <td id="LC2082" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># to avoid passing --reencode=yes to fast-export (that option was the</span></td>
        </tr>
        <tr>
          <td id="L2083" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2083"></td>
          <td id="LC2083" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># default prior to git-2.23)</span></td>
        </tr>
        <tr>
          <td id="L2084" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2084"></td>
          <td id="LC2084" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>args</span>.<span class=pl-s1>preserve_commit_encoding</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2085" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2085"></td>
          <td id="LC2085" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If we don&#39;t have fast-exoprt --reencode, we may also be missing</span></td>
        </tr>
        <tr>
          <td id="L2086" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2086"></td>
          <td id="LC2086" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># diff-tree --combined-all-paths, which is even more important...</span></td>
        </tr>
        <tr>
          <td id="L2087" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2087"></td>
          <td id="LC2087" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s>&#39;git diff-tree -h&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L2088" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2088"></td>
          <td id="LC2088" class="blob-code blob-code-inner js-file-line">                        <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>stderr</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>STDOUT</span>)</td>
        </tr>
        <tr>
          <td id="L2089" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2089"></td>
          <td id="LC2089" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>p</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>read</span>()</td>
        </tr>
        <tr>
          <td id="L2090" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2090"></td>
          <td id="LC2090" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s>b&#39;--combined-all-paths&#39;</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>:</td>
        </tr>
        <tr>
          <td id="L2091" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2091"></td>
          <td id="LC2091" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># We need a version of git-diff-tree with --combined-all-paths</span></td>
        </tr>
        <tr>
          <td id="L2092" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2092"></td>
          <td id="LC2092" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: need git &gt;= 2.22.0&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2093" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2093"></td>
          <td id="LC2093" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># End of sanity checks on git version</span></td>
        </tr>
        <tr>
          <td id="L2094" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2094"></td>
          <td id="LC2094" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span>:</td>
        </tr>
        <tr>
          <td id="L2095" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2095"></td>
          <td id="LC2095" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>suffix</span> <span class=pl-c1>=</span> <span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L2096" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2096"></td>
          <td id="LC2096" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>suffix</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s>&#39;1234567890&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2097" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2097"></td>
          <td id="LC2097" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>mult</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;K&#39;</span>: <span class=pl-c1>1024</span>, <span class=pl-s>&#39;M&#39;</span>: <span class=pl-c1>1024</span><span class=pl-c1>**</span><span class=pl-c1>2</span>, <span class=pl-s>&#39;G&#39;</span>: <span class=pl-c1>1024</span><span class=pl-c1>**</span><span class=pl-c1>3</span>}</td>
        </tr>
        <tr>
          <td id="L2098" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2098"></td>
          <td id="LC2098" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>suffix</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>mult</span>:</td>
        </tr>
        <tr>
          <td id="L2099" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2099"></td>
          <td id="LC2099" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: could not parse --strip-blobs-bigger-than&quot;</span></td>
        </tr>
        <tr>
          <td id="L2100" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2100"></td>
          <td id="LC2100" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot; argument %s&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2101" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2101"></td>
          <td id="LC2101" class="blob-code blob-code-inner js-file-line">                           <span class=pl-c1>%</span> <span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span>)</td>
        </tr>
        <tr>
          <td id="L2102" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2102"></td>
          <td id="LC2102" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span>[<span class=pl-c1>0</span>:<span class=pl-c1>-</span><span class=pl-c1>1</span>]) <span class=pl-c1>*</span> <span class=pl-s1>mult</span>[<span class=pl-s1>suffix</span>]</td>
        </tr>
        <tr>
          <td id="L2103" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2103"></td>
          <td id="LC2103" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2104" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2104"></td>
          <td id="LC2104" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>args</span>.<span class=pl-s1>max_blob_size</span>)</td>
        </tr>
        <tr>
          <td id="L2105" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2105"></td>
          <td id="LC2105" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2106" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2106"></td>
          <td id="LC2106" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2107" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2107"></td>
          <td id="LC2107" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_replace_text</span>(<span class=pl-s1>filename</span>):</td>
        </tr>
        <tr>
          <td id="L2108" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2108"></td>
          <td id="LC2108" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>replace_literals</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2109" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2109"></td>
          <td id="LC2109" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>replace_regexes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2110" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2110"></td>
          <td id="LC2110" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>filename</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2111" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2111"></td>
          <td id="LC2111" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2112" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2112"></td>
          <td id="LC2112" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rstrip</span>(<span class=pl-s>b&#39;<span class=pl-cce>\r</span><span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2113" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2113"></td>
          <td id="LC2113" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2114" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2114"></td>
          <td id="LC2114" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Determine the replacement</span></td>
        </tr>
        <tr>
          <td id="L2115" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2115"></td>
          <td id="LC2115" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>replacement</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-s1>default_replace_text</span></td>
        </tr>
        <tr>
          <td id="L2116" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2116"></td>
          <td id="LC2116" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s>b&#39;==&gt;&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2117" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2117"></td>
          <td id="LC2117" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>line</span>, <span class=pl-s1>replacement</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rsplit</span>(<span class=pl-s>b&#39;==&gt;&#39;</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L2118" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2118"></td>
          <td id="LC2118" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2119" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2119"></td>
          <td id="LC2119" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># See if we need to match via regex</span></td>
        </tr>
        <tr>
          <td id="L2120" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2120"></td>
          <td id="LC2120" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2121" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2121"></td>
          <td id="LC2121" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;regex:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2122" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2122"></td>
          <td id="LC2122" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-c1>6</span>:]</td>
        </tr>
        <tr>
          <td id="L2123" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2123"></td>
          <td id="LC2123" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;glob:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2124" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2124"></td>
          <td id="LC2124" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>regex</span> <span class=pl-c1>=</span> <span class=pl-en>glob_to_regex</span>(<span class=pl-s1>line</span>[<span class=pl-c1>5</span>:])</td>
        </tr>
        <tr>
          <td id="L2125" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2125"></td>
          <td id="LC2125" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>regex</span>:</td>
        </tr>
        <tr>
          <td id="L2126" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2126"></td>
          <td id="LC2126" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>replace_regexes</span>.<span class=pl-en>append</span>((<span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>regex</span>), <span class=pl-s1>replacement</span>))</td>
        </tr>
        <tr>
          <td id="L2127" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2127"></td>
          <td id="LC2127" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2128" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2128"></td>
          <td id="LC2128" class="blob-code blob-code-inner js-file-line">          <span class=pl-c># Otherwise, find the literal we need to replace</span></td>
        </tr>
        <tr>
          <td id="L2129" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2129"></td>
          <td id="LC2129" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;literal:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2130" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2130"></td>
          <td id="LC2130" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-c1>8</span>:]</td>
        </tr>
        <tr>
          <td id="L2131" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2131"></td>
          <td id="LC2131" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2132" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2132"></td>
          <td id="LC2132" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2133" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2133"></td>
          <td id="LC2133" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>replace_literals</span>.<span class=pl-en>append</span>((<span class=pl-s1>line</span>, <span class=pl-s1>replacement</span>))</td>
        </tr>
        <tr>
          <td id="L2134" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2134"></td>
          <td id="LC2134" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> {<span class=pl-s>&#39;literals&#39;</span>: <span class=pl-s1>replace_literals</span>, <span class=pl-s>&#39;regexes&#39;</span>:  <span class=pl-s1>replace_regexes</span>}</td>
        </tr>
        <tr>
          <td id="L2135" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2135"></td>
          <td id="LC2135" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2136" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2136"></td>
          <td id="LC2136" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2137" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2137"></td>
          <td id="LC2137" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_paths_from_file</span>(<span class=pl-s1>filename</span>):</td>
        </tr>
        <tr>
          <td id="L2138" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2138"></td>
          <td id="LC2138" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>new_path_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2139" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2139"></td>
          <td id="LC2139" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>filename</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2140" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2140"></td>
          <td id="LC2140" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2141" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2141"></td>
          <td id="LC2141" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rstrip</span>(<span class=pl-s>b&#39;<span class=pl-cce>\r</span><span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2142" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2142"></td>
          <td id="LC2142" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2143" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2143"></td>
          <td id="LC2143" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Skip blank lines</span></td>
        </tr>
        <tr>
          <td id="L2144" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2144"></td>
          <td id="LC2144" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2145" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2145"></td>
          <td id="LC2145" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2146" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2146"></td>
          <td id="LC2146" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Skip comment lines</span></td>
        </tr>
        <tr>
          <td id="L2147" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2147"></td>
          <td id="LC2147" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;#&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2148" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2148"></td>
          <td id="LC2148" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2149" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2149"></td>
          <td id="LC2149" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2150" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2150"></td>
          <td id="LC2150" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Determine the replacement</span></td>
        </tr>
        <tr>
          <td id="L2151" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2151"></td>
          <td id="LC2151" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>match_type</span>, <span class=pl-s1>repl</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;literal&#39;</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2152" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2152"></td>
          <td id="LC2152" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s>b&#39;==&gt;&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2153" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2153"></td>
          <td id="LC2153" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>line</span>, <span class=pl-s1>repl</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rsplit</span>(<span class=pl-s>b&#39;==&gt;&#39;</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L2154" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2154"></td>
          <td id="LC2154" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2155" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2155"></td>
          <td id="LC2155" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># See if we need to match via regex</span></td>
        </tr>
        <tr>
          <td id="L2156" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2156"></td>
          <td id="LC2156" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>match_type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;match&#39;</span> <span class=pl-c># a.k.a. &#39;literal&#39;</span></td>
        </tr>
        <tr>
          <td id="L2157" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2157"></td>
          <td id="LC2157" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;regex:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2158" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2158"></td>
          <td id="LC2158" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>match_type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;regex&#39;</span></td>
        </tr>
        <tr>
          <td id="L2159" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2159"></td>
          <td id="LC2159" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>match</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s1>line</span>[<span class=pl-c1>6</span>:])</td>
        </tr>
        <tr>
          <td id="L2160" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2160"></td>
          <td id="LC2160" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;glob:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2161" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2161"></td>
          <td id="LC2161" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>match_type</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;glob&#39;</span></td>
        </tr>
        <tr>
          <td id="L2162" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2162"></td>
          <td id="LC2162" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>match</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-c1>5</span>:]</td>
        </tr>
        <tr>
          <td id="L2163" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2163"></td>
          <td id="LC2163" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>repl</span>:</td>
        </tr>
        <tr>
          <td id="L2164" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2164"></td>
          <td id="LC2164" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: In %s, &#39;glob:&#39; and &#39;==&gt;&#39; are incompatible (renaming globs makes no sense)&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>filename</span>)))</td>
        </tr>
        <tr>
          <td id="L2165" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2165"></td>
          <td id="LC2165" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2166" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2166"></td>
          <td id="LC2166" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;literal:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2167" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2167"></td>
          <td id="LC2167" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>match</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-c1>8</span>:]</td>
        </tr>
        <tr>
          <td id="L2168" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2168"></td>
          <td id="LC2168" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2169" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2169"></td>
          <td id="LC2169" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>match</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span></td>
        </tr>
        <tr>
          <td id="L2170" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2170"></td>
          <td id="LC2170" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>repl</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L2171" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2171"></td>
          <td id="LC2171" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-s1>match</span> <span class=pl-c1>and</span> <span class=pl-s1>repl</span> <span class=pl-c1>and</span> <span class=pl-s1>match</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-c1>!=</span> <span class=pl-s1>repl</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2172" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2172"></td>
          <td id="LC2172" class="blob-code blob-code-inner js-file-line">              <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: When rename directories, if OLDNAME &quot;</span></td>
        </tr>
        <tr>
          <td id="L2173" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2173"></td>
          <td id="LC2173" class="blob-code blob-code-inner js-file-line">                                 <span class=pl-s>&quot;and NEW_NAME are both non-empty and either &quot;</span></td>
        </tr>
        <tr>
          <td id="L2174" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2174"></td>
          <td id="LC2174" class="blob-code blob-code-inner js-file-line">                                 <span class=pl-s>&quot;ends with a slash then both must.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2175" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2175"></td>
          <td id="LC2175" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2176" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2176"></td>
          <td id="LC2176" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Record the filter or rename</span></td>
        </tr>
        <tr>
          <td id="L2177" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2177"></td>
          <td id="LC2177" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>repl</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L2178" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2178"></td>
          <td id="LC2178" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>new_path_changes</span>.<span class=pl-en>append</span>([<span class=pl-s>&#39;rename&#39;</span>, <span class=pl-s1>match_type</span>, (<span class=pl-s1>match</span>, <span class=pl-s1>repl</span>)])</td>
        </tr>
        <tr>
          <td id="L2179" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2179"></td>
          <td id="LC2179" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2180" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2180"></td>
          <td id="LC2180" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>new_path_changes</span>.<span class=pl-en>append</span>([<span class=pl-s>&#39;filter&#39;</span>, <span class=pl-s1>match_type</span>, <span class=pl-s1>match</span>])</td>
        </tr>
        <tr>
          <td id="L2181" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2181"></td>
          <td id="LC2181" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;glob&#39;</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>match</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;*&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2182" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2182"></td>
          <td id="LC2182" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>extension</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;*&#39;</span> <span class=pl-k>if</span> <span class=pl-s1>match</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39;/&#39;</span>) <span class=pl-k>else</span> <span class=pl-s>b&#39;/*&#39;</span></td>
        </tr>
        <tr>
          <td id="L2183" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2183"></td>
          <td id="LC2183" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>new_path_changes</span>.<span class=pl-en>append</span>([<span class=pl-s>&#39;filter&#39;</span>, <span class=pl-s1>match_type</span>, <span class=pl-s1>match</span><span class=pl-c1>+</span><span class=pl-s1>extension</span>])</td>
        </tr>
        <tr>
          <td id="L2184" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2184"></td>
          <td id="LC2184" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>new_path_changes</span></td>
        </tr>
        <tr>
          <td id="L2185" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2185"></td>
          <td id="LC2185" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2186" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2186"></td>
          <td id="LC2186" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2187" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2187"></td>
          <td id="LC2187" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>default_options</span>():</td>
        </tr>
        <tr>
          <td id="L2188" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2188"></td>
          <td id="LC2188" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>parse_args</span>([], <span class=pl-s1>error_on_empty</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>)</td>
        </tr>
        <tr>
          <td id="L2189" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2189"></td>
          <td id="LC2189" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2190" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2190"></td>
          <td id="LC2190" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2191" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2191"></td>
          <td id="LC2191" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>parse_args</span>(<span class=pl-s1>input_args</span>, <span class=pl-s1>error_on_empty</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2192" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2192"></td>
          <td id="LC2192" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parser</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>create_arg_parser</span>()</td>
        </tr>
        <tr>
          <td id="L2193" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2193"></td>
          <td id="LC2193" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>input_args</span> <span class=pl-c1>and</span> <span class=pl-s1>error_on_empty</span>:</td>
        </tr>
        <tr>
          <td id="L2194" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2194"></td>
          <td id="LC2194" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parser</span>.<span class=pl-en>print_usage</span>()</td>
        </tr>
        <tr>
          <td id="L2195" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2195"></td>
          <td id="LC2195" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;No arguments specified.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2196" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2196"></td>
          <td id="LC2196" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>args</span> <span class=pl-c1>=</span> <span class=pl-s1>parser</span>.<span class=pl-en>parse_args</span>(<span class=pl-s1>input_args</span>)</td>
        </tr>
        <tr>
          <td id="L2197" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2197"></td>
          <td id="LC2197" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>help</span>:</td>
        </tr>
        <tr>
          <td id="L2198" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2198"></td>
          <td id="LC2198" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parser</span>.<span class=pl-en>print_help</span>()</td>
        </tr>
        <tr>
          <td id="L2199" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2199"></td>
          <td id="LC2199" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>()</td>
        </tr>
        <tr>
          <td id="L2200" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2200"></td>
          <td id="LC2200" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>version</span>:</td>
        </tr>
        <tr>
          <td id="L2201" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2201"></td>
          <td id="LC2201" class="blob-code blob-code-inner js-file-line">      <span class=pl-v>GitUtils</span>.<span class=pl-en>print_my_version</span>()</td>
        </tr>
        <tr>
          <td id="L2202" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2202"></td>
          <td id="LC2202" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>()</td>
        </tr>
        <tr>
          <td id="L2203" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2203"></td>
          <td id="LC2203" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>FilteringOptions</span>.<span class=pl-en>sanity_check_args</span>(<span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L2204" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2204"></td>
          <td id="LC2204" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span>:</td>
        </tr>
        <tr>
          <td id="L2205" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2205"></td>
          <td id="LC2205" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span> <span class=pl-c1>=</span> <span class=pl-v>MailmapInfo</span>(<span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span>)</td>
        </tr>
        <tr>
          <td id="L2206" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2206"></td>
          <td id="LC2206" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>replace_text</span>:</td>
        </tr>
        <tr>
          <td id="L2207" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2207"></td>
          <td id="LC2207" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>replace_text</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>get_replace_text</span>(<span class=pl-s1>args</span>.<span class=pl-s1>replace_text</span>)</td>
        </tr>
        <tr>
          <td id="L2208" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2208"></td>
          <td id="LC2208" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>replace_message</span>:</td>
        </tr>
        <tr>
          <td id="L2209" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2209"></td>
          <td id="LC2209" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>replace_message</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>get_replace_text</span>(<span class=pl-s1>args</span>.<span class=pl-s1>replace_message</span>)</td>
        </tr>
        <tr>
          <td id="L2210" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2210"></td>
          <td id="LC2210" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>strip_blobs_with_ids</span>:</td>
        </tr>
        <tr>
          <td id="L2211" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2211"></td>
          <td id="LC2211" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>args</span>.<span class=pl-s1>strip_blobs_with_ids</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2212" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2212"></td>
          <td id="LC2212" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>args</span>.<span class=pl-s1>strip_blobs_with_ids</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>f</span>.<span class=pl-en>read</span>().<span class=pl-en>split</span>())</td>
        </tr>
        <tr>
          <td id="L2213" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2213"></td>
          <td id="LC2213" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2214" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2214"></td>
          <td id="LC2214" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>strip_blobs_with_ids</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L2215" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2215"></td>
          <td id="LC2215" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> (<span class=pl-s1>args</span>.<span class=pl-s1>partial</span> <span class=pl-c1>or</span> <span class=pl-s1>args</span>.<span class=pl-s1>refs</span>) <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>args</span>.<span class=pl-s1>replace_refs</span>:</td>
        </tr>
        <tr>
          <td id="L2216" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2216"></td>
          <td id="LC2216" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;update-no-add&#39;</span></td>
        </tr>
        <tr>
          <td id="L2217" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2217"></td>
          <td id="LC2217" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>args</span>.<span class=pl-s1>repack</span> <span class=pl-c1>=</span> <span class=pl-c1>not</span> (<span class=pl-s1>args</span>.<span class=pl-s1>partial</span> <span class=pl-c1>or</span> <span class=pl-s1>args</span>.<span class=pl-s1>refs</span>)</td>
        </tr>
        <tr>
          <td id="L2218" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2218"></td>
          <td id="LC2218" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>refs</span> <span class=pl-c1>or</span> <span class=pl-s1>args</span>.<span class=pl-s1>source</span> <span class=pl-c1>or</span> <span class=pl-s1>args</span>.<span class=pl-s1>target</span>:</td>
        </tr>
        <tr>
          <td id="L2219" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2219"></td>
          <td id="LC2219" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>partial</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L2220" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2220"></td>
          <td id="LC2220" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>args</span>.<span class=pl-s1>refs</span>:</td>
        </tr>
        <tr>
          <td id="L2221" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2221"></td>
          <td id="LC2221" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>args</span>.<span class=pl-s1>refs</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;--all&#39;</span>]</td>
        </tr>
        <tr>
          <td id="L2222" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2222"></td>
          <td id="LC2222" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>args</span></td>
        </tr>
        <tr>
          <td id="L2223" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2223"></td>
          <td id="LC2223" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2224" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2224"></td>
          <td id="LC2224" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>RepoAnalyze</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L2225" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2225"></td>
          <td id="LC2225" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2226" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2226"></td>
          <td id="LC2226" class="blob-code blob-code-inner js-file-line">  <span class=pl-c># First, several helper functions for analyze_commit()</span></td>
        </tr>
        <tr>
          <td id="L2227" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2227"></td>
          <td id="LC2227" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2228" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2228"></td>
          <td id="LC2228" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2229" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2229"></td>
          <td id="LC2229" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>equiv_class</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>filename</span>):</td>
        </tr>
        <tr>
          <td id="L2230" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2230"></td>
          <td id="LC2230" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>filename</span>, (<span class=pl-s1>filename</span>,))</td>
        </tr>
        <tr>
          <td id="L2231" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2231"></td>
          <td id="LC2231" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2232" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2232"></td>
          <td id="LC2232" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2233" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2233"></td>
          <td id="LC2233" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>setup_equivalence_for_rename</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span>):</td>
        </tr>
        <tr>
          <td id="L2234" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2234"></td>
          <td id="LC2234" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># if A is renamed to B and B is renamed to C, then the user thinks of</span></td>
        </tr>
        <tr>
          <td id="L2235" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2235"></td>
          <td id="LC2235" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A, B, and C as all being different names for the same &#39;file&#39;.  We record</span></td>
        </tr>
        <tr>
          <td id="L2236" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2236"></td>
          <td id="LC2236" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># this as an equivalence class:</span></td>
        </tr>
        <tr>
          <td id="L2237" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2237"></td>
          <td id="LC2237" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   stats[&#39;equivalence&#39;][name] = (A,B,C)</span></td>
        </tr>
        <tr>
          <td id="L2238" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2238"></td>
          <td id="LC2238" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># for name being each of A, B, and C.</span></td>
        </tr>
        <tr>
          <td id="L2239" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2239"></td>
          <td id="LC2239" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old_tuple</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>oldname</span>, ())</td>
        </tr>
        <tr>
          <td id="L2240" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2240"></td>
          <td id="LC2240" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>newname</span> <span class=pl-c1>in</span> <span class=pl-s1>old_tuple</span>:</td>
        </tr>
        <tr>
          <td id="L2241" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2241"></td>
          <td id="LC2241" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L2242" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2242"></td>
          <td id="LC2242" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-s1>old_tuple</span>:</td>
        </tr>
        <tr>
          <td id="L2243" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2243"></td>
          <td id="LC2243" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_tuple</span> <span class=pl-c1>=</span> <span class=pl-en>tuple</span>(<span class=pl-en>list</span>(<span class=pl-s1>old_tuple</span>)<span class=pl-c1>+</span>[<span class=pl-s1>newname</span>])</td>
        </tr>
        <tr>
          <td id="L2244" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2244"></td>
          <td id="LC2244" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2245" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2245"></td>
          <td id="LC2245" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_tuple</span> <span class=pl-c1>=</span> (<span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span>)</td>
        </tr>
        <tr>
          <td id="L2246" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2246"></td>
          <td id="LC2246" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>f</span> <span class=pl-c1>in</span> <span class=pl-s1>new_tuple</span>:</td>
        </tr>
        <tr>
          <td id="L2247" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2247"></td>
          <td id="LC2247" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>][<span class=pl-s1>f</span>] <span class=pl-c1>=</span> <span class=pl-s1>new_tuple</span></td>
        </tr>
        <tr>
          <td id="L2248" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2248"></td>
          <td id="LC2248" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2249" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2249"></td>
          <td id="LC2249" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2250" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2250"></td>
          <td id="LC2250" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>setup_or_update_rename_history</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span>):</td>
        </tr>
        <tr>
          <td id="L2251" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2251"></td>
          <td id="LC2251" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rename_commits</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;rename_history&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>oldname</span>, <span class=pl-en>set</span>())</td>
        </tr>
        <tr>
          <td id="L2252" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2252"></td>
          <td id="LC2252" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>rename_commits</span>.<span class=pl-en>add</span>(<span class=pl-s1>commit</span>)</td>
        </tr>
        <tr>
          <td id="L2253" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2253"></td>
          <td id="LC2253" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>stats</span>[<span class=pl-s>&#39;rename_history&#39;</span>][<span class=pl-s1>oldname</span>] <span class=pl-c1>=</span> <span class=pl-s1>rename_commits</span></td>
        </tr>
        <tr>
          <td id="L2254" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2254"></td>
          <td id="LC2254" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2255" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2255"></td>
          <td id="LC2255" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2256" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2256"></td>
          <td id="LC2256" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>handle_renames</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>change_types</span>, <span class=pl-s1>filenames</span>):</td>
        </tr>
        <tr>
          <td id="L2257" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2257"></td>
          <td id="LC2257" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>index</span>, <span class=pl-s1>change_type</span> <span class=pl-c1>in</span> <span class=pl-en>enumerate</span>(<span class=pl-s1>change_types</span>):</td>
        </tr>
        <tr>
          <td id="L2258" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2258"></td>
          <td id="LC2258" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>change_type</span> <span class=pl-c1>==</span> <span class=pl-en>ord</span>(<span class=pl-s>b&#39;R&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2259" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2259"></td>
          <td id="LC2259" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span> <span class=pl-c1>=</span> <span class=pl-s1>filenames</span>[<span class=pl-s1>index</span>], <span class=pl-s1>filenames</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L2260" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2260"></td>
          <td id="LC2260" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>setup_equivalence_for_rename</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span>)</td>
        </tr>
        <tr>
          <td id="L2261" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2261"></td>
          <td id="LC2261" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>setup_or_update_rename_history</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>commit</span>,</td>
        </tr>
        <tr>
          <td id="L2262" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2262"></td>
          <td id="LC2262" class="blob-code blob-code-inner js-file-line">                                                   <span class=pl-s1>oldname</span>, <span class=pl-s1>newname</span>)</td>
        </tr>
        <tr>
          <td id="L2263" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2263"></td>
          <td id="LC2263" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2264" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2264"></td>
          <td id="LC2264" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2265" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2265"></td>
          <td id="LC2265" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>handle_file</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>filenames</span>):</td>
        </tr>
        <tr>
          <td id="L2266" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2266"></td>
          <td id="LC2266" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>mode</span>, <span class=pl-s1>sha</span>, <span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-s1>modes</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>], <span class=pl-s1>shas</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>], <span class=pl-s1>filenames</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L2267" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2267"></td>
          <td id="LC2267" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2268" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2268"></td>
          <td id="LC2268" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Figure out kind of deletions to undo for this file, and update lists</span></td>
        </tr>
        <tr>
          <td id="L2269" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2269"></td>
          <td id="LC2269" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># of all-names-by-sha and all-filenames</span></td>
        </tr>
        <tr>
          <td id="L2270" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2270"></td>
          <td id="LC2270" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>delmode</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;tree_deletions&#39;</span></td>
        </tr>
        <tr>
          <td id="L2271" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2271"></td>
          <td id="LC2271" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>mode</span> <span class=pl-c1>!=</span> <span class=pl-s>b&#39;040000&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2272" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2272"></td>
          <td id="LC2272" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>delmode</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;file_deletions&#39;</span></td>
        </tr>
        <tr>
          <td id="L2273" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2273"></td>
          <td id="LC2273" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>stats</span>[<span class=pl-s>&#39;names&#39;</span>][<span class=pl-s1>sha</span>].<span class=pl-en>add</span>(<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L2274" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2274"></td>
          <td id="LC2274" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>stats</span>[<span class=pl-s>&#39;allnames&#39;</span>].<span class=pl-en>add</span>(<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L2275" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2275"></td>
          <td id="LC2275" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2276" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2276"></td>
          <td id="LC2276" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If the file (or equivalence class of files) was recorded as deleted,</span></td>
        </tr>
        <tr>
          <td id="L2277" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2277"></td>
          <td id="LC2277" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># clearly it isn&#39;t anymore</span></td>
        </tr>
        <tr>
          <td id="L2278" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2278"></td>
          <td id="LC2278" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>equiv</span> <span class=pl-c1>=</span> <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>equiv_class</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L2279" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2279"></td>
          <td id="LC2279" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>f</span> <span class=pl-c1>in</span> <span class=pl-s1>equiv</span>:</td>
        </tr>
        <tr>
          <td id="L2280" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2280"></td>
          <td id="LC2280" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>stats</span>[<span class=pl-s1>delmode</span>].<span class=pl-en>pop</span>(<span class=pl-s1>f</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L2281" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2281"></td>
          <td id="LC2281" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2282" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2282"></td>
          <td id="LC2282" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If we get a modify/add for a path that was renamed, we may need to break</span></td>
        </tr>
        <tr>
          <td id="L2283" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2283"></td>
          <td id="LC2283" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># the equivalence class.  However, if the modify/add was on a branch that</span></td>
        </tr>
        <tr>
          <td id="L2284" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2284"></td>
          <td id="LC2284" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># doesn&#39;t have the rename in its history, we are still okay.</span></td>
        </tr>
        <tr>
          <td id="L2285" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2285"></td>
          <td id="LC2285" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>need_to_break_equivalence</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2286" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2286"></td>
          <td id="LC2286" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>equiv</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>] <span class=pl-c1>!=</span> <span class=pl-s1>filename</span>:</td>
        </tr>
        <tr>
          <td id="L2287" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2287"></td>
          <td id="LC2287" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>rename_commit</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;rename_history&#39;</span>][<span class=pl-s1>filename</span>]:</td>
        </tr>
        <tr>
          <td id="L2288" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2288"></td>
          <td id="LC2288" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>graph</span>.<span class=pl-en>is_ancestor</span>(<span class=pl-s1>rename_commit</span>, <span class=pl-s1>commit</span>):</td>
        </tr>
        <tr>
          <td id="L2289" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2289"></td>
          <td id="LC2289" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>need_to_break_equivalence</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L2290" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2290"></td>
          <td id="LC2290" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2291" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2291"></td>
          <td id="LC2291" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>need_to_break_equivalence</span>:</td>
        </tr>
        <tr>
          <td id="L2292" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2292"></td>
          <td id="LC2292" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>f</span> <span class=pl-c1>in</span> <span class=pl-s1>equiv</span>:</td>
        </tr>
        <tr>
          <td id="L2293" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2293"></td>
          <td id="LC2293" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>f</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L2294" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2294"></td>
          <td id="LC2294" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>del</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>][<span class=pl-s1>f</span>]</td>
        </tr>
        <tr>
          <td id="L2295" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2295"></td>
          <td id="LC2295" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2296" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2296"></td>
          <td id="LC2296" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2297" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2297"></td>
          <td id="LC2297" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>analyze_commit</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>parents</span>, <span class=pl-s1>date</span>, <span class=pl-s1>file_changes</span>):</td>
        </tr>
        <tr>
          <td id="L2298" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2298"></td>
          <td id="LC2298" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>graph</span>.<span class=pl-en>add_commit_and_parents</span>(<span class=pl-s1>commit</span>, <span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L2299" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2299"></td>
          <td id="LC2299" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>change</span> <span class=pl-c1>in</span> <span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L2300" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2300"></td>
          <td id="LC2300" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>change_types</span>, <span class=pl-s1>filenames</span> <span class=pl-c1>=</span> <span class=pl-s1>change</span></td>
        </tr>
        <tr>
          <td id="L2301" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2301"></td>
          <td id="LC2301" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>==</span> <span class=pl-c1>1</span> <span class=pl-c1>and</span> <span class=pl-s1>change_types</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;R&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2302" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2302"></td>
          <td id="LC2302" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>change_types</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;R&#39;</span>  <span class=pl-c># remove the rename score; we don&#39;t care</span></td>
        </tr>
        <tr>
          <td id="L2303" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2303"></td>
          <td id="LC2303" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>modes</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;160000&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2304" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2304"></td>
          <td id="LC2304" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2305" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2305"></td>
          <td id="LC2305" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>modes</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;000000&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2306" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2306"></td>
          <td id="LC2306" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Track when files/directories are deleted</span></td>
        </tr>
        <tr>
          <td id="L2307" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2307"></td>
          <td id="LC2307" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>f</span> <span class=pl-c1>in</span> <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>equiv_class</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>filenames</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>]):</td>
        </tr>
        <tr>
          <td id="L2308" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2308"></td>
          <td id="LC2308" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-en>any</span>(<span class=pl-s1>x</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;040000&#39;</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>modes</span>[<span class=pl-c1>0</span>:<span class=pl-c1>-</span><span class=pl-c1>1</span>]):</td>
        </tr>
        <tr>
          <td id="L2309" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2309"></td>
          <td id="LC2309" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>stats</span>[<span class=pl-s>&#39;tree_deletions&#39;</span>][<span class=pl-s1>f</span>] <span class=pl-c1>=</span> <span class=pl-s1>date</span></td>
        </tr>
        <tr>
          <td id="L2310" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2310"></td>
          <td id="LC2310" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2311" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2311"></td>
          <td id="LC2311" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>stats</span>[<span class=pl-s>&#39;file_deletions&#39;</span>][<span class=pl-s1>f</span>] <span class=pl-c1>=</span> <span class=pl-s1>date</span></td>
        </tr>
        <tr>
          <td id="L2312" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2312"></td>
          <td id="LC2312" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>change_types</span>.<span class=pl-en>strip</span>(<span class=pl-s>b&#39;AMT&#39;</span>) <span class=pl-c1>==</span> <span class=pl-s>b&#39;&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2313" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2313"></td>
          <td id="LC2313" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>handle_file</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>filenames</span>)</td>
        </tr>
        <tr>
          <td id="L2314" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2314"></td>
          <td id="LC2314" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>modes</span>[<span class=pl-c1>-</span><span class=pl-c1>1</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;040000&#39;</span> <span class=pl-c1>and</span> <span class=pl-s1>change_types</span>.<span class=pl-en>strip</span>(<span class=pl-s>b&#39;RAM&#39;</span>) <span class=pl-c1>==</span> <span class=pl-s>b&#39;&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2315" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2315"></td>
          <td id="LC2315" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>handle_file</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>filenames</span>)</td>
        </tr>
        <tr>
          <td id="L2316" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2316"></td>
          <td id="LC2316" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>change_types</span>.<span class=pl-en>strip</span>(<span class=pl-s>b&#39;RAMT&#39;</span>) <span class=pl-c1>==</span> <span class=pl-s>b&#39;&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2317" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2317"></td>
          <td id="LC2317" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>handle_file</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>filenames</span>)</td>
        </tr>
        <tr>
          <td id="L2318" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2318"></td>
          <td id="LC2318" class="blob-code blob-code-inner js-file-line">        <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>handle_renames</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>change_types</span>, <span class=pl-s1>filenames</span>)</td>
        </tr>
        <tr>
          <td id="L2319" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2319"></td>
          <td id="LC2319" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2320" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2320"></td>
          <td id="LC2320" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Unhandled change type(s): %(change_type)s &quot;</span></td>
        </tr>
        <tr>
          <td id="L2321" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2321"></td>
          <td id="LC2321" class="blob-code blob-code-inner js-file-line">                           <span class=pl-s>&quot;(in commit %(commit)s)&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2322" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2322"></td>
          <td id="LC2322" class="blob-code blob-code-inner js-file-line">                         <span class=pl-c1>%</span> ({<span class=pl-s>&#39;change_type&#39;</span>: <span class=pl-s1>change_types</span>, <span class=pl-s>&#39;commit&#39;</span>: <span class=pl-s1>commit</span>})</td>
        </tr>
        <tr>
          <td id="L2323" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2323"></td>
          <td id="LC2323" class="blob-code blob-code-inner js-file-line">                         ) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L2324" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2324"></td>
          <td id="LC2324" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2325" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2325"></td>
          <td id="LC2325" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2326" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2326"></td>
          <td id="LC2326" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>gather_data</span>(<span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L2327" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2327"></td>
          <td id="LC2327" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>unpacked_size</span>, <span class=pl-s1>packed_size</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>get_blob_sizes</span>()</td>
        </tr>
        <tr>
          <td id="L2328" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2328"></td>
          <td id="LC2328" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>stats</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;names&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>set</span>),</td>
        </tr>
        <tr>
          <td id="L2329" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2329"></td>
          <td id="LC2329" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;allnames&#39;</span> : <span class=pl-en>set</span>(),</td>
        </tr>
        <tr>
          <td id="L2330" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2330"></td>
          <td id="LC2330" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;file_deletions&#39;</span>: {},</td>
        </tr>
        <tr>
          <td id="L2331" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2331"></td>
          <td id="LC2331" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;tree_deletions&#39;</span>: {},</td>
        </tr>
        <tr>
          <td id="L2332" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2332"></td>
          <td id="LC2332" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;equivalence&#39;</span>: {},</td>
        </tr>
        <tr>
          <td id="L2333" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2333"></td>
          <td id="LC2333" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;rename_history&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>set</span>),</td>
        </tr>
        <tr>
          <td id="L2334" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2334"></td>
          <td id="LC2334" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;unpacked_size&#39;</span>: <span class=pl-s1>unpacked_size</span>,</td>
        </tr>
        <tr>
          <td id="L2335" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2335"></td>
          <td id="LC2335" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;packed_size&#39;</span>: <span class=pl-s1>packed_size</span>,</td>
        </tr>
        <tr>
          <td id="L2336" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2336"></td>
          <td id="LC2336" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;num_commits&#39;</span>: <span class=pl-c1>0</span>}</td>
        </tr>
        <tr>
          <td id="L2337" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2337"></td>
          <td id="LC2337" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2338" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2338"></td>
          <td id="LC2338" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Setup the rev-list/diff-tree process</span></td>
        </tr>
        <tr>
          <td id="L2339" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2339"></td>
          <td id="LC2339" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>processed_commits_msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Processed %d commits&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2340" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2340"></td>
          <td id="LC2340" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit_parse_progress</span> <span class=pl-c1>=</span> <span class=pl-v>ProgressWriter</span>()</td>
        </tr>
        <tr>
          <td id="L2341" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2341"></td>
          <td id="LC2341" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>num_commits</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L2342" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2342"></td>
          <td id="LC2342" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> (<span class=pl-s>&#39;git rev-list --topo-order --reverse {}&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s>&#39; &#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>args</span>.<span class=pl-s1>refs</span>)) <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L2343" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2343"></td>
          <td id="LC2343" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&#39; | git diff-tree --stdin --always --root --format=%H%n%P%n%cd&#39;</span> <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L2344" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2344"></td>
          <td id="LC2344" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&#39; --date=short -M -t -c --raw --combined-all-paths&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2345" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2345"></td>
          <td id="LC2345" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>dtp</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>shell</span><span class=pl-c1>=</span><span class=pl-c1>True</span>, <span class=pl-s1>bufsize</span><span class=pl-c1>=</span><span class=pl-c1>-</span><span class=pl-c1>1</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>)</td>
        </tr>
        <tr>
          <td id="L2346" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2346"></td>
          <td id="LC2346" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>f</span> <span class=pl-c1>=</span> <span class=pl-s1>dtp</span>.<span class=pl-s1>stdout</span></td>
        </tr>
        <tr>
          <td id="L2347" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2347"></td>
          <td id="LC2347" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>readline</span>()</td>
        </tr>
        <tr>
          <td id="L2348" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2348"></td>
          <td id="LC2348" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2349" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2349"></td>
          <td id="LC2349" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Nothing to analyze; repository is empty.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2350" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2350"></td>
          <td id="LC2350" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cont</span> <span class=pl-c1>=</span> <span class=pl-en>bool</span>(<span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L2351" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2351"></td>
          <td id="LC2351" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>graph</span> <span class=pl-c1>=</span> <span class=pl-v>AncestryGraph</span>()</td>
        </tr>
        <tr>
          <td id="L2352" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2352"></td>
          <td id="LC2352" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>cont</span>:</td>
        </tr>
        <tr>
          <td id="L2353" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2353"></td>
          <td id="LC2353" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L2354" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2354"></td>
          <td id="LC2354" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parents</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>readline</span>().<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L2355" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2355"></td>
          <td id="LC2355" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>date</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>readline</span>().<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L2356" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2356"></td>
          <td id="LC2356" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2357" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2357"></td>
          <td id="LC2357" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># We expect a blank line next; if we get a non-blank line then</span></td>
        </tr>
        <tr>
          <td id="L2358" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2358"></td>
          <td id="LC2358" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># this commit modified no files and we need to move on to the next.</span></td>
        </tr>
        <tr>
          <td id="L2359" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2359"></td>
          <td id="LC2359" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If there is no line, we&#39;ve reached end-of-input.</span></td>
        </tr>
        <tr>
          <td id="L2360" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2360"></td>
          <td id="LC2360" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>readline</span>()</td>
        </tr>
        <tr>
          <td id="L2361" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2361"></td>
          <td id="LC2361" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2362" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2362"></td>
          <td id="LC2362" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>cont</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2363" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2363"></td>
          <td id="LC2363" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>.<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L2364" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2364"></td>
          <td id="LC2364" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2365" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2365"></td>
          <td id="LC2365" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If we haven&#39;t reached end of input, and we got a blank line meaning</span></td>
        </tr>
        <tr>
          <td id="L2366" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2366"></td>
          <td id="LC2366" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># a commit that has modified files, then get the file changes associated</span></td>
        </tr>
        <tr>
          <td id="L2367" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2367"></td>
          <td id="LC2367" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># with this commit.</span></td>
        </tr>
        <tr>
          <td id="L2368" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2368"></td>
          <td id="LC2368" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2369" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2369"></td>
          <td id="LC2369" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>cont</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>:</td>
        </tr>
        <tr>
          <td id="L2370" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2370"></td>
          <td id="LC2370" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>cont</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2371" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2371"></td>
          <td id="LC2371" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>line</span> <span class=pl-c1>in</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2372" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2372"></td>
          <td id="LC2372" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;:&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2373" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2373"></td>
          <td id="LC2373" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>cont</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L2374" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2374"></td>
          <td id="LC2374" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>break</span></td>
        </tr>
        <tr>
          <td id="L2375" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2375"></td>
          <td id="LC2375" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>n</span> <span class=pl-c1>=</span> <span class=pl-c1>1</span><span class=pl-c1>+</span><span class=pl-en>max</span>(<span class=pl-c1>1</span>, <span class=pl-en>len</span>(<span class=pl-s1>parents</span>))</td>
        </tr>
        <tr>
          <td id="L2376" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2376"></td>
          <td id="LC2376" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>assert</span> <span class=pl-s1>line</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;:&#39;</span><span class=pl-c1>*</span>(<span class=pl-s1>n</span><span class=pl-c1>-</span><span class=pl-c1>1</span>))</td>
        </tr>
        <tr>
          <td id="L2377" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2377"></td>
          <td id="LC2377" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>relevant</span> <span class=pl-c1>=</span> <span class=pl-s1>line</span>[<span class=pl-s1>n</span><span class=pl-c1>-</span><span class=pl-c1>1</span>:<span class=pl-c1>-</span><span class=pl-c1>1</span>]</td>
        </tr>
        <tr>
          <td id="L2378" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2378"></td>
          <td id="LC2378" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>splits</span> <span class=pl-c1>=</span> <span class=pl-s1>relevant</span>.<span class=pl-en>split</span>(<span class=pl-c1>None</span>, <span class=pl-s1>n</span>)</td>
        </tr>
        <tr>
          <td id="L2379" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2379"></td>
          <td id="LC2379" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>modes</span> <span class=pl-c1>=</span> <span class=pl-s1>splits</span>[<span class=pl-c1>0</span>:<span class=pl-s1>n</span>]</td>
        </tr>
        <tr>
          <td id="L2380" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2380"></td>
          <td id="LC2380" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>splits</span> <span class=pl-c1>=</span> <span class=pl-s1>splits</span>[<span class=pl-s1>n</span>].<span class=pl-en>split</span>(<span class=pl-c1>None</span>, <span class=pl-s1>n</span>)</td>
        </tr>
        <tr>
          <td id="L2381" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2381"></td>
          <td id="LC2381" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>shas</span> <span class=pl-c1>=</span> <span class=pl-s1>splits</span>[<span class=pl-c1>0</span>:<span class=pl-s1>n</span>]</td>
        </tr>
        <tr>
          <td id="L2382" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2382"></td>
          <td id="LC2382" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>splits</span> <span class=pl-c1>=</span> <span class=pl-s1>splits</span>[<span class=pl-s1>n</span>].<span class=pl-en>split</span>(<span class=pl-s>b&#39;<span class=pl-cce>\t</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2383" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2383"></td>
          <td id="LC2383" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>change_types</span> <span class=pl-c1>=</span> <span class=pl-s1>splits</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L2384" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2384"></td>
          <td id="LC2384" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>filenames</span> <span class=pl-c1>=</span> [<span class=pl-v>PathQuoting</span>.<span class=pl-en>dequote</span>(<span class=pl-s1>x</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>splits</span>[<span class=pl-c1>1</span>:]]</td>
        </tr>
        <tr>
          <td id="L2385" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2385"></td>
          <td id="LC2385" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>file_changes</span>.<span class=pl-en>append</span>([<span class=pl-s1>modes</span>, <span class=pl-s1>shas</span>, <span class=pl-s1>change_types</span>, <span class=pl-s1>filenames</span>])</td>
        </tr>
        <tr>
          <td id="L2386" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2386"></td>
          <td id="LC2386" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2387" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2387"></td>
          <td id="LC2387" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># If someone is trying to analyze a subset of the history, make sure</span></td>
        </tr>
        <tr>
          <td id="L2388" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2388"></td>
          <td id="LC2388" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># to avoid dying on commits with parents that we haven&#39;t seen before</span></td>
        </tr>
        <tr>
          <td id="L2389" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2389"></td>
          <td id="LC2389" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>refs</span>:</td>
        </tr>
        <tr>
          <td id="L2390" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2390"></td>
          <td id="LC2390" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>graph</span>.<span class=pl-en>record_external_commits</span>([<span class=pl-s1>p</span> <span class=pl-k>for</span> <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L2391" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2391"></td>
          <td id="LC2391" class="blob-code blob-code-inner js-file-line">                                       <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>graph</span>.<span class=pl-s1>value</span>])</td>
        </tr>
        <tr>
          <td id="L2392" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2392"></td>
          <td id="LC2392" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2393" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2393"></td>
          <td id="LC2393" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Analyze this commit and update progress</span></td>
        </tr>
        <tr>
          <td id="L2394" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2394"></td>
          <td id="LC2394" class="blob-code blob-code-inner js-file-line">      <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>analyze_commit</span>(<span class=pl-s1>stats</span>, <span class=pl-s1>graph</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>parents</span>, <span class=pl-s1>date</span>,</td>
        </tr>
        <tr>
          <td id="L2395" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2395"></td>
          <td id="LC2395" class="blob-code blob-code-inner js-file-line">                                 <span class=pl-s1>file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L2396" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2396"></td>
          <td id="LC2396" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>num_commits</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L2397" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2397"></td>
          <td id="LC2397" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit_parse_progress</span>.<span class=pl-en>show</span>(<span class=pl-s1>processed_commits_msg</span> <span class=pl-c1>%</span> <span class=pl-s1>num_commits</span>)</td>
        </tr>
        <tr>
          <td id="L2398" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2398"></td>
          <td id="LC2398" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2399" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2399"></td>
          <td id="LC2399" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Show the final commits processed message and record the number of commits</span></td>
        </tr>
        <tr>
          <td id="L2400" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2400"></td>
          <td id="LC2400" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit_parse_progress</span>.<span class=pl-en>finish</span>()</td>
        </tr>
        <tr>
          <td id="L2401" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2401"></td>
          <td id="LC2401" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>stats</span>[<span class=pl-s>&#39;num_commits&#39;</span>] <span class=pl-c1>=</span> <span class=pl-s1>num_commits</span></td>
        </tr>
        <tr>
          <td id="L2402" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2402"></td>
          <td id="LC2402" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2403" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2403"></td>
          <td id="LC2403" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Close the output, ensure rev-list|diff-tree pipeline completed successfully</span></td>
        </tr>
        <tr>
          <td id="L2404" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2404"></td>
          <td id="LC2404" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>dtp</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L2405" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2405"></td>
          <td id="LC2405" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>dtp</span>.<span class=pl-en>wait</span>():</td>
        </tr>
        <tr>
          <td id="L2406" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2406"></td>
          <td id="LC2406" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: rev-list|diff-tree pipeline failed; see above.&quot;</span>)) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L2407" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2407"></td>
          <td id="LC2407" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2408" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2408"></td>
          <td id="LC2408" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>stats</span></td>
        </tr>
        <tr>
          <td id="L2409" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2409"></td>
          <td id="LC2409" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2410" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2410"></td>
          <td id="LC2410" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2411" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2411"></td>
          <td id="LC2411" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>write_report</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s1>stats</span>):</td>
        </tr>
        <tr>
          <td id="L2412" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2412"></td>
          <td id="LC2412" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>datestr</span>(<span class=pl-s1>datetimestr</span>):</td>
        </tr>
        <tr>
          <td id="L2413" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2413"></td>
          <td id="LC2413" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>datetimestr</span> <span class=pl-k>if</span> <span class=pl-s1>datetimestr</span> <span class=pl-k>else</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&lt;present&gt;&#39;</span>).<span class=pl-en>encode</span>()</td>
        </tr>
        <tr>
          <td id="L2414" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2414"></td>
          <td id="LC2414" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2415" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2415"></td>
          <td id="LC2415" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>dirnames</span>(<span class=pl-s1>path</span>):</td>
        </tr>
        <tr>
          <td id="L2416" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2416"></td>
          <td id="LC2416" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>while</span> <span class=pl-c1>True</span>:</td>
        </tr>
        <tr>
          <td id="L2417" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2417"></td>
          <td id="LC2417" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>path</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>dirname</span>(<span class=pl-s1>path</span>)</td>
        </tr>
        <tr>
          <td id="L2418" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2418"></td>
          <td id="LC2418" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>yield</span> <span class=pl-s1>path</span></td>
        </tr>
        <tr>
          <td id="L2419" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2419"></td>
          <td id="LC2419" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>path</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2420" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2420"></td>
          <td id="LC2420" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>break</span></td>
        </tr>
        <tr>
          <td id="L2421" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2421"></td>
          <td id="LC2421" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2422" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2422"></td>
          <td id="LC2422" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Compute aggregate size information for paths, extensions, and dirs</span></td>
        </tr>
        <tr>
          <td id="L2423" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2423"></td>
          <td id="LC2423" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>total_size</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;packed&#39;</span>: <span class=pl-c1>0</span>, <span class=pl-s>&#39;unpacked&#39;</span>: <span class=pl-c1>0</span>}</td>
        </tr>
        <tr>
          <td id="L2424" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2424"></td>
          <td id="LC2424" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>path_size</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;packed&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>),</td>
        </tr>
        <tr>
          <td id="L2425" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2425"></td>
          <td id="LC2425" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>&#39;unpacked&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>)}</td>
        </tr>
        <tr>
          <td id="L2426" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2426"></td>
          <td id="LC2426" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ext_size</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;packed&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>),</td>
        </tr>
        <tr>
          <td id="L2427" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2427"></td>
          <td id="LC2427" class="blob-code blob-code-inner js-file-line">                <span class=pl-s>&#39;unpacked&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>)}</td>
        </tr>
        <tr>
          <td id="L2428" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2428"></td>
          <td id="LC2428" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>dir_size</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;packed&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>),</td>
        </tr>
        <tr>
          <td id="L2429" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2429"></td>
          <td id="LC2429" class="blob-code blob-code-inner js-file-line">                <span class=pl-s>&#39;unpacked&#39;</span>: <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>int</span>)}</td>
        </tr>
        <tr>
          <td id="L2430" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2430"></td>
          <td id="LC2430" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>sha</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;names&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L2431" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2431"></td>
          <td id="LC2431" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>size</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;packed&#39;</span>: <span class=pl-s1>stats</span>[<span class=pl-s>&#39;packed_size&#39;</span>][<span class=pl-s1>sha</span>],</td>
        </tr>
        <tr>
          <td id="L2432" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2432"></td>
          <td id="LC2432" class="blob-code blob-code-inner js-file-line">              <span class=pl-s>&#39;unpacked&#39;</span>: <span class=pl-s1>stats</span>[<span class=pl-s>&#39;unpacked_size&#39;</span>][<span class=pl-s1>sha</span>]}</td>
        </tr>
        <tr>
          <td id="L2433" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2433"></td>
          <td id="LC2433" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>which</span> <span class=pl-c1>in</span> (<span class=pl-s>&#39;packed&#39;</span>, <span class=pl-s>&#39;unpacked&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2434" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2434"></td>
          <td id="LC2434" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>name</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;names&#39;</span>][<span class=pl-s1>sha</span>]:</td>
        </tr>
        <tr>
          <td id="L2435" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2435"></td>
          <td id="LC2435" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>total_size</span>[<span class=pl-s1>which</span>] <span class=pl-c1>+=</span> <span class=pl-s1>size</span>[<span class=pl-s1>which</span>]</td>
        </tr>
        <tr>
          <td id="L2436" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2436"></td>
          <td id="LC2436" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>path_size</span>[<span class=pl-s1>which</span>][<span class=pl-s1>name</span>] <span class=pl-c1>+=</span> <span class=pl-s1>size</span>[<span class=pl-s1>which</span>]</td>
        </tr>
        <tr>
          <td id="L2437" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2437"></td>
          <td id="LC2437" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>basename</span>, <span class=pl-s1>ext</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>splitext</span>(<span class=pl-s1>name</span>)</td>
        </tr>
        <tr>
          <td id="L2438" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2438"></td>
          <td id="LC2438" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>ext_size</span>[<span class=pl-s1>which</span>][<span class=pl-s1>ext</span>] <span class=pl-c1>+=</span> <span class=pl-s1>size</span>[<span class=pl-s1>which</span>]</td>
        </tr>
        <tr>
          <td id="L2439" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2439"></td>
          <td id="LC2439" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>for</span> <span class=pl-s1>dirname</span> <span class=pl-c1>in</span> <span class=pl-en>dirnames</span>(<span class=pl-s1>name</span>):</td>
        </tr>
        <tr>
          <td id="L2440" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2440"></td>
          <td id="LC2440" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>dir_size</span>[<span class=pl-s1>which</span>][<span class=pl-s1>dirname</span>] <span class=pl-c1>+=</span> <span class=pl-s1>size</span>[<span class=pl-s1>which</span>]</td>
        </tr>
        <tr>
          <td id="L2441" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2441"></td>
          <td id="LC2441" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2442" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2442"></td>
          <td id="LC2442" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Determine if and when extensions and directories were deleted</span></td>
        </tr>
        <tr>
          <td id="L2443" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2443"></td>
          <td id="LC2443" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>ext_deleted_data</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L2444" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2444"></td>
          <td id="LC2444" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>name</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;allnames&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L2445" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2445"></td>
          <td id="LC2445" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>when</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;file_deletions&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>name</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L2446" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2446"></td>
          <td id="LC2446" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2447" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2447"></td>
          <td id="LC2447" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Update the extension</span></td>
        </tr>
        <tr>
          <td id="L2448" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2448"></td>
          <td id="LC2448" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>basename</span>, <span class=pl-s1>ext</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>splitext</span>(<span class=pl-s1>name</span>)</td>
        </tr>
        <tr>
          <td id="L2449" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2449"></td>
          <td id="LC2449" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>when</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L2450" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2450"></td>
          <td id="LC2450" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>ext</span>] <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2451" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2451"></td>
          <td id="LC2451" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-s1>ext</span> <span class=pl-c1>in</span> <span class=pl-s1>ext_deleted_data</span>:</td>
        </tr>
        <tr>
          <td id="L2452" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2452"></td>
          <td id="LC2452" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>ext</span>] <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L2453" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2453"></td>
          <td id="LC2453" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>ext</span>] <span class=pl-c1>=</span> <span class=pl-en>max</span>(<span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>ext</span>], <span class=pl-s1>when</span>)</td>
        </tr>
        <tr>
          <td id="L2454" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2454"></td>
          <td id="LC2454" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2455" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2455"></td>
          <td id="LC2455" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>ext</span>] <span class=pl-c1>=</span> <span class=pl-s1>when</span></td>
        </tr>
        <tr>
          <td id="L2456" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2456"></td>
          <td id="LC2456" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2457" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2457"></td>
          <td id="LC2457" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>dir_deleted_data</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L2458" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2458"></td>
          <td id="LC2458" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>name</span> <span class=pl-c1>in</span> <span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;packed&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L2459" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2459"></td>
          <td id="LC2459" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>dir_deleted_data</span>[<span class=pl-s1>name</span>] <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;tree_deletions&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>name</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L2460" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2460"></td>
          <td id="LC2460" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2461" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2461"></td>
          <td id="LC2461" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;README&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2462" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2462"></td>
          <td id="LC2462" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Give a basic overview of this file</span></td>
        </tr>
        <tr>
          <td id="L2463" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2463"></td>
          <td id="LC2463" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;== %s ==<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Overall Statistics&quot;</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2464" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2464"></td>
          <td id="LC2464" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Number of commits&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2465" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2465"></td>
          <td id="LC2465" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s1>stats</span>[<span class=pl-s>&#39;num_commits&#39;</span>])).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2466" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2466"></td>
          <td id="LC2466" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Number of filenames&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2467" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2467"></td>
          <td id="LC2467" class="blob-code blob-code-inner js-file-line">                               <span class=pl-en>len</span>(<span class=pl-s1>path_size</span>[<span class=pl-s>&#39;packed&#39;</span>]))).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2468" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2468"></td>
          <td id="LC2468" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Number of directories&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2469" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2469"></td>
          <td id="LC2469" class="blob-code blob-code-inner js-file-line">                               <span class=pl-en>len</span>(<span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;packed&#39;</span>]))).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2470" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2470"></td>
          <td id="LC2470" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Number of file extensions&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2471" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2471"></td>
          <td id="LC2471" class="blob-code blob-code-inner js-file-line">                               <span class=pl-en>len</span>(<span class=pl-s1>ext_size</span>[<span class=pl-s>&#39;packed&#39;</span>]))).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2472" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2472"></td>
          <td id="LC2472" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2473" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2473"></td>
          <td id="LC2473" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Total unpacked size (bytes)&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2474" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2474"></td>
          <td id="LC2474" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s1>total_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>])).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2475" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2475"></td>
          <td id="LC2475" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;  %s: %d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;Total packed size (bytes)&quot;</span>),</td>
        </tr>
        <tr>
          <td id="L2476" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2476"></td>
          <td id="LC2476" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s1>total_size</span>[<span class=pl-s>&#39;packed&#39;</span>])).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2477" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2477"></td>
          <td id="LC2477" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2478" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2478"></td>
          <td id="LC2478" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2479" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2479"></td>
          <td id="LC2479" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Mention issues with the report</span></td>
        </tr>
        <tr>
          <td id="L2480" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2480"></td>
          <td id="LC2480" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;== %s ==<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Caveats&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2481" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2481"></td>
          <td id="LC2481" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Sizes&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2482" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2482"></td>
          <td id="LC2482" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L2483" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2483"></td>
          <td id="LC2483" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Packed size represents what size your repository would be if no</span></td>
        </tr>
        <tr>
          <td id="L2484" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2484"></td>
          <td id="LC2484" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        trees, commits, tags, or other metadata were included (though it may</span></td>
        </tr>
        <tr>
          <td id="L2485" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2485"></td>
          <td id="LC2485" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        fail to represent de-duplication; see below).  It also represents the</span></td>
        </tr>
        <tr>
          <td id="L2486" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2486"></td>
          <td id="LC2486" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        current packing, which may be suboptimal if you haven&#39;t gc&#39;ed for a</span></td>
        </tr>
        <tr>
          <td id="L2487" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2487"></td>
          <td id="LC2487" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        while.</span></td>
        </tr>
        <tr>
          <td id="L2488" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2488"></td>
          <td id="LC2488" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L2489" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2489"></td>
          <td id="LC2489" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Unpacked size represents what size your repository would be if no</span></td>
        </tr>
        <tr>
          <td id="L2490" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2490"></td>
          <td id="LC2490" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        trees, commits, tags, or other metadata were included AND if no</span></td>
        </tr>
        <tr>
          <td id="L2491" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2491"></td>
          <td id="LC2491" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        files were packed; i.e., without delta-ing or compression.</span></td>
        </tr>
        <tr>
          <td id="L2492" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2492"></td>
          <td id="LC2492" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L2493" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2493"></td>
          <td id="LC2493" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Both unpacked and packed sizes can be slightly misleading.  Deleting</span></td>
        </tr>
        <tr>
          <td id="L2494" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2494"></td>
          <td id="LC2494" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        a blob from history not save as much space as the unpacked size,</span></td>
        </tr>
        <tr>
          <td id="L2495" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2495"></td>
          <td id="LC2495" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        because it is obviously normally stored in packed form.  Also,</span></td>
        </tr>
        <tr>
          <td id="L2496" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2496"></td>
          <td id="LC2496" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        deleting a blob from history may not save as much space as its packed</span></td>
        </tr>
        <tr>
          <td id="L2497" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2497"></td>
          <td id="LC2497" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        size either, because another blob could be stored as a delta against</span></td>
        </tr>
        <tr>
          <td id="L2498" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2498"></td>
          <td id="LC2498" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        that blob, so when you remove one blob another blob&#39;s packed size may</span></td>
        </tr>
        <tr>
          <td id="L2499" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2499"></td>
          <td id="LC2499" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        grow.</span></td>
        </tr>
        <tr>
          <td id="L2500" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2500"></td>
          <td id="LC2500" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L2501" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2501"></td>
          <td id="LC2501" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Also, the sum of the packed sizes can add up to more than the</span></td>
        </tr>
        <tr>
          <td id="L2502" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2502"></td>
          <td id="LC2502" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        repository size; if the same contents appeared in the repository in</span></td>
        </tr>
        <tr>
          <td id="L2503" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2503"></td>
          <td id="LC2503" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        multiple places, git will automatically de-dupe and store only one</span></td>
        </tr>
        <tr>
          <td id="L2504" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2504"></td>
          <td id="LC2504" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        copy, while the way sizes are added in this analysis adds the size</span></td>
        </tr>
        <tr>
          <td id="L2505" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2505"></td>
          <td id="LC2505" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        for each file path that has those contents.  Further, if a file is</span></td>
        </tr>
        <tr>
          <td id="L2506" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2506"></td>
          <td id="LC2506" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        ever reverted to a previous version&#39;s contents, the previous</span></td>
        </tr>
        <tr>
          <td id="L2507" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2507"></td>
          <td id="LC2507" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        version&#39;s size will be counted multiple times in this analysis, even</span></td>
        </tr>
        <tr>
          <td id="L2508" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2508"></td>
          <td id="LC2508" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        though git will only store it once.</span></td>
        </tr>
        <tr>
          <td id="L2509" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2509"></td>
          <td id="LC2509" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        &quot;&quot;&quot;</span>)[<span class=pl-c1>1</span>:]).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2510" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2510"></td>
          <td id="LC2510" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2511" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2511"></td>
          <td id="LC2511" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Deletions&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2512" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2512"></td>
          <td id="LC2512" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L2513" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2513"></td>
          <td id="LC2513" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Whether a file is deleted is not a binary quality, since it can be</span></td>
        </tr>
        <tr>
          <td id="L2514" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2514"></td>
          <td id="LC2514" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        deleted on some branches but still exist in others.  Also, it might</span></td>
        </tr>
        <tr>
          <td id="L2515" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2515"></td>
          <td id="LC2515" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        exist in an old tag, but have been deleted in versions newer than</span></td>
        </tr>
        <tr>
          <td id="L2516" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2516"></td>
          <td id="LC2516" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        that.  More thorough tracking could be done, including looking at</span></td>
        </tr>
        <tr>
          <td id="L2517" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2517"></td>
          <td id="LC2517" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        merge commits where one side of history deleted and the other modified,</span></td>
        </tr>
        <tr>
          <td id="L2518" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2518"></td>
          <td id="LC2518" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        in order to give a more holistic picture of deletions.  However, that</span></td>
        </tr>
        <tr>
          <td id="L2519" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2519"></td>
          <td id="LC2519" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        algorithm would not only be more complex to implement, it&#39;d also be</span></td>
        </tr>
        <tr>
          <td id="L2520" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2520"></td>
          <td id="LC2520" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        quite difficult to present and interpret by users.  Since --analyze</span></td>
        </tr>
        <tr>
          <td id="L2521" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2521"></td>
          <td id="LC2521" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        is just about getting a high-level rough picture of history, it instead</span></td>
        </tr>
        <tr>
          <td id="L2522" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2522"></td>
          <td id="LC2522" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        implements the simplistic rule that is good enough for 98% of cases:</span></td>
        </tr>
        <tr>
          <td id="L2523" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2523"></td>
          <td id="LC2523" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          A file is marked as deleted if the last commit in the fast-export</span></td>
        </tr>
        <tr>
          <td id="L2524" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2524"></td>
          <td id="LC2524" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          stream that mentions the file lists it as deleted.</span></td>
        </tr>
        <tr>
          <td id="L2525" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2525"></td>
          <td id="LC2525" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        This makes it dependent on topological ordering, but generally gives</span></td>
        </tr>
        <tr>
          <td id="L2526" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2526"></td>
          <td id="LC2526" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        the &quot;right&quot; answer.</span></td>
        </tr>
        <tr>
          <td id="L2527" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2527"></td>
          <td id="LC2527" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        &quot;&quot;&quot;</span>)[<span class=pl-c1>1</span>:]).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2528" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2528"></td>
          <td id="LC2528" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2529" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2529"></td>
          <td id="LC2529" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Renames&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2530" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2530"></td>
          <td id="LC2530" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L2531" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2531"></td>
          <td id="LC2531" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        Renames share the same non-binary nature that deletions do, plus</span></td>
        </tr>
        <tr>
          <td id="L2532" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2532"></td>
          <td id="LC2532" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        additional challenges:</span></td>
        </tr>
        <tr>
          <td id="L2533" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2533"></td>
          <td id="LC2533" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          * If the renamed file is renamed again, instead of just two names for</span></td>
        </tr>
        <tr>
          <td id="L2534" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2534"></td>
          <td id="LC2534" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            a path you can have three or more.</span></td>
        </tr>
        <tr>
          <td id="L2535" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2535"></td>
          <td id="LC2535" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          * Rename pairs of the form (oldname, newname) that we consider to be</span></td>
        </tr>
        <tr>
          <td id="L2536" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2536"></td>
          <td id="LC2536" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            different names of the &quot;same file&quot; might only be valid over certain</span></td>
        </tr>
        <tr>
          <td id="L2537" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2537"></td>
          <td id="LC2537" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            commit ranges.  For example, if a new commit reintroduces a file</span></td>
        </tr>
        <tr>
          <td id="L2538" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2538"></td>
          <td id="LC2538" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            named oldname, then new versions of oldname aren&#39;t the &quot;same file&quot;</span></td>
        </tr>
        <tr>
          <td id="L2539" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2539"></td>
          <td id="LC2539" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            anymore.  We could try to portray this to the user, but it&#39;s easier</span></td>
        </tr>
        <tr>
          <td id="L2540" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2540"></td>
          <td id="LC2540" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            for the user to just break the pairing and only report unbroken</span></td>
        </tr>
        <tr>
          <td id="L2541" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2541"></td>
          <td id="LC2541" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            rename pairings to the user.</span></td>
        </tr>
        <tr>
          <td id="L2542" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2542"></td>
          <td id="LC2542" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          * The ability for users to rename files differently in different</span></td>
        </tr>
        <tr>
          <td id="L2543" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2543"></td>
          <td id="LC2543" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            branches means that our chains of renames will not necessarily be</span></td>
        </tr>
        <tr>
          <td id="L2544" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2544"></td>
          <td id="LC2544" class="blob-code blob-code-inner js-file-line"><span class=pl-s>            linear but may branch out.</span></td>
        </tr>
        <tr>
          <td id="L2545" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2545"></td>
          <td id="LC2545" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        &quot;&quot;&quot;</span>)[<span class=pl-c1>1</span>:]).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2546" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2546"></td>
          <td id="LC2546" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2547" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2547"></td>
          <td id="LC2547" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2548" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2548"></td>
          <td id="LC2548" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Equivalence classes for names, so if folks only want to keep a</span></td>
        </tr>
        <tr>
          <td id="L2549" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2549"></td>
          <td id="LC2549" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># certain set of paths, they know the old names they want to include</span></td>
        </tr>
        <tr>
          <td id="L2550" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2550"></td>
          <td id="LC2550" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># too.</span></td>
        </tr>
        <tr>
          <td id="L2551" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2551"></td>
          <td id="LC2551" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;renames.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2552" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2552"></td>
          <td id="LC2552" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>seen</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L2553" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2553"></td>
          <td id="LC2553" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>pathname</span>,<span class=pl-s1>equiv_group</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>stats</span>[<span class=pl-s>&#39;equivalence&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2554" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2554"></td>
          <td id="LC2554" class="blob-code blob-code-inner js-file-line">                                         <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>], <span class=pl-s1>x</span>[<span class=pl-c1>0</span>])):</td>
        </tr>
        <tr>
          <td id="L2555" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2555"></td>
          <td id="LC2555" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>equiv_group</span> <span class=pl-c1>in</span> <span class=pl-s1>seen</span>:</td>
        </tr>
        <tr>
          <td id="L2556" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2556"></td>
          <td id="LC2556" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2557" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2557"></td>
          <td id="LC2557" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>seen</span>.<span class=pl-en>add</span>(<span class=pl-s1>equiv_group</span>)</td>
        </tr>
        <tr>
          <td id="L2558" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2558"></td>
          <td id="LC2558" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;{} -&gt;<span class=pl-cce>\n</span>    &quot;</span>.<span class=pl-en>format</span>(<span class=pl-en>decode</span>(<span class=pl-s1>equiv_group</span>[<span class=pl-c1>0</span>])) <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L2559" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2559"></td>
          <td id="LC2559" class="blob-code blob-code-inner js-file-line">                     <span class=pl-s>&quot;<span class=pl-cce>\n</span>    &quot;</span>.<span class=pl-en>join</span>(<span class=pl-en>decode</span>(<span class=pl-s1>x</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>equiv_group</span>[<span class=pl-c1>1</span>:]) <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L2560" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2560"></td>
          <td id="LC2560" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>&quot;<span class=pl-cce>\n</span>&quot;</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2561" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2561"></td>
          <td id="LC2561" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2562" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2562"></td>
          <td id="LC2562" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># List directories in reverse sorted order of unpacked size</span></td>
        </tr>
        <tr>
          <td id="L2563" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2563"></td>
          <td id="LC2563" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;directories-deleted-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2564" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2564"></td>
          <td id="LC2564" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Deleted directories by reverse size&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2565" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2565"></td>
          <td id="LC2565" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2566" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2566"></td>
          <td id="LC2566" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, directory name<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2567" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2567"></td>
          <td id="LC2567" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2568" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2568"></td>
          <td id="LC2568" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>dirname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2569" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2569"></td>
          <td id="LC2569" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2570" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2570"></td>
          <td id="LC2570" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> (<span class=pl-s1>dir_deleted_data</span>[<span class=pl-s1>dirname</span>]):</td>
        </tr>
        <tr>
          <td id="L2571" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2571"></td>
          <td id="LC2571" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>dirname</span>],</td>
        </tr>
        <tr>
          <td id="L2572" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2572"></td>
          <td id="LC2572" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2573" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2573"></td>
          <td id="LC2573" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-en>datestr</span>(<span class=pl-s1>dir_deleted_data</span>[<span class=pl-s1>dirname</span>]),</td>
        </tr>
        <tr>
          <td id="L2574" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2574"></td>
          <td id="LC2574" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>dirname</span> <span class=pl-c1>or</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&lt;toplevel&gt;&#39;</span>).<span class=pl-en>encode</span>()))</td>
        </tr>
        <tr>
          <td id="L2575" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2575"></td>
          <td id="LC2575" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2576" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2576"></td>
          <td id="LC2576" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;directories-all-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2577" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2577"></td>
          <td id="LC2577" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;All directories by reverse size&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2578" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2578"></td>
          <td id="LC2578" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, directory name<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2579" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2579"></td>
          <td id="LC2579" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2580" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2580"></td>
          <td id="LC2580" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>dirname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2581" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2581"></td>
          <td id="LC2581" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2582" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2582"></td>
          <td id="LC2582" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>dir_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>dirname</span>],</td>
        </tr>
        <tr>
          <td id="L2583" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2583"></td>
          <td id="LC2583" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2584" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2584"></td>
          <td id="LC2584" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-en>datestr</span>(<span class=pl-s1>dir_deleted_data</span>[<span class=pl-s1>dirname</span>]),</td>
        </tr>
        <tr>
          <td id="L2585" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2585"></td>
          <td id="LC2585" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>dirname</span> <span class=pl-c1>or</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;&lt;toplevel&gt;&quot;</span>).<span class=pl-en>encode</span>()))</td>
        </tr>
        <tr>
          <td id="L2586" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2586"></td>
          <td id="LC2586" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2587" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2587"></td>
          <td id="LC2587" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># List extensions in reverse sorted order of unpacked size</span></td>
        </tr>
        <tr>
          <td id="L2588" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2588"></td>
          <td id="LC2588" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;extensions-deleted-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2589" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2589"></td>
          <td id="LC2589" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Deleted extensions by reverse size&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2590" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2590"></td>
          <td id="LC2590" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2591" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2591"></td>
          <td id="LC2591" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, extension name<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2592" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2592"></td>
          <td id="LC2592" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2593" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2593"></td>
          <td id="LC2593" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>extname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>ext_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2594" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2594"></td>
          <td id="LC2594" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2595" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2595"></td>
          <td id="LC2595" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> (<span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>extname</span>]):</td>
        </tr>
        <tr>
          <td id="L2596" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2596"></td>
          <td id="LC2596" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>ext_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>extname</span>],</td>
        </tr>
        <tr>
          <td id="L2597" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2597"></td>
          <td id="LC2597" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2598" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2598"></td>
          <td id="LC2598" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-en>datestr</span>(<span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>extname</span>]),</td>
        </tr>
        <tr>
          <td id="L2599" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2599"></td>
          <td id="LC2599" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>extname</span> <span class=pl-c1>or</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&lt;no extension&gt;&#39;</span>).<span class=pl-en>encode</span>()))</td>
        </tr>
        <tr>
          <td id="L2600" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2600"></td>
          <td id="LC2600" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2601" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2601"></td>
          <td id="LC2601" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;extensions-all-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2602" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2602"></td>
          <td id="LC2602" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;All extensions by reverse size&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2603" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2603"></td>
          <td id="LC2603" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, extension name<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2604" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2604"></td>
          <td id="LC2604" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2605" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2605"></td>
          <td id="LC2605" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>extname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>ext_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2606" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2606"></td>
          <td id="LC2606" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2607" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2607"></td>
          <td id="LC2607" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>ext_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>extname</span>],</td>
        </tr>
        <tr>
          <td id="L2608" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2608"></td>
          <td id="LC2608" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2609" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2609"></td>
          <td id="LC2609" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-en>datestr</span>(<span class=pl-s1>ext_deleted_data</span>[<span class=pl-s1>extname</span>]),</td>
        </tr>
        <tr>
          <td id="L2610" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2610"></td>
          <td id="LC2610" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>extname</span> <span class=pl-c1>or</span> <span class=pl-en>_</span>(<span class=pl-s>&#39;&lt;no extension&gt;&#39;</span>).<span class=pl-en>encode</span>()))</td>
        </tr>
        <tr>
          <td id="L2611" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2611"></td>
          <td id="LC2611" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2612" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2612"></td>
          <td id="LC2612" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># List files in reverse sorted order of unpacked size</span></td>
        </tr>
        <tr>
          <td id="L2613" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2613"></td>
          <td id="LC2613" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;path-deleted-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2614" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2614"></td>
          <td id="LC2614" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Deleted paths by reverse accumulated size&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2615" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2615"></td>
          <td id="LC2615" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2616" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2616"></td>
          <td id="LC2616" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, path name(s)<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2617" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2617"></td>
          <td id="LC2617" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2618" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2618"></td>
          <td id="LC2618" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>pathname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>path_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2619" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2619"></td>
          <td id="LC2619" class="blob-code blob-code-inner js-file-line">                                   <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2620" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2620"></td>
          <td id="LC2620" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>when</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;file_deletions&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>pathname</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L2621" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2621"></td>
          <td id="LC2621" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>when</span>:</td>
        </tr>
        <tr>
          <td id="L2622" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2622"></td>
          <td id="LC2622" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>path_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>pathname</span>],</td>
        </tr>
        <tr>
          <td id="L2623" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2623"></td>
          <td id="LC2623" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2624" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2624"></td>
          <td id="LC2624" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-en>datestr</span>(<span class=pl-s1>when</span>),</td>
        </tr>
        <tr>
          <td id="L2625" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2625"></td>
          <td id="LC2625" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>pathname</span>))</td>
        </tr>
        <tr>
          <td id="L2626" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2626"></td>
          <td id="LC2626" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2627" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2627"></td>
          <td id="LC2627" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;path-all-sizes.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2628" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2628"></td>
          <td id="LC2628" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;All paths by reverse accumulated size&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2629" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2629"></td>
          <td id="LC2629" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2630" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2630"></td>
          <td id="LC2630" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Format: unpacked size, packed size, date deleted, path name<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2631" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2631"></td>
          <td id="LC2631" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>.<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2632" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2632"></td>
          <td id="LC2632" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>pathname</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>path_size</span>[<span class=pl-s>&#39;packed&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2633" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2633"></td>
          <td id="LC2633" class="blob-code blob-code-inner js-file-line">                                   <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2634" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2634"></td>
          <td id="LC2634" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>when</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;file_deletions&#39;</span>].<span class=pl-en>get</span>(<span class=pl-s1>pathname</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L2635" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2635"></td>
          <td id="LC2635" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %10d %10d %-10s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>path_size</span>[<span class=pl-s>&#39;unpacked&#39;</span>][<span class=pl-s1>pathname</span>],</td>
        </tr>
        <tr>
          <td id="L2636" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2636"></td>
          <td id="LC2636" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2637" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2637"></td>
          <td id="LC2637" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-en>datestr</span>(<span class=pl-s1>when</span>),</td>
        </tr>
        <tr>
          <td id="L2638" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2638"></td>
          <td id="LC2638" class="blob-code blob-code-inner js-file-line">                                            <span class=pl-s1>pathname</span>))</td>
        </tr>
        <tr>
          <td id="L2639" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2639"></td>
          <td id="LC2639" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2640" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2640"></td>
          <td id="LC2640" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># List of filenames and sizes in descending order</span></td>
        </tr>
        <tr>
          <td id="L2641" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2641"></td>
          <td id="LC2641" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s>b&quot;blob-shas-and-paths.txt&quot;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2642" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2642"></td>
          <td id="LC2642" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;=== %s ===<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Files by sha and associated pathnames in reverse size&quot;</span>)).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2643" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2643"></td>
          <td id="LC2643" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Format: sha, unpacked size, packed size, filename(s) object stored as<span class=pl-cce>\n</span>&quot;</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L2644" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2644"></td>
          <td id="LC2644" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>sha</span>, <span class=pl-s1>size</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>stats</span>[<span class=pl-s>&#39;packed_size&#39;</span>].<span class=pl-en>items</span>(),</td>
        </tr>
        <tr>
          <td id="L2645" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2645"></td>
          <td id="LC2645" class="blob-code blob-code-inner js-file-line">                              <span class=pl-s1>key</span><span class=pl-c1>=</span><span class=pl-k>lambda</span> <span class=pl-s1>x</span>:(<span class=pl-s1>x</span>[<span class=pl-c1>1</span>],<span class=pl-s1>x</span>[<span class=pl-c1>0</span>]), <span class=pl-s1>reverse</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L2646" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2646"></td>
          <td id="LC2646" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>sha</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;names&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L2647" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2647"></td>
          <td id="LC2647" class="blob-code blob-code-inner js-file-line">          <span class=pl-c># Some objects in the repository might not be referenced, or not</span></td>
        </tr>
        <tr>
          <td id="L2648" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2648"></td>
          <td id="LC2648" class="blob-code blob-code-inner js-file-line">          <span class=pl-c># referenced by the branches/tags the user cares about; skip them.</span></td>
        </tr>
        <tr>
          <td id="L2649" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2649"></td>
          <td id="LC2649" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2650" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2650"></td>
          <td id="LC2650" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>names_with_sha</span> <span class=pl-c1>=</span> <span class=pl-s1>stats</span>[<span class=pl-s>&#39;names&#39;</span>][<span class=pl-s1>sha</span>]</td>
        </tr>
        <tr>
          <td id="L2651" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2651"></td>
          <td id="LC2651" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>names_with_sha</span>) <span class=pl-c1>==</span> <span class=pl-c1>1</span>:</td>
        </tr>
        <tr>
          <td id="L2652" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2652"></td>
          <td id="LC2652" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>names_with_sha</span> <span class=pl-c1>=</span> <span class=pl-s1>names_with_sha</span>.<span class=pl-en>pop</span>()</td>
        </tr>
        <tr>
          <td id="L2653" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2653"></td>
          <td id="LC2653" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2654" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2654"></td>
          <td id="LC2654" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>names_with_sha</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;[&#39;</span> <span class=pl-c1>+</span> <span class=pl-s>b&#39;, &#39;</span>.<span class=pl-en>join</span>(<span class=pl-en>sorted</span>(<span class=pl-s1>names_with_sha</span>)) <span class=pl-c1>+</span> <span class=pl-s>b&#39;]&#39;</span></td>
        </tr>
        <tr>
          <td id="L2655" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2655"></td>
          <td id="LC2655" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;  %s %10d %10d %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>sha</span>,</td>
        </tr>
        <tr>
          <td id="L2656" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2656"></td>
          <td id="LC2656" class="blob-code blob-code-inner js-file-line">                                          <span class=pl-s1>stats</span>[<span class=pl-s>&#39;unpacked_size&#39;</span>][<span class=pl-s1>sha</span>],</td>
        </tr>
        <tr>
          <td id="L2657" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2657"></td>
          <td id="LC2657" class="blob-code blob-code-inner js-file-line">                                          <span class=pl-s1>size</span>,</td>
        </tr>
        <tr>
          <td id="L2658" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2658"></td>
          <td id="LC2658" class="blob-code blob-code-inner js-file-line">                                          <span class=pl-s1>names_with_sha</span>))</td>
        </tr>
        <tr>
          <td id="L2659" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2659"></td>
          <td id="LC2659" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2660" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2660"></td>
          <td id="LC2660" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2661" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2661"></td>
          <td id="LC2661" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>run</span>(<span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L2662" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2662"></td>
          <td id="LC2662" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>report_dir</span>:</td>
        </tr>
        <tr>
          <td id="L2663" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2663"></td>
          <td id="LC2663" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reportdir</span> <span class=pl-c1>=</span> <span class=pl-s1>args</span>.<span class=pl-s1>report_dir</span></td>
        </tr>
        <tr>
          <td id="L2664" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2664"></td>
          <td id="LC2664" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2665" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2665"></td>
          <td id="LC2665" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>git_dir</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>determine_git_dir</span>(<span class=pl-s>b&#39;.&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2666" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2666"></td>
          <td id="LC2666" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2667" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2667"></td>
          <td id="LC2667" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the report directory as necessary</span></td>
        </tr>
        <tr>
          <td id="L2668" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2668"></td>
          <td id="LC2668" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>results_tmp_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>git_dir</span>, <span class=pl-s>b&#39;filter-repo&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2669" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2669"></td>
          <td id="LC2669" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isdir</span>(<span class=pl-s1>results_tmp_dir</span>):</td>
        </tr>
        <tr>
          <td id="L2670" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2670"></td>
          <td id="LC2670" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>os</span>.<span class=pl-en>mkdir</span>(<span class=pl-s1>results_tmp_dir</span>)</td>
        </tr>
        <tr>
          <td id="L2671" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2671"></td>
          <td id="LC2671" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reportdir</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>results_tmp_dir</span>, <span class=pl-s>b&quot;analysis&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2672" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2672"></td>
          <td id="LC2672" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2673" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2673"></td>
          <td id="LC2673" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isdir</span>(<span class=pl-s1>reportdir</span>):</td>
        </tr>
        <tr>
          <td id="L2674" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2674"></td>
          <td id="LC2674" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>force</span>:</td>
        </tr>
        <tr>
          <td id="L2675" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2675"></td>
          <td id="LC2675" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Warning: Removing recursively: <span class=pl-cce>\&quot;</span>%s<span class=pl-cce>\&quot;</span>&quot;</span>) <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>reportdir</span>))</td>
        </tr>
        <tr>
          <td id="L2676" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2676"></td>
          <td id="LC2676" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>shutil</span>.<span class=pl-en>rmtree</span>(<span class=pl-s1>reportdir</span>)</td>
        </tr>
        <tr>
          <td id="L2677" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2677"></td>
          <td id="LC2677" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L2678" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2678"></td>
          <td id="LC2678" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: dir already exists (use --force to delete): <span class=pl-cce>\&quot;</span>%s<span class=pl-cce>\&quot;</span><span class=pl-cce>\n</span>&quot;</span>) <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>reportdir</span>))</td>
        </tr>
        <tr>
          <td id="L2679" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2679"></td>
          <td id="LC2679" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>sys</span>.<span class=pl-en>exit</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L2680" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2680"></td>
          <td id="LC2680" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2681" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2681"></td>
          <td id="LC2681" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>os</span>.<span class=pl-en>mkdir</span>(<span class=pl-s1>reportdir</span>)</td>
        </tr>
        <tr>
          <td id="L2682" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2682"></td>
          <td id="LC2682" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2683" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2683"></td>
          <td id="LC2683" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Gather the data we need</span></td>
        </tr>
        <tr>
          <td id="L2684" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2684"></td>
          <td id="LC2684" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>stats</span> <span class=pl-c1>=</span> <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>gather_data</span>(<span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L2685" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2685"></td>
          <td id="LC2685" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2686" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2686"></td>
          <td id="LC2686" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Write the reports</span></td>
        </tr>
        <tr>
          <td id="L2687" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2687"></td>
          <td id="LC2687" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Writing reports to %s...&quot;</span>) <span class=pl-c1>%</span> <span class=pl-en>decode</span>(<span class=pl-s1>reportdir</span>))</td>
        </tr>
        <tr>
          <td id="L2688" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2688"></td>
          <td id="LC2688" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L2689" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2689"></td>
          <td id="LC2689" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>write_report</span>(<span class=pl-s1>reportdir</span>, <span class=pl-s1>stats</span>)</td>
        </tr>
        <tr>
          <td id="L2690" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2690"></td>
          <td id="LC2690" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>sys</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;done.<span class=pl-cce>\n</span>&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2691" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2691"></td>
          <td id="LC2691" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2692" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2692"></td>
          <td id="LC2692" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>InputFileBackup</span>:</td>
        </tr>
        <tr>
          <td id="L2693" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2693"></td>
          <td id="LC2693" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>input_file</span>, <span class=pl-s1>output_file</span>):</td>
        </tr>
        <tr>
          <td id="L2694" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2694"></td>
          <td id="LC2694" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>input_file</span>  <span class=pl-c1>=</span> <span class=pl-s1>input_file</span></td>
        </tr>
        <tr>
          <td id="L2695" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2695"></td>
          <td id="LC2695" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>output_file</span> <span class=pl-c1>=</span> <span class=pl-s1>output_file</span></td>
        </tr>
        <tr>
          <td id="L2696" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2696"></td>
          <td id="LC2696" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2697" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2697"></td>
          <td id="LC2697" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>close</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2698" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2698"></td>
          <td id="LC2698" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>input_file</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L2699" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2699"></td>
          <td id="LC2699" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>output_file</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L2700" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2700"></td>
          <td id="LC2700" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2701" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2701"></td>
          <td id="LC2701" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>read</span>(<span class=pl-s1>self</span>, <span class=pl-s1>size</span>):</td>
        </tr>
        <tr>
          <td id="L2702" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2702"></td>
          <td id="LC2702" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>input_file</span>.<span class=pl-en>read</span>(<span class=pl-s1>size</span>)</td>
        </tr>
        <tr>
          <td id="L2703" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2703"></td>
          <td id="LC2703" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>output_file</span>.<span class=pl-en>write</span>(<span class=pl-s1>output</span>)</td>
        </tr>
        <tr>
          <td id="L2704" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2704"></td>
          <td id="LC2704" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>output</span></td>
        </tr>
        <tr>
          <td id="L2705" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2705"></td>
          <td id="LC2705" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2706" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2706"></td>
          <td id="LC2706" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>readline</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2707" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2707"></td>
          <td id="LC2707" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>input_file</span>.<span class=pl-en>readline</span>()</td>
        </tr>
        <tr>
          <td id="L2708" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2708"></td>
          <td id="LC2708" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>output_file</span>.<span class=pl-en>write</span>(<span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L2709" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2709"></td>
          <td id="LC2709" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>line</span></td>
        </tr>
        <tr>
          <td id="L2710" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2710"></td>
          <td id="LC2710" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2711" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2711"></td>
          <td id="LC2711" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>DualFileWriter</span>:</td>
        </tr>
        <tr>
          <td id="L2712" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2712"></td>
          <td id="LC2712" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>, <span class=pl-s1>file1</span>, <span class=pl-s1>file2</span>):</td>
        </tr>
        <tr>
          <td id="L2713" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2713"></td>
          <td id="LC2713" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file1</span> <span class=pl-c1>=</span> <span class=pl-s1>file1</span></td>
        </tr>
        <tr>
          <td id="L2714" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2714"></td>
          <td id="LC2714" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file2</span> <span class=pl-c1>=</span> <span class=pl-s1>file2</span></td>
        </tr>
        <tr>
          <td id="L2715" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2715"></td>
          <td id="LC2715" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2716" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2716"></td>
          <td id="LC2716" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>write</span>(<span class=pl-s1>self</span>, <span class=pl-c1>*</span><span class=pl-s1>args</span>):</td>
        </tr>
        <tr>
          <td id="L2717" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2717"></td>
          <td id="LC2717" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file1</span>.<span class=pl-en>write</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L2718" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2718"></td>
          <td id="LC2718" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file2</span>.<span class=pl-en>write</span>(<span class=pl-c1>*</span><span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L2719" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2719"></td>
          <td id="LC2719" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2720" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2720"></td>
          <td id="LC2720" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>flush</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2721" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2721"></td>
          <td id="LC2721" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file1</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L2722" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2722"></td>
          <td id="LC2722" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file2</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L2723" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2723"></td>
          <td id="LC2723" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2724" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2724"></td>
          <td id="LC2724" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>close</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2725" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2725"></td>
          <td id="LC2725" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file1</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L2726" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2726"></td>
          <td id="LC2726" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>file2</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L2727" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2727"></td>
          <td id="LC2727" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2728" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2728"></td>
          <td id="LC2728" class="blob-code blob-code-inner js-file-line"><span class=pl-k>class</span> <span class=pl-v>RepoFilter</span>(<span class=pl-s1>object</span>):</td>
        </tr>
        <tr>
          <td id="L2729" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2729"></td>
          <td id="LC2729" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>__init__</span>(<span class=pl-s1>self</span>,</td>
        </tr>
        <tr>
          <td id="L2730" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2730"></td>
          <td id="LC2730" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>args</span>,</td>
        </tr>
        <tr>
          <td id="L2731" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2731"></td>
          <td id="LC2731" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>filename_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2732" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2732"></td>
          <td id="LC2732" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>message_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2733" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2733"></td>
          <td id="LC2733" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>name_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2734" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2734"></td>
          <td id="LC2734" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>email_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2735" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2735"></td>
          <td id="LC2735" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>refname_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2736" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2736"></td>
          <td id="LC2736" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>blob_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2737" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2737"></td>
          <td id="LC2737" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>commit_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2738" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2738"></td>
          <td id="LC2738" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>tag_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2739" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2739"></td>
          <td id="LC2739" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>reset_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>,</td>
        </tr>
        <tr>
          <td id="L2740" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2740"></td>
          <td id="LC2740" class="blob-code blob-code-inner js-file-line">               <span class=pl-s1>done_callback</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>):</td>
        </tr>
        <tr>
          <td id="L2741" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2741"></td>
          <td id="LC2741" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2742" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2742"></td>
          <td id="LC2742" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_args</span> <span class=pl-c1>=</span> <span class=pl-s1>args</span></td>
        </tr>
        <tr>
          <td id="L2743" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2743"></td>
          <td id="LC2743" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2744" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2744"></td>
          <td id="LC2744" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Repo we are exporting</span></td>
        </tr>
        <tr>
          <td id="L2745" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2745"></td>
          <td id="LC2745" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_repo_working_dir</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2746" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2746"></td>
          <td id="LC2746" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2747" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2747"></td>
          <td id="LC2747" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store callbacks for acting on objects printed by FastExport</span></td>
        </tr>
        <tr>
          <td id="L2748" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2748"></td>
          <td id="LC2748" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span>        <span class=pl-c1>=</span> <span class=pl-s1>blob_callback</span></td>
        </tr>
        <tr>
          <td id="L2749" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2749"></td>
          <td id="LC2749" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commit_callback</span>      <span class=pl-c1>=</span> <span class=pl-s1>commit_callback</span></td>
        </tr>
        <tr>
          <td id="L2750" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2750"></td>
          <td id="LC2750" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_tag_callback</span>         <span class=pl-c1>=</span> <span class=pl-s1>tag_callback</span></td>
        </tr>
        <tr>
          <td id="L2751" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2751"></td>
          <td id="LC2751" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_reset_callback</span>       <span class=pl-c1>=</span> <span class=pl-s1>reset_callback</span></td>
        </tr>
        <tr>
          <td id="L2752" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2752"></td>
          <td id="LC2752" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_done_callback</span>        <span class=pl-c1>=</span> <span class=pl-s1>done_callback</span></td>
        </tr>
        <tr>
          <td id="L2753" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2753"></td>
          <td id="LC2753" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2754" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2754"></td>
          <td id="LC2754" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Store callbacks for acting on slices of FastExport objects</span></td>
        </tr>
        <tr>
          <td id="L2755" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2755"></td>
          <td id="LC2755" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_filename_callback</span>    <span class=pl-c1>=</span> <span class=pl-s1>filename_callback</span>  <span class=pl-c># filenames from commits</span></td>
        </tr>
        <tr>
          <td id="L2756" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2756"></td>
          <td id="LC2756" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_message_callback</span>     <span class=pl-c1>=</span> <span class=pl-s1>message_callback</span>   <span class=pl-c># commit OR tag message</span></td>
        </tr>
        <tr>
          <td id="L2757" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2757"></td>
          <td id="LC2757" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_name_callback</span>        <span class=pl-c1>=</span> <span class=pl-s1>name_callback</span>      <span class=pl-c># author, committer, tagger</span></td>
        </tr>
        <tr>
          <td id="L2758" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2758"></td>
          <td id="LC2758" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_email_callback</span>       <span class=pl-c1>=</span> <span class=pl-s1>email_callback</span>     <span class=pl-c># author, committer, tagger</span></td>
        </tr>
        <tr>
          <td id="L2759" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2759"></td>
          <td id="LC2759" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_refname_callback</span>     <span class=pl-c1>=</span> <span class=pl-s1>refname_callback</span>   <span class=pl-c># from commit/tag/reset</span></td>
        </tr>
        <tr>
          <td id="L2760" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2760"></td>
          <td id="LC2760" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_handle_arg_callbacks</span>()</td>
        </tr>
        <tr>
          <td id="L2761" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2761"></td>
          <td id="LC2761" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2762" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2762"></td>
          <td id="LC2762" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Defaults for input</span></td>
        </tr>
        <tr>
          <td id="L2763" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2763"></td>
          <td id="LC2763" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2764" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2764"></td>
          <td id="LC2764" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_fep</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>  <span class=pl-c># Fast Export Process</span></td>
        </tr>
        <tr>
          <td id="L2765" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2765"></td>
          <td id="LC2765" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>  <span class=pl-c># Path to where original fast-export output stored</span></td>
        </tr>
        <tr>
          <td id="L2766" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2766"></td>
          <td id="LC2766" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_fe_filt</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>  <span class=pl-c># Path to where filtered fast-export output stored</span></td>
        </tr>
        <tr>
          <td id="L2767" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2767"></td>
          <td id="LC2767" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span> <span class=pl-c># FastExportParser object we are working with</span></td>
        </tr>
        <tr>
          <td id="L2768" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2768"></td>
          <td id="LC2768" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2769" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2769"></td>
          <td id="LC2769" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Defaults for output</span></td>
        </tr>
        <tr>
          <td id="L2770" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2770"></td>
          <td id="LC2770" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2771" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2771"></td>
          <td id="LC2771" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_fip</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span>  <span class=pl-c># Fast Import Process</span></td>
        </tr>
        <tr>
          <td id="L2772" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2772"></td>
          <td id="LC2772" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2773" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2773"></td>
          <td id="LC2773" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_managed_output</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L2774" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2774"></td>
          <td id="LC2774" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2775" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2775"></td>
          <td id="LC2775" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A tuple of (depth, list-of-ancestors).  Commits and ancestors are</span></td>
        </tr>
        <tr>
          <td id="L2776" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2776"></td>
          <td id="LC2776" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># identified by their id (their &#39;mark&#39; in fast-export or fast-import</span></td>
        </tr>
        <tr>
          <td id="L2777" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2777"></td>
          <td id="LC2777" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># speak).  The depth of a commit is one more than the max depth of any</span></td>
        </tr>
        <tr>
          <td id="L2778" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2778"></td>
          <td id="LC2778" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># of its ancestors.</span></td>
        </tr>
        <tr>
          <td id="L2779" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2779"></td>
          <td id="LC2779" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_graph</span> <span class=pl-c1>=</span> <span class=pl-v>AncestryGraph</span>()</td>
        </tr>
        <tr>
          <td id="L2780" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2780"></td>
          <td id="LC2780" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Another one, for ancestry of commits in the original repo</span></td>
        </tr>
        <tr>
          <td id="L2781" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2781"></td>
          <td id="LC2781" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_orig_graph</span> <span class=pl-c1>=</span> <span class=pl-v>AncestryGraph</span>()</td>
        </tr>
        <tr>
          <td id="L2782" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2782"></td>
          <td id="LC2782" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2783" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2783"></td>
          <td id="LC2783" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Names of files that were tweaked in any commit; such paths could lead</span></td>
        </tr>
        <tr>
          <td id="L2784" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2784"></td>
          <td id="LC2784" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># to subsequent commits being empty</span></td>
        </tr>
        <tr>
          <td id="L2785" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2785"></td>
          <td id="LC2785" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_files_tweaked</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L2786" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2786"></td>
          <td id="LC2786" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2787" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2787"></td>
          <td id="LC2787" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A set of commit hash pairs (oldhash, newhash) which used to be merge</span></td>
        </tr>
        <tr>
          <td id="L2788" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2788"></td>
          <td id="LC2788" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># commits but due to filtering were turned into non-merge commits.</span></td>
        </tr>
        <tr>
          <td id="L2789" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2789"></td>
          <td id="LC2789" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># The commits probably have suboptimal commit messages (e.g. &quot;Merge branch</span></td>
        </tr>
        <tr>
          <td id="L2790" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2790"></td>
          <td id="LC2790" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># next into master&quot;).</span></td>
        </tr>
        <tr>
          <td id="L2791" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2791"></td>
          <td id="LC2791" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commits_no_longer_merges</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L2792" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2792"></td>
          <td id="LC2792" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2793" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2793"></td>
          <td id="LC2793" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A dict of original_ids to new_ids; filtering commits means getting</span></td>
        </tr>
        <tr>
          <td id="L2794" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2794"></td>
          <td id="LC2794" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># new commit hash (sha1sums), and we record the mapping both for</span></td>
        </tr>
        <tr>
          <td id="L2795" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2795"></td>
          <td id="LC2795" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># diagnostic purposes and so we can rewrite commit messages.  Note that</span></td>
        </tr>
        <tr>
          <td id="L2796" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2796"></td>
          <td id="LC2796" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># the new_id can be None rather than a commit hash if the original</span></td>
        </tr>
        <tr>
          <td id="L2797" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2797"></td>
          <td id="LC2797" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># commit became empty and was pruned or was otherwise dropped.</span></td>
        </tr>
        <tr>
          <td id="L2798" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2798"></td>
          <td id="LC2798" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L2799" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2799"></td>
          <td id="LC2799" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2800" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2800"></td>
          <td id="LC2800" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A set of original_ids for which we have not yet gotten the</span></td>
        </tr>
        <tr>
          <td id="L2801" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2801"></td>
          <td id="LC2801" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># new_ids; we use OrderedDict because we need to know the order of</span></td>
        </tr>
        <tr>
          <td id="L2802" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2802"></td>
          <td id="LC2802" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># insertion, but the values are always ignored (and set to None).</span></td>
        </tr>
        <tr>
          <td id="L2803" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2803"></td>
          <td id="LC2803" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If there was an OrderedSet class, I&#39;d use it instead.</span></td>
        </tr>
        <tr>
          <td id="L2804" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2804"></td>
          <td id="LC2804" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span> <span class=pl-c1>=</span> <span class=pl-s1>collections</span>.<span class=pl-v>OrderedDict</span>()</td>
        </tr>
        <tr>
          <td id="L2805" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2805"></td>
          <td id="LC2805" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2806" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2806"></td>
          <td id="LC2806" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A dict of commit_hash[0:7] -&gt; set(commit_hashes with that prefix).</span></td>
        </tr>
        <tr>
          <td id="L2807" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2807"></td>
          <td id="LC2807" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#</span></td>
        </tr>
        <tr>
          <td id="L2808" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2808"></td>
          <td id="LC2808" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># It&#39;s common for commit messages to refer to commits by abbreviated</span></td>
        </tr>
        <tr>
          <td id="L2809" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2809"></td>
          <td id="LC2809" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># commit hashes, as short as 7 characters.  To facilitate translating</span></td>
        </tr>
        <tr>
          <td id="L2810" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2810"></td>
          <td id="LC2810" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># such short hashes, we have a mapping of prefixes to full old hashes.</span></td>
        </tr>
        <tr>
          <td id="L2811" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2811"></td>
          <td id="LC2811" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commit_short_old_hashes</span> <span class=pl-c1>=</span> <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>set</span>)</td>
        </tr>
        <tr>
          <td id="L2812" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2812"></td>
          <td id="LC2812" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2813" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2813"></td>
          <td id="LC2813" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># A set of commit hash references appearing in commit messages which</span></td>
        </tr>
        <tr>
          <td id="L2814" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2814"></td>
          <td id="LC2814" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># mapped to a valid commit that was removed entirely in the filtering</span></td>
        </tr>
        <tr>
          <td id="L2815" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2815"></td>
          <td id="LC2815" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># process.  The commit message will continue to reference the</span></td>
        </tr>
        <tr>
          <td id="L2816" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2816"></td>
          <td id="LC2816" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># now-missing commit hash, since there was nothing to map it to.</span></td>
        </tr>
        <tr>
          <td id="L2817" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2817"></td>
          <td id="LC2817" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_commits_referenced_but_removed</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L2818" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2818"></td>
          <td id="LC2818" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2819" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2819"></td>
          <td id="LC2819" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Progress handling (number of commits parsed, etc.)</span></td>
        </tr>
        <tr>
          <td id="L2820" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2820"></td>
          <td id="LC2820" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_progress_writer</span> <span class=pl-c1>=</span> <span class=pl-v>ProgressWriter</span>()</td>
        </tr>
        <tr>
          <td id="L2821" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2821"></td>
          <td id="LC2821" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_num_commits</span> <span class=pl-c1>=</span> <span class=pl-c1>0</span></td>
        </tr>
        <tr>
          <td id="L2822" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2822"></td>
          <td id="LC2822" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2823" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2823"></td>
          <td id="LC2823" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Size of blobs in the repo</span></td>
        </tr>
        <tr>
          <td id="L2824" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2824"></td>
          <td id="LC2824" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_unpacked_size</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L2825" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2825"></td>
          <td id="LC2825" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2826" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2826"></td>
          <td id="LC2826" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Other vars</span></td>
        </tr>
        <tr>
          <td id="L2827" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2827"></td>
          <td id="LC2827" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_sanity_checks_handled</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2828" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2828"></td>
          <td id="LC2828" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_finalize_handled</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L2829" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2829"></td>
          <td id="LC2829" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2830" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2830"></td>
          <td id="LC2830" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_newnames</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L2831" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2831"></td>
          <td id="LC2831" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2832" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2832"></td>
          <td id="LC2832" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Cache a few message translations for performance reasons</span></td>
        </tr>
        <tr>
          <td id="L2833" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2833"></td>
          <td id="LC2833" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_parsed_message</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Parsed %d commits&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2834" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2834"></td>
          <td id="LC2834" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2835" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2835"></td>
          <td id="LC2835" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Compile some regexes and cache those</span></td>
        </tr>
        <tr>
          <td id="L2836" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2836"></td>
          <td id="LC2836" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_hash_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>br&#39;(\b[0-9a-f]{7,40}\b)&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2837" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2837"></td>
          <td id="LC2837" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2838" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2838"></td>
          <td id="LC2838" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_handle_arg_callbacks</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2839" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2839"></td>
          <td id="LC2839" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>make_callback</span>(<span class=pl-s1>argname</span>, <span class=pl-s1>str</span>):</td>
        </tr>
        <tr>
          <td id="L2840" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2840"></td>
          <td id="LC2840" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>exec</span>(<span class=pl-s>&#39;def callback({}, _do_not_use_this_var = None):<span class=pl-cce>\n</span>&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>argname</span>)<span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L2841" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2841"></td>
          <td id="LC2841" class="blob-code blob-code-inner js-file-line">           <span class=pl-s>&#39;  &#39;</span><span class=pl-c1>+</span><span class=pl-s>&#39;<span class=pl-cce>\n</span>  &#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>str</span>.<span class=pl-en>splitlines</span>()), <span class=pl-en>globals</span>())</td>
        </tr>
        <tr>
          <td id="L2842" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2842"></td>
          <td id="LC2842" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>callback</span> <span class=pl-c>#namespace[&#39;callback&#39;]</span></td>
        </tr>
        <tr>
          <td id="L2843" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2843"></td>
          <td id="LC2843" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>handle</span>(<span class=pl-s1>type</span>):</td>
        </tr>
        <tr>
          <td id="L2844" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2844"></td>
          <td id="LC2844" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>callback_field</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;_{}_callback&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>type</span>)</td>
        </tr>
        <tr>
          <td id="L2845" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2845"></td>
          <td id="LC2845" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>code_string</span> <span class=pl-c1>=</span> <span class=pl-en>getattr</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>, <span class=pl-s1>type</span><span class=pl-c1>+</span><span class=pl-s>&#39;_callback&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2846" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2846"></td>
          <td id="LC2846" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>code_string</span>:</td>
        </tr>
        <tr>
          <td id="L2847" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2847"></td>
          <td id="LC2847" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>exists</span>(<span class=pl-s1>code_string</span>):</td>
        </tr>
        <tr>
          <td id="L2848" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2848"></td>
          <td id="LC2848" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>code_string</span>, <span class=pl-s>&#39;r&#39;</span>, <span class=pl-s1>encoding</span><span class=pl-c1>=</span><span class=pl-s>&#39;utf-8&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2849" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2849"></td>
          <td id="LC2849" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>code_string</span> <span class=pl-c1>=</span> <span class=pl-s1>f</span>.<span class=pl-en>read</span>()</td>
        </tr>
        <tr>
          <td id="L2850" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2850"></td>
          <td id="LC2850" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>getattr</span>(<span class=pl-s1>self</span>, <span class=pl-s1>callback_field</span>):</td>
        </tr>
        <tr>
          <td id="L2851" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2851"></td>
          <td id="LC2851" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: Cannot pass a %s_callback to RepoFilter &quot;</span></td>
        </tr>
        <tr>
          <td id="L2852" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2852"></td>
          <td id="LC2852" class="blob-code blob-code-inner js-file-line">                             <span class=pl-s>&quot;AND pass --%s-callback&quot;</span></td>
        </tr>
        <tr>
          <td id="L2853" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2853"></td>
          <td id="LC2853" class="blob-code blob-code-inner js-file-line">                           <span class=pl-c1>%</span> (<span class=pl-s1>type</span>, <span class=pl-s1>type</span>)))</td>
        </tr>
        <tr>
          <td id="L2854" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2854"></td>
          <td id="LC2854" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s>&#39;return &#39;</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>code_string</span> <span class=pl-c1>and</span> \</td>
        </tr>
        <tr>
          <td id="L2855" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2855"></td>
          <td id="LC2855" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>type</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> (<span class=pl-s>&#39;blob&#39;</span>, <span class=pl-s>&#39;commit&#39;</span>, <span class=pl-s>&#39;tag&#39;</span>, <span class=pl-s>&#39;reset&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2856" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2856"></td>
          <td id="LC2856" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: --%s-callback should have a return statement&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2857" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2857"></td>
          <td id="LC2857" class="blob-code blob-code-inner js-file-line">                           <span class=pl-c1>%</span> <span class=pl-s1>type</span>)</td>
        </tr>
        <tr>
          <td id="L2858" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2858"></td>
          <td id="LC2858" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>setattr</span>(<span class=pl-s1>self</span>, <span class=pl-s1>callback_field</span>, <span class=pl-en>make_callback</span>(<span class=pl-s1>type</span>, <span class=pl-s1>code_string</span>))</td>
        </tr>
        <tr>
          <td id="L2859" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2859"></td>
          <td id="LC2859" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;filename&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2860" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2860"></td>
          <td id="LC2860" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;message&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2861" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2861"></td>
          <td id="LC2861" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;name&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2862" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2862"></td>
          <td id="LC2862" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;email&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2863" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2863"></td>
          <td id="LC2863" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;refname&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2864" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2864"></td>
          <td id="LC2864" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;blob&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2865" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2865"></td>
          <td id="LC2865" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;commit&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2866" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2866"></td>
          <td id="LC2866" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;tag&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2867" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2867"></td>
          <td id="LC2867" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>handle</span>(<span class=pl-s>&#39;reset&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2868" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2868"></td>
          <td id="LC2868" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2869" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2869"></td>
          <td id="LC2869" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_run_sanity_checks</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L2870" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2870"></td>
          <td id="LC2870" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_sanity_checks_handled</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L2871" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2871"></td>
          <td id="LC2871" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_managed_output</span>:</td>
        </tr>
        <tr>
          <td id="L2872" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2872"></td>
          <td id="LC2872" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span>:</td>
        </tr>
        <tr>
          <td id="L2873" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2873"></td>
          <td id="LC2873" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># If not _managed_output we don&#39;t want to make extra changes to the</span></td>
        </tr>
        <tr>
          <td id="L2874" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2874"></td>
          <td id="LC2874" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># repo, so set default to no-op &#39;update-no-add&#39;</span></td>
        </tr>
        <tr>
          <td id="L2875" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2875"></td>
          <td id="LC2875" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;update-no-add&#39;</span></td>
        </tr>
        <tr>
          <td id="L2876" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2876"></td>
          <td id="LC2876" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L2877" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2877"></td>
          <td id="LC2877" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2878" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2878"></td>
          <td id="LC2878" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L2879" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2879"></td>
          <td id="LC2879" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Passed arguments:<span class=pl-cce>\n</span>{}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>))</td>
        </tr>
        <tr>
          <td id="L2880" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2880"></td>
          <td id="LC2880" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2881" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2881"></td>
          <td id="LC2881" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Determine basic repository information</span></td>
        </tr>
        <tr>
          <td id="L2882" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2882"></td>
          <td id="LC2882" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>target_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L2883" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2883"></td>
          <td id="LC2883" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>get_refs</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L2884" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2884"></td>
          <td id="LC2884" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>is_bare</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>is_repository_bare</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L2885" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2885"></td>
          <td id="LC2885" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2886" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2886"></td>
          <td id="LC2886" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Determine if this is second or later run of filter-repo</span></td>
        </tr>
        <tr>
          <td id="L2887" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2887"></td>
          <td id="LC2887" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tmp_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(<span class=pl-s1>create_if_missing</span><span class=pl-c1>=</span><span class=pl-c1>False</span>)</td>
        </tr>
        <tr>
          <td id="L2888" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2888"></td>
          <td id="LC2888" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>already_ran</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isfile</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>tmp_dir</span>, <span class=pl-s>b&#39;already_ran&#39;</span>))</td>
        </tr>
        <tr>
          <td id="L2889" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2889"></td>
          <td id="LC2889" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2890" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2890"></td>
          <td id="LC2890" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Default for --replace-refs</span></td>
        </tr>
        <tr>
          <td id="L2891" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2891"></td>
          <td id="LC2891" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span>:</td>
        </tr>
        <tr>
          <td id="L2892" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2892"></td>
          <td id="LC2892" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>=</span> (<span class=pl-s>&#39;update-or-add&#39;</span> <span class=pl-k>if</span> <span class=pl-s1>already_ran</span></td>
        </tr>
        <tr>
          <td id="L2893" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2893"></td>
          <td id="LC2893" class="blob-code blob-code-inner js-file-line">                                   <span class=pl-k>else</span> <span class=pl-s>&#39;update-and-add&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2894" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2894"></td>
          <td id="LC2894" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2895" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2895"></td>
          <td id="LC2895" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Do sanity checks from the correct directory</span></td>
        </tr>
        <tr>
          <td id="L2896" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2896"></td>
          <td id="LC2896" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>force</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>already_ran</span>:</td>
        </tr>
        <tr>
          <td id="L2897" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2897"></td>
          <td id="LC2897" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>cwd</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-en>getcwd</span>()</td>
        </tr>
        <tr>
          <td id="L2898" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2898"></td>
          <td id="LC2898" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>os</span>.<span class=pl-en>chdir</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L2899" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2899"></td>
          <td id="LC2899" class="blob-code blob-code-inner js-file-line">      <span class=pl-v>RepoFilter</span>.<span class=pl-en>sanity_check</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>, <span class=pl-s1>is_bare</span>)</td>
        </tr>
        <tr>
          <td id="L2900" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2900"></td>
          <td id="LC2900" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>os</span>.<span class=pl-en>chdir</span>(<span class=pl-s1>cwd</span>)</td>
        </tr>
        <tr>
          <td id="L2901" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2901"></td>
          <td id="LC2901" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2902" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2902"></td>
          <td id="LC2902" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2903" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2903"></td>
          <td id="LC2903" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>sanity_check</span>(<span class=pl-s1>refs</span>, <span class=pl-s1>is_bare</span>):</td>
        </tr>
        <tr>
          <td id="L2904" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2904"></td>
          <td id="LC2904" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>abort</span>(<span class=pl-s1>reason</span>):</td>
        </tr>
        <tr>
          <td id="L2905" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2905"></td>
          <td id="LC2905" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>try</span>:</td>
        </tr>
        <tr>
          <td id="L2906" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2906"></td>
          <td id="LC2906" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;git config remote.origin.url&#39;</span></td>
        </tr>
        <tr>
          <td id="L2907" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2907"></td>
          <td id="LC2907" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>.<span class=pl-en>split</span>()).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L2908" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2908"></td>
          <td id="LC2908" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>except</span> <span class=pl-s1>subprocess</span>.<span class=pl-v>CalledProcessError</span> <span class=pl-k>as</span> <span class=pl-s1>e</span>:</td>
        </tr>
        <tr>
          <td id="L2909" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2909"></td>
          <td id="LC2909" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L2910" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2910"></td>
          <td id="LC2910" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;&quot;</span></td>
        </tr>
        <tr>
          <td id="L2911" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2911"></td>
          <td id="LC2911" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>output</span> <span class=pl-c1>and</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isdir</span>(<span class=pl-s1>output</span>):</td>
        </tr>
        <tr>
          <td id="L2912" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2912"></td>
          <td id="LC2912" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-en>_</span>(<span class=pl-s>&quot;Note: when cloning local repositories, you need to pass<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L2913" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2913"></td>
          <td id="LC2913" class="blob-code blob-code-inner js-file-line">                <span class=pl-s>&quot;      --no-local to git clone to avoid this issue.<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L2914" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2914"></td>
          <td id="LC2914" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(</td>
        </tr>
        <tr>
          <td id="L2915" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2915"></td>
          <td id="LC2915" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>_</span>(<span class=pl-s>&quot;Aborting: Refusing to destructively overwrite repo history since<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L2916" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2916"></td>
          <td id="LC2916" class="blob-code blob-code-inner js-file-line">          <span class=pl-s>&quot;this does not look like a fresh clone.<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L2917" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2917"></td>
          <td id="LC2917" class="blob-code blob-code-inner js-file-line">          <span class=pl-s>&quot;  (%s)<span class=pl-cce>\n</span>%s&quot;</span></td>
        </tr>
        <tr>
          <td id="L2918" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2918"></td>
          <td id="LC2918" class="blob-code blob-code-inner js-file-line">          <span class=pl-s>&quot;Please operate on a fresh clone instead.  If you want to proceed<span class=pl-cce>\n</span>&quot;</span></td>
        </tr>
        <tr>
          <td id="L2919" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2919"></td>
          <td id="LC2919" class="blob-code blob-code-inner js-file-line">          <span class=pl-s>&quot;anyway, use --force.&quot;</span>) <span class=pl-c1>%</span> (<span class=pl-s1>reason</span>, <span class=pl-s1>msg</span>))</td>
        </tr>
        <tr>
          <td id="L2920" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2920"></td>
          <td id="LC2920" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2921" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2921"></td>
          <td id="LC2921" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Make sure repo is fully packed, just like a fresh clone would be.</span></td>
        </tr>
        <tr>
          <td id="L2922" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2922"></td>
          <td id="LC2922" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Note that transfer.unpackLimit defaults to 100, meaning that a</span></td>
        </tr>
        <tr>
          <td id="L2923" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2923"></td>
          <td id="LC2923" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># repository with no packs and less than 100 objects should be considered</span></td>
        </tr>
        <tr>
          <td id="L2924" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2924"></td>
          <td id="LC2924" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># fully packed.</span></td>
        </tr>
        <tr>
          <td id="L2925" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2925"></td>
          <td id="LC2925" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git count-objects -v&#39;</span>.<span class=pl-en>split</span>())</td>
        </tr>
        <tr>
          <td id="L2926" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2926"></td>
          <td id="LC2926" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>stats</span> <span class=pl-c1>=</span> <span class=pl-en>dict</span>(<span class=pl-s1>x</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39;: &#39;</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>output</span>.<span class=pl-en>splitlines</span>())</td>
        </tr>
        <tr>
          <td id="L2927" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2927"></td>
          <td id="LC2927" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>num_packs</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>stats</span>[<span class=pl-s>b&#39;packs&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L2928" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2928"></td>
          <td id="LC2928" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>num_loose_objects</span> <span class=pl-c1>=</span> <span class=pl-en>int</span>(<span class=pl-s1>stats</span>[<span class=pl-s>b&#39;count&#39;</span>])</td>
        </tr>
        <tr>
          <td id="L2929" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2929"></td>
          <td id="LC2929" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>num_packs</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span> <span class=pl-c1>or</span> \</td>
        </tr>
        <tr>
          <td id="L2930" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2930"></td>
          <td id="LC2930" class="blob-code blob-code-inner js-file-line">       (<span class=pl-s1>num_packs</span> <span class=pl-c1>==</span> <span class=pl-c1>1</span> <span class=pl-c1>and</span> <span class=pl-s1>num_loose_objects</span> <span class=pl-c1>&gt;</span> <span class=pl-c1>0</span>) <span class=pl-c1>or</span> \</td>
        </tr>
        <tr>
          <td id="L2931" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2931"></td>
          <td id="LC2931" class="blob-code blob-code-inner js-file-line">       <span class=pl-s1>num_loose_objects</span> <span class=pl-c1>&gt;=</span> <span class=pl-c1>100</span>:</td>
        </tr>
        <tr>
          <td id="L2932" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2932"></td>
          <td id="LC2932" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;expected freshly packed repo&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2933" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2933"></td>
          <td id="LC2933" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2934" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2934"></td>
          <td id="LC2934" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Make sure there is precisely one remote, named &quot;origin&quot;...or that this</span></td>
        </tr>
        <tr>
          <td id="L2935" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2935"></td>
          <td id="LC2935" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># is a new bare repo with no packs and no remotes</span></td>
        </tr>
        <tr>
          <td id="L2936" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2936"></td>
          <td id="LC2936" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git remote&#39;</span>.<span class=pl-en>split</span>()).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L2937" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2937"></td>
          <td id="LC2937" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> (<span class=pl-s1>output</span> <span class=pl-c1>==</span> <span class=pl-s>b&quot;origin&quot;</span> <span class=pl-c1>or</span> (<span class=pl-s1>num_packs</span> <span class=pl-c1>==</span> <span class=pl-c1>0</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>output</span>)):</td>
        </tr>
        <tr>
          <td id="L2938" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2938"></td>
          <td id="LC2938" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;expected one remote, origin&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2939" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2939"></td>
          <td id="LC2939" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2940" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2940"></td>
          <td id="LC2940" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Avoid letting people running with weird setups and overwriting GIT_DIR</span></td>
        </tr>
        <tr>
          <td id="L2941" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2941"></td>
          <td id="LC2941" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># elsewhere</span></td>
        </tr>
        <tr>
          <td id="L2942" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2942"></td>
          <td id="LC2942" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>git_dir</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>determine_git_dir</span>(<span class=pl-s>b&#39;.&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2943" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2943"></td>
          <td id="LC2943" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>is_bare</span> <span class=pl-c1>and</span> <span class=pl-s1>git_dir</span> <span class=pl-c1>!=</span> <span class=pl-s>b&#39;.&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2944" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2944"></td>
          <td id="LC2944" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;GIT_DIR must be .&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2945" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2945"></td>
          <td id="LC2945" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>elif</span> <span class=pl-c1>not</span> <span class=pl-s1>is_bare</span> <span class=pl-c1>and</span> <span class=pl-s1>git_dir</span> <span class=pl-c1>!=</span> <span class=pl-s>b&#39;.git&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L2946" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2946"></td>
          <td id="LC2946" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;GIT_DIR must be .git&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2947" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2947"></td>
          <td id="LC2947" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2948" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2948"></td>
          <td id="LC2948" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Make sure that all reflogs have precisely one entry</span></td>
        </tr>
        <tr>
          <td id="L2949" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2949"></td>
          <td id="LC2949" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>reflog_dir</span><span class=pl-c1>=</span><span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>git_dir</span>, <span class=pl-s>b&#39;logs&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2950" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2950"></td>
          <td id="LC2950" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>root</span>, <span class=pl-s1>dirs</span>, <span class=pl-s1>files</span> <span class=pl-c1>in</span> <span class=pl-s1>os</span>.<span class=pl-en>walk</span>(<span class=pl-s1>reflog_dir</span>):</td>
        </tr>
        <tr>
          <td id="L2951" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2951"></td>
          <td id="LC2951" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>filename</span> <span class=pl-c1>in</span> <span class=pl-s1>files</span>:</td>
        </tr>
        <tr>
          <td id="L2952" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2952"></td>
          <td id="LC2952" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>pathname</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>root</span>, <span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L2953" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2953"></td>
          <td id="LC2953" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>pathname</span>, <span class=pl-s>&#39;br&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L2954" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2954"></td>
          <td id="LC2954" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>f</span>.<span class=pl-en>read</span>().<span class=pl-en>splitlines</span>()) <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span>:</td>
        </tr>
        <tr>
          <td id="L2955" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2955"></td>
          <td id="LC2955" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>shortpath</span> <span class=pl-c1>=</span> <span class=pl-s1>pathname</span>[<span class=pl-en>len</span>(<span class=pl-s1>reflog_dir</span>)<span class=pl-c1>+</span><span class=pl-c1>1</span>:]</td>
        </tr>
        <tr>
          <td id="L2956" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2956"></td>
          <td id="LC2956" class="blob-code blob-code-inner js-file-line">            <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;expected at most one entry in the reflog for %s&quot;</span>) <span class=pl-c1>%</span></td>
        </tr>
        <tr>
          <td id="L2957" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2957"></td>
          <td id="LC2957" class="blob-code blob-code-inner js-file-line">                  <span class=pl-en>decode</span>(<span class=pl-s1>shortpath</span>))</td>
        </tr>
        <tr>
          <td id="L2958" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2958"></td>
          <td id="LC2958" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2959" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2959"></td>
          <td id="LC2959" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Make sure there are no stashed changes</span></td>
        </tr>
        <tr>
          <td id="L2960" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2960"></td>
          <td id="LC2960" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s>b&#39;refs/stash&#39;</span> <span class=pl-c1>in</span> <span class=pl-s1>refs</span>:</td>
        </tr>
        <tr>
          <td id="L2961" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2961"></td>
          <td id="LC2961" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;has stashed changes&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2962" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2962"></td>
          <td id="LC2962" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2963" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2963"></td>
          <td id="LC2963" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Do extra checks in non-bare repos</span></td>
        </tr>
        <tr>
          <td id="L2964" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2964"></td>
          <td id="LC2964" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>is_bare</span>:</td>
        </tr>
        <tr>
          <td id="L2965" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2965"></td>
          <td id="LC2965" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Avoid uncommitted, unstaged, or untracked changes</span></td>
        </tr>
        <tr>
          <td id="L2966" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2966"></td>
          <td id="LC2966" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s>&#39;git diff --staged --quiet&#39;</span>.<span class=pl-en>split</span>()):</td>
        </tr>
        <tr>
          <td id="L2967" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2967"></td>
          <td id="LC2967" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;you have uncommitted changes&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2968" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2968"></td>
          <td id="LC2968" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s>&#39;git diff --quiet&#39;</span>.<span class=pl-en>split</span>()):</td>
        </tr>
        <tr>
          <td id="L2969" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2969"></td>
          <td id="LC2969" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;you have unstaged changes&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2970" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2970"></td>
          <td id="LC2970" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git ls-files -o&#39;</span>.<span class=pl-en>split</span>())) <span class=pl-c1>&gt;</span> <span class=pl-c1>0</span>:</td>
        </tr>
        <tr>
          <td id="L2971" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2971"></td>
          <td id="LC2971" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;you have untracked changes&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L2972" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2972"></td>
          <td id="LC2972" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2973" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2973"></td>
          <td id="LC2973" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Avoid unpushed changes</span></td>
        </tr>
        <tr>
          <td id="L2974" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2974"></td>
          <td id="LC2974" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>refname</span>, <span class=pl-s1>rev</span> <span class=pl-c1>in</span> <span class=pl-s1>refs</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L2975" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2975"></td>
          <td id="LC2975" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>refname</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;refs/heads/&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L2976" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2976"></td>
          <td id="LC2976" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L2977" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2977"></td>
          <td id="LC2977" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>origin_ref</span> <span class=pl-c1>=</span> <span class=pl-s1>refname</span>.<span class=pl-en>replace</span>(<span class=pl-s>b&#39;refs/heads/&#39;</span>, <span class=pl-s>b&#39;refs/remotes/origin/&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L2978" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2978"></td>
          <td id="LC2978" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>origin_ref</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>refs</span>:</td>
        </tr>
        <tr>
          <td id="L2979" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2979"></td>
          <td id="LC2979" class="blob-code blob-code-inner js-file-line">          <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&#39;%s exists, but %s not found&#39;</span>) <span class=pl-c1>%</span> (<span class=pl-en>decode</span>(<span class=pl-s1>refname</span>),</td>
        </tr>
        <tr>
          <td id="L2980" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2980"></td>
          <td id="LC2980" class="blob-code blob-code-inner js-file-line">                                                    <span class=pl-en>decode</span>(<span class=pl-s1>origin_ref</span>)))</td>
        </tr>
        <tr>
          <td id="L2981" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2981"></td>
          <td id="LC2981" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>rev</span> <span class=pl-c1>!=</span> <span class=pl-s1>refs</span>[<span class=pl-s1>origin_ref</span>]:</td>
        </tr>
        <tr>
          <td id="L2982" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2982"></td>
          <td id="LC2982" class="blob-code blob-code-inner js-file-line">          <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&#39;%s does not match %s&#39;</span>) <span class=pl-c1>%</span> (<span class=pl-en>decode</span>(<span class=pl-s1>refname</span>),</td>
        </tr>
        <tr>
          <td id="L2983" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2983"></td>
          <td id="LC2983" class="blob-code blob-code-inner js-file-line">                                             <span class=pl-en>decode</span>(<span class=pl-s1>origin_ref</span>)))</td>
        </tr>
        <tr>
          <td id="L2984" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2984"></td>
          <td id="LC2984" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2985" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2985"></td>
          <td id="LC2985" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Make sure there is only one worktree</span></td>
        </tr>
        <tr>
          <td id="L2986" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2986"></td>
          <td id="LC2986" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s>&#39;git worktree list&#39;</span>.<span class=pl-en>split</span>())</td>
        </tr>
        <tr>
          <td id="L2987" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2987"></td>
          <td id="LC2987" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>output</span>.<span class=pl-en>splitlines</span>()) <span class=pl-c1>&gt;</span> <span class=pl-c1>1</span>:</td>
        </tr>
        <tr>
          <td id="L2988" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2988"></td>
          <td id="LC2988" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>abort</span>(<span class=pl-en>_</span>(<span class=pl-s>&#39;you have multiple worktrees&#39;</span>))</td>
        </tr>
        <tr>
          <td id="L2989" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2989"></td>
          <td id="LC2989" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2990" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2990"></td>
          <td id="LC2990" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L2991" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2991"></td>
          <td id="LC2991" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>cleanup</span>(<span class=pl-s1>repo</span>, <span class=pl-s1>repack</span>, <span class=pl-s1>reset</span>, <span class=pl-s1>run_quietly</span><span class=pl-c1>=</span><span class=pl-c1>False</span>, <span class=pl-s1>show_debuginfo</span><span class=pl-c1>=</span><span class=pl-c1>False</span>):</td>
        </tr>
        <tr>
          <td id="L2992" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2992"></td>
          <td id="LC2992" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&#39;&#39;&#39; cleanup repo; if repack then expire reflogs and do a gc --prune=now.</span></td>
        </tr>
        <tr>
          <td id="L2993" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2993"></td>
          <td id="LC2993" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        if reset then do a reset --hard.  Optionally also curb output if</span></td>
        </tr>
        <tr>
          <td id="L2994" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2994"></td>
          <td id="LC2994" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        run_quietly is True, or go the opposite direction and show extra</span></td>
        </tr>
        <tr>
          <td id="L2995" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2995"></td>
          <td id="LC2995" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        output if show_debuginfo is True. &#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L2996" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2996"></td>
          <td id="LC2996" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-c1>not</span> (<span class=pl-s1>run_quietly</span> <span class=pl-c1>and</span> <span class=pl-s1>show_debuginfo</span>)</td>
        </tr>
        <tr>
          <td id="L2997" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2997"></td>
          <td id="LC2997" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L2998" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2998"></td>
          <td id="LC2998" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> (<span class=pl-s1>repack</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>run_quietly</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>show_debuginfo</span>):</td>
        </tr>
        <tr>
          <td id="L2999" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="2999"></td>
          <td id="LC2999" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Repacking your repo and cleaning out old unneeded objects&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L3000" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3000"></td>
          <td id="LC3000" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>quiet_flags</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;--quiet&#39;</span> <span class=pl-k>if</span> <span class=pl-s1>run_quietly</span> <span class=pl-k>else</span> <span class=pl-s>&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3001" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3001"></td>
          <td id="LC3001" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cleanup_cmds</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L3002" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3002"></td>
          <td id="LC3002" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>repack</span>:</td>
        </tr>
        <tr>
          <td id="L3003" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3003"></td>
          <td id="LC3003" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>cleanup_cmds</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git reflog expire --expire=now --all&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L3004" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3004"></td>
          <td id="LC3004" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s>&#39;git gc {} --prune=now&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>quiet_flags</span>).<span class=pl-en>split</span>()]</td>
        </tr>
        <tr>
          <td id="L3005" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3005"></td>
          <td id="LC3005" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>reset</span>:</td>
        </tr>
        <tr>
          <td id="L3006" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3006"></td>
          <td id="LC3006" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>cleanup_cmds</span>.<span class=pl-en>insert</span>(<span class=pl-c1>0</span>, <span class=pl-s>&#39;git reset {} --hard&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>quiet_flags</span>).<span class=pl-en>split</span>())</td>
        </tr>
        <tr>
          <td id="L3007" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3007"></td>
          <td id="LC3007" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>location_info</span> <span class=pl-c1>=</span> <span class=pl-s>&#39; (in {})&#39;</span>.<span class=pl-en>format</span>(<span class=pl-en>decode</span>(<span class=pl-s1>repo</span>)) <span class=pl-k>if</span> <span class=pl-s1>repo</span> <span class=pl-c1>!=</span> <span class=pl-s>b&#39;.&#39;</span> <span class=pl-k>else</span> <span class=pl-s>&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3008" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3008"></td>
          <td id="LC3008" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>cmd</span> <span class=pl-c1>in</span> <span class=pl-s1>cleanup_cmds</span>:</td>
        </tr>
        <tr>
          <td id="L3009" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3009"></td>
          <td id="LC3009" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>show_debuginfo</span>:</td>
        </tr>
        <tr>
          <td id="L3010" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3010"></td>
          <td id="LC3010" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Running{}: {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>location_info</span>, <span class=pl-s>&#39; &#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>cmd</span>)))</td>
        </tr>
        <tr>
          <td id="L3011" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3011"></td>
          <td id="LC3011" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>repo</span>)</td>
        </tr>
        <tr>
          <td id="L3012" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3012"></td>
          <td id="LC3012" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3013" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3013"></td>
          <td id="LC3013" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_get_rename</span>(<span class=pl-s1>self</span>, <span class=pl-s1>old_hash</span>):</td>
        </tr>
        <tr>
          <td id="L3014" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3014"></td>
          <td id="LC3014" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If we already know the rename, just return it</span></td>
        </tr>
        <tr>
          <td id="L3015" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3015"></td>
          <td id="LC3015" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>.<span class=pl-en>get</span>(<span class=pl-s1>old_hash</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L3016" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3016"></td>
          <td id="LC3016" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>new_hash</span>:</td>
        </tr>
        <tr>
          <td id="L3017" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3017"></td>
          <td id="LC3017" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>new_hash</span></td>
        </tr>
        <tr>
          <td id="L3018" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3018"></td>
          <td id="LC3018" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3019" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3019"></td>
          <td id="LC3019" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If it&#39;s not in the remaining pending renames, we don&#39;t know it</span></td>
        </tr>
        <tr>
          <td id="L3020" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3020"></td>
          <td id="LC3020" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>old_hash</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span> <span class=pl-s1>old_hash</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>:</td>
        </tr>
        <tr>
          <td id="L3021" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3021"></td>
          <td id="LC3021" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3022" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3022"></td>
          <td id="LC3022" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3023" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3023"></td>
          <td id="LC3023" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Read through the pending renames until we find it or we&#39;ve read them all,</span></td>
        </tr>
        <tr>
          <td id="L3024" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3024"></td>
          <td id="LC3024" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># and return whatever we might find</span></td>
        </tr>
        <tr>
          <td id="L3025" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3025"></td>
          <td id="LC3025" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_flush_renames</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3026" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3026"></td>
          <td id="LC3026" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>.<span class=pl-en>get</span>(<span class=pl-s1>old_hash</span>, <span class=pl-c1>None</span>)</td>
        </tr>
        <tr>
          <td id="L3027" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3027"></td>
          <td id="LC3027" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3028" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3028"></td>
          <td id="LC3028" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_flush_renames</span>(<span class=pl-s1>self</span>, <span class=pl-s1>old_hash</span><span class=pl-c1>=</span><span class=pl-c1>None</span>, <span class=pl-s1>limit</span><span class=pl-c1>=</span><span class=pl-c1>0</span>):</td>
        </tr>
        <tr>
          <td id="L3029" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3029"></td>
          <td id="LC3029" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Parse through self._pending_renames until we have read enough.  We have</span></td>
        </tr>
        <tr>
          <td id="L3030" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3030"></td>
          <td id="LC3030" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># read enough if:</span></td>
        </tr>
        <tr>
          <td id="L3031" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3031"></td>
          <td id="LC3031" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   self._pending_renames is empty</span></td>
        </tr>
        <tr>
          <td id="L3032" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3032"></td>
          <td id="LC3032" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   old_hash != None and we found a rename for old_hash</span></td>
        </tr>
        <tr>
          <td id="L3033" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3033"></td>
          <td id="LC3033" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   limit &gt; 0 and len(self._pending_renames) started less than 2*limit</span></td>
        </tr>
        <tr>
          <td id="L3034" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3034"></td>
          <td id="LC3034" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   limit &gt; 0 and len(self._pending_renames) &lt; limit</span></td>
        </tr>
        <tr>
          <td id="L3035" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3035"></td>
          <td id="LC3035" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>limit</span> <span class=pl-c1>and</span> <span class=pl-en>len</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span> <span class=pl-c1>*</span> <span class=pl-s1>limit</span>:</td>
        </tr>
        <tr>
          <td id="L3036" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3036"></td>
          <td id="LC3036" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3037" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3037"></td>
          <td id="LC3037" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>fi_input</span>, <span class=pl-s1>fi_output</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span></td>
        </tr>
        <tr>
          <td id="L3038" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3038"></td>
          <td id="LC3038" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>while</span> <span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>:</td>
        </tr>
        <tr>
          <td id="L3039" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3039"></td>
          <td id="LC3039" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_id</span>, <span class=pl-s1>ignore</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>.<span class=pl-en>popitem</span>(<span class=pl-s1>last</span><span class=pl-c1>=</span><span class=pl-c1>False</span>)</td>
        </tr>
        <tr>
          <td id="L3040" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3040"></td>
          <td id="LC3040" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_id</span> <span class=pl-c1>=</span> <span class=pl-s1>fi_output</span>.<span class=pl-en>readline</span>().<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L3041" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3041"></td>
          <td id="LC3041" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>[<span class=pl-s1>orig_id</span>] <span class=pl-c1>=</span> <span class=pl-s1>new_id</span></td>
        </tr>
        <tr>
          <td id="L3042" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3042"></td>
          <td id="LC3042" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>old_hash</span> <span class=pl-c1>==</span> <span class=pl-s1>orig_id</span>:</td>
        </tr>
        <tr>
          <td id="L3043" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3043"></td>
          <td id="LC3043" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3044" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3044"></td>
          <td id="LC3044" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>limit</span> <span class=pl-c1>and</span> <span class=pl-en>len</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>) <span class=pl-c1>&lt;</span> <span class=pl-s1>limit</span>:</td>
        </tr>
        <tr>
          <td id="L3045" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3045"></td>
          <td id="LC3045" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3046" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3046"></td>
          <td id="LC3046" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3047" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3047"></td>
          <td id="LC3047" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_translate_commit_hash</span>(<span class=pl-s1>self</span>, <span class=pl-s1>matchobj_or_oldhash</span>):</td>
        </tr>
        <tr>
          <td id="L3048" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3048"></td>
          <td id="LC3048" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>matchobj_or_oldhash</span></td>
        </tr>
        <tr>
          <td id="L3049" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3049"></td>
          <td id="LC3049" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>matchobj_or_oldhash</span>, <span class=pl-s1>bytes</span>):</td>
        </tr>
        <tr>
          <td id="L3050" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3050"></td>
          <td id="LC3050" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>old_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>matchobj_or_oldhash</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3051" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3051"></td>
          <td id="LC3051" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>orig_len</span> <span class=pl-c1>=</span> <span class=pl-en>len</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3052" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3052"></td>
          <td id="LC3052" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_get_rename</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3053" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3053"></td>
          <td id="LC3053" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>new_hash</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span>:</td>
        </tr>
        <tr>
          <td id="L3054" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3054"></td>
          <td id="LC3054" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>old_hash</span>[<span class=pl-c1>0</span>:<span class=pl-c1>7</span>] <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_short_old_hashes</span>:</td>
        </tr>
        <tr>
          <td id="L3055" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3055"></td>
          <td id="LC3055" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_commits_referenced_but_removed</span>.<span class=pl-en>add</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3056" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3056"></td>
          <td id="LC3056" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>old_hash</span></td>
        </tr>
        <tr>
          <td id="L3057" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3057"></td>
          <td id="LC3057" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>possibilities</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_short_old_hashes</span>[<span class=pl-s1>old_hash</span>[<span class=pl-c1>0</span>:<span class=pl-c1>7</span>]]</td>
        </tr>
        <tr>
          <td id="L3058" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3058"></td>
          <td id="LC3058" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>matches</span> <span class=pl-c1>=</span> [<span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>possibilities</span></td>
        </tr>
        <tr>
          <td id="L3059" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3059"></td>
          <td id="LC3059" class="blob-code blob-code-inner js-file-line">                 <span class=pl-k>if</span> <span class=pl-s1>x</span>[<span class=pl-c1>0</span>:<span class=pl-s1>orig_len</span>] <span class=pl-c1>==</span> <span class=pl-s1>old_hash</span>]</td>
        </tr>
        <tr>
          <td id="L3060" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3060"></td>
          <td id="LC3060" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>matches</span>) <span class=pl-c1>!=</span> <span class=pl-c1>1</span>:</td>
        </tr>
        <tr>
          <td id="L3061" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3061"></td>
          <td id="LC3061" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_commits_referenced_but_removed</span>.<span class=pl-en>add</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3062" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3062"></td>
          <td id="LC3062" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-s1>old_hash</span></td>
        </tr>
        <tr>
          <td id="L3063" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3063"></td>
          <td id="LC3063" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>old_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>matches</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L3064" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3064"></td>
          <td id="LC3064" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_get_rename</span>(<span class=pl-s1>old_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3065" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3065"></td>
          <td id="LC3065" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3066" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3066"></td>
          <td id="LC3066" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>new_hash</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3067" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3067"></td>
          <td id="LC3067" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>new_hash</span>[<span class=pl-c1>0</span>:<span class=pl-s1>orig_len</span>]</td>
        </tr>
        <tr>
          <td id="L3068" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3068"></td>
          <td id="LC3068" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3069" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3069"></td>
          <td id="LC3069" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_trim_extra_parents</span>(<span class=pl-s1>self</span>, <span class=pl-s1>orig_parents</span>, <span class=pl-s1>parents</span>):</td>
        </tr>
        <tr>
          <td id="L3070" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3070"></td>
          <td id="LC3070" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&#39;&#39;&#39;Due to pruning of empty commits, some parents could be non-existent</span></td>
        </tr>
        <tr>
          <td id="L3071" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3071"></td>
          <td id="LC3071" class="blob-code blob-code-inner js-file-line"><span class=pl-s>       (None) or otherwise redundant.  Remove the non-existent parents, and</span></td>
        </tr>
        <tr>
          <td id="L3072" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3072"></td>
          <td id="LC3072" class="blob-code blob-code-inner js-file-line"><span class=pl-s>       remove redundant parents so long as that doesn&#39;t transform a merge</span></td>
        </tr>
        <tr>
          <td id="L3073" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3073"></td>
          <td id="LC3073" class="blob-code blob-code-inner js-file-line"><span class=pl-s>       commit into a non-merge commit.</span></td>
        </tr>
        <tr>
          <td id="L3074" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3074"></td>
          <td id="LC3074" class="blob-code blob-code-inner js-file-line"><span class=pl-s></span></td>
        </tr>
        <tr>
          <td id="L3075" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3075"></td>
          <td id="LC3075" class="blob-code blob-code-inner js-file-line"><span class=pl-s>       Returns a tuple:</span></td>
        </tr>
        <tr>
          <td id="L3076" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3076"></td>
          <td id="LC3076" class="blob-code blob-code-inner js-file-line"><span class=pl-s>         (parents, new_first_parent_if_would_become_non_merge)&#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3077" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3077"></td>
          <td id="LC3077" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3078" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3078"></td>
          <td id="LC3078" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>always_prune</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>prune_degenerate</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;always&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3079" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3079"></td>
          <td id="LC3079" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3080" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3080"></td>
          <td id="LC3080" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Pruning of empty commits means multiple things:</span></td>
        </tr>
        <tr>
          <td id="L3081" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3081"></td>
          <td id="LC3081" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * An original parent of this commit may have been pruned causing the</span></td>
        </tr>
        <tr>
          <td id="L3082" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3082"></td>
          <td id="LC3082" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     need to rewrite the reported parent to the nearest ancestor.  We</span></td>
        </tr>
        <tr>
          <td id="L3083" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3083"></td>
          <td id="LC3083" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     want to know when we&#39;re dealing with such a parent.</span></td>
        </tr>
        <tr>
          <td id="L3084" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3084"></td>
          <td id="LC3084" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   * Further, there may be no &quot;nearest ancestor&quot; if the entire history</span></td>
        </tr>
        <tr>
          <td id="L3085" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3085"></td>
          <td id="LC3085" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     of that parent was also pruned.  (Detectable by the parent being</span></td>
        </tr>
        <tr>
          <td id="L3086" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3086"></td>
          <td id="LC3086" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     &#39;None&#39;)</span></td>
        </tr>
        <tr>
          <td id="L3087" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3087"></td>
          <td id="LC3087" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Remove all parents rewritten to None, and keep track of which parents</span></td>
        </tr>
        <tr>
          <td id="L3088" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3088"></td>
          <td id="LC3088" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># were rewritten to an ancestor.</span></td>
        </tr>
        <tr>
          <td id="L3089" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3089"></td>
          <td id="LC3089" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tmp</span> <span class=pl-c1>=</span> <span class=pl-en>zip</span>(<span class=pl-s1>parents</span>,</td>
        </tr>
        <tr>
          <td id="L3090" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3090"></td>
          <td id="LC3090" class="blob-code blob-code-inner js-file-line">              <span class=pl-s1>orig_parents</span>,</td>
        </tr>
        <tr>
          <td id="L3091" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3091"></td>
          <td id="LC3091" class="blob-code blob-code-inner js-file-line">              [(<span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>_SKIPPED_COMMITS</span> <span class=pl-c1>or</span> <span class=pl-s1>always_prune</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>orig_parents</span>])</td>
        </tr>
        <tr>
          <td id="L3092" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3092"></td>
          <td id="LC3092" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tmp2</span> <span class=pl-c1>=</span> [<span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>tmp</span> <span class=pl-k>if</span> <span class=pl-s1>x</span>[<span class=pl-c1>0</span>] <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>]</td>
        </tr>
        <tr>
          <td id="L3093" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3093"></td>
          <td id="LC3093" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>tmp2</span>:</td>
        </tr>
        <tr>
          <td id="L3094" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3094"></td>
          <td id="LC3094" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># All ancestors have been pruned; we have no parents.</span></td>
        </tr>
        <tr>
          <td id="L3095" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3095"></td>
          <td id="LC3095" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> [], <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3096" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3096"></td>
          <td id="LC3096" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>, <span class=pl-s1>orig_parents</span>, <span class=pl-s1>is_rewritten</span> <span class=pl-c1>=</span> [<span class=pl-en>list</span>(<span class=pl-s1>x</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-en>zip</span>(<span class=pl-c1>*</span><span class=pl-s1>tmp2</span>)]</td>
        </tr>
        <tr>
          <td id="L3097" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3097"></td>
          <td id="LC3097" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3098" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3098"></td>
          <td id="LC3098" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># We can&#39;t have redundant parents if we don&#39;t have at least 2 parents</span></td>
        </tr>
        <tr>
          <td id="L3099" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3099"></td>
          <td id="LC3099" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L3100" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3100"></td>
          <td id="LC3100" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>parents</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3101" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3101"></td>
          <td id="LC3101" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3102" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3102"></td>
          <td id="LC3102" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Don&#39;t remove redundant parents if user doesn&#39;t want us to</span></td>
        </tr>
        <tr>
          <td id="L3103" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3103"></td>
          <td id="LC3103" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>prune_degenerate</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;never&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3104" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3104"></td>
          <td id="LC3104" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>parents</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3105" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3105"></td>
          <td id="LC3105" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3106" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3106"></td>
          <td id="LC3106" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Remove duplicate parents (if both sides of history have lots of commits</span></td>
        </tr>
        <tr>
          <td id="L3107" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3107"></td>
          <td id="LC3107" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># which become empty due to pruning, the most recent ancestor on both</span></td>
        </tr>
        <tr>
          <td id="L3108" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3108"></td>
          <td id="LC3108" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># sides may be the same commit), except only remove parents that have</span></td>
        </tr>
        <tr>
          <td id="L3109" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3109"></td>
          <td id="LC3109" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># been rewritten due to previous empty pruning.</span></td>
        </tr>
        <tr>
          <td id="L3110" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3110"></td>
          <td id="LC3110" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>seen</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L3111" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3111"></td>
          <td id="LC3111" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>seen_add</span> <span class=pl-c1>=</span> <span class=pl-s1>seen</span>.<span class=pl-s1>add</span></td>
        </tr>
        <tr>
          <td id="L3112" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3112"></td>
          <td id="LC3112" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Deleting duplicate rewritten parents means keeping parents if either</span></td>
        </tr>
        <tr>
          <td id="L3113" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3113"></td>
          <td id="LC3113" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># they have not been seen or they are ones that have not been rewritten.</span></td>
        </tr>
        <tr>
          <td id="L3114" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3114"></td>
          <td id="LC3114" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents_copy</span> <span class=pl-c1>=</span> <span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L3115" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3115"></td>
          <td id="LC3115" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>uniq</span> <span class=pl-c1>=</span> [[<span class=pl-s1>p</span>, <span class=pl-s1>orig_parents</span>[<span class=pl-s1>i</span>], <span class=pl-s1>is_rewritten</span>[<span class=pl-s1>i</span>]] <span class=pl-k>for</span> <span class=pl-s1>i</span>, <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-en>enumerate</span>(<span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L3116" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3116"></td>
          <td id="LC3116" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>if</span> <span class=pl-c1>not</span> (<span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>seen</span> <span class=pl-c1>or</span> <span class=pl-en>seen_add</span>(<span class=pl-s1>p</span>)) <span class=pl-c1>or</span> <span class=pl-c1>not</span> <span class=pl-s1>is_rewritten</span>[<span class=pl-s1>i</span>]]</td>
        </tr>
        <tr>
          <td id="L3117" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3117"></td>
          <td id="LC3117" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>, <span class=pl-s1>orig_parents</span>, <span class=pl-s1>is_rewritten</span> <span class=pl-c1>=</span> [<span class=pl-en>list</span>(<span class=pl-s1>x</span>) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-en>zip</span>(<span class=pl-c1>*</span><span class=pl-s1>uniq</span>)]</td>
        </tr>
        <tr>
          <td id="L3118" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3118"></td>
          <td id="LC3118" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L3119" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3119"></td>
          <td id="LC3119" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>parents_copy</span>, <span class=pl-s1>parents</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L3120" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3120"></td>
          <td id="LC3120" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3121" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3121"></td>
          <td id="LC3121" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Flatten unnecessary merges.  (If one side of history is entirely</span></td>
        </tr>
        <tr>
          <td id="L3122" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3122"></td>
          <td id="LC3122" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># empty commits that were pruned, we may end up attempting to</span></td>
        </tr>
        <tr>
          <td id="L3123" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3123"></td>
          <td id="LC3123" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># merge a commit with its ancestor.  Remove parents that are an</span></td>
        </tr>
        <tr>
          <td id="L3124" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3124"></td>
          <td id="LC3124" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># ancestor of another parent.)</span></td>
        </tr>
        <tr>
          <td id="L3125" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3125"></td>
          <td id="LC3125" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>num_parents</span> <span class=pl-c1>=</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L3126" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3126"></td>
          <td id="LC3126" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>to_remove</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L3127" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3127"></td>
          <td id="LC3127" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>cur</span> <span class=pl-c1>in</span> <span class=pl-en>range</span>(<span class=pl-s1>num_parents</span>):</td>
        </tr>
        <tr>
          <td id="L3128" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3128"></td>
          <td id="LC3128" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>is_rewritten</span>[<span class=pl-s1>cur</span>]:</td>
        </tr>
        <tr>
          <td id="L3129" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3129"></td>
          <td id="LC3129" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3130" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3130"></td>
          <td id="LC3130" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>other</span> <span class=pl-c1>in</span> <span class=pl-en>range</span>(<span class=pl-s1>num_parents</span>):</td>
        </tr>
        <tr>
          <td id="L3131" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3131"></td>
          <td id="LC3131" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>cur</span> <span class=pl-c1>==</span> <span class=pl-s1>other</span>:</td>
        </tr>
        <tr>
          <td id="L3132" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3132"></td>
          <td id="LC3132" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3133" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3133"></td>
          <td id="LC3133" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_graph</span>.<span class=pl-en>is_ancestor</span>(<span class=pl-s1>parents</span>[<span class=pl-s1>cur</span>], <span class=pl-s1>parents</span>[<span class=pl-s1>other</span>]):</td>
        </tr>
        <tr>
          <td id="L3134" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3134"></td>
          <td id="LC3134" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3135" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3135"></td>
          <td id="LC3135" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># parents[cur] is an ancestor of parents[other], so parents[cur]</span></td>
        </tr>
        <tr>
          <td id="L3136" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3136"></td>
          <td id="LC3136" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># seems redundant.  However, if it was intentionally redundant</span></td>
        </tr>
        <tr>
          <td id="L3137" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3137"></td>
          <td id="LC3137" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># (e.g. a no-ff merge) in the original, then we want to keep it.</span></td>
        </tr>
        <tr>
          <td id="L3138" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3138"></td>
          <td id="LC3138" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>always_prune</span> <span class=pl-c1>and</span> \</td>
        </tr>
        <tr>
          <td id="L3139" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3139"></td>
          <td id="LC3139" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>self</span>.<span class=pl-s1>_orig_graph</span>.<span class=pl-en>is_ancestor</span>(<span class=pl-s1>orig_parents</span>[<span class=pl-s1>cur</span>],</td>
        </tr>
        <tr>
          <td id="L3140" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3140"></td>
          <td id="LC3140" class="blob-code blob-code-inner js-file-line">                                        <span class=pl-s1>orig_parents</span>[<span class=pl-s1>other</span>]):</td>
        </tr>
        <tr>
          <td id="L3141" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3141"></td>
          <td id="LC3141" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3142" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3142"></td>
          <td id="LC3142" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Some folks want their history to have all first parents be merge</span></td>
        </tr>
        <tr>
          <td id="L3143" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3143"></td>
          <td id="LC3143" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># commits (except for any root commits), and always do a merge --no-ff.</span></td>
        </tr>
        <tr>
          <td id="L3144" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3144"></td>
          <td id="LC3144" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># For such folks, don&#39;t remove the first parent even if it&#39;s an</span></td>
        </tr>
        <tr>
          <td id="L3145" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3145"></td>
          <td id="LC3145" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># ancestor of other commits.</span></td>
        </tr>
        <tr>
          <td id="L3146" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3146"></td>
          <td id="LC3146" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>no_ff</span> <span class=pl-c1>and</span> <span class=pl-s1>cur</span> <span class=pl-c1>==</span> <span class=pl-c1>0</span>:</td>
        </tr>
        <tr>
          <td id="L3147" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3147"></td>
          <td id="LC3147" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3148" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3148"></td>
          <td id="LC3148" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Okay so the cur-th parent is an ancestor of the other-th parent,</span></td>
        </tr>
        <tr>
          <td id="L3149" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3149"></td>
          <td id="LC3149" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># and it wasn&#39;t that way in the original repository; mark the</span></td>
        </tr>
        <tr>
          <td id="L3150" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3150"></td>
          <td id="LC3150" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># cur-th parent as removable.</span></td>
        </tr>
        <tr>
          <td id="L3151" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3151"></td>
          <td id="LC3151" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>to_remove</span>.<span class=pl-en>append</span>(<span class=pl-s1>cur</span>)</td>
        </tr>
        <tr>
          <td id="L3152" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3152"></td>
          <td id="LC3152" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>break</span> <span class=pl-c># cur removed, so skip rest of others -- i.e. check cur+=1</span></td>
        </tr>
        <tr>
          <td id="L3153" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3153"></td>
          <td id="LC3153" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-en>reversed</span>(<span class=pl-s1>to_remove</span>):</td>
        </tr>
        <tr>
          <td id="L3154" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3154"></td>
          <td id="LC3154" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parents</span>.<span class=pl-en>pop</span>(<span class=pl-s1>x</span>)</td>
        </tr>
        <tr>
          <td id="L3155" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3155"></td>
          <td id="LC3155" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L3156" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3156"></td>
          <td id="LC3156" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>parents_copy</span>, <span class=pl-s1>parents</span>[<span class=pl-c1>0</span>]</td>
        </tr>
        <tr>
          <td id="L3157" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3157"></td>
          <td id="LC3157" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3158" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3158"></td>
          <td id="LC3158" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>parents</span>, <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3159" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3159"></td>
          <td id="LC3159" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3160" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3160"></td>
          <td id="LC3160" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_prunable</span>(<span class=pl-s1>self</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>new_1st_parent</span>, <span class=pl-s1>had_file_changes</span>, <span class=pl-s1>orig_parents</span>):</td>
        </tr>
        <tr>
          <td id="L3161" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3161"></td>
          <td id="LC3161" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span> <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L3162" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3162"></td>
          <td id="LC3162" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3163" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3163"></td>
          <td id="LC3163" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>prune_empty</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;never&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3164" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3164"></td>
          <td id="LC3164" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3165" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3165"></td>
          <td id="LC3165" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>always_prune</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>prune_empty</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;always&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3166" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3166"></td>
          <td id="LC3166" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3167" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3167"></td>
          <td id="LC3167" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># For merge commits, unless there are prunable (redundant) parents, we</span></td>
        </tr>
        <tr>
          <td id="L3168" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3168"></td>
          <td id="LC3168" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># do not want to prune</span></td>
        </tr>
        <tr>
          <td id="L3169" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3169"></td>
          <td id="LC3169" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&gt;=</span> <span class=pl-c1>2</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>new_1st_parent</span>:</td>
        </tr>
        <tr>
          <td id="L3170" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3170"></td>
          <td id="LC3170" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3171" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3171"></td>
          <td id="LC3171" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3172" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3172"></td>
          <td id="LC3172" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L3173" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3173"></td>
          <td id="LC3173" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Special logic for commits that started empty...</span></td>
        </tr>
        <tr>
          <td id="L3174" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3174"></td>
          <td id="LC3174" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>had_file_changes</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>always_prune</span>:</td>
        </tr>
        <tr>
          <td id="L3175" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3175"></td>
          <td id="LC3175" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>had_parents_pruned</span> <span class=pl-c1>=</span> (<span class=pl-en>len</span>(<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-en>len</span>(<span class=pl-s1>orig_parents</span>) <span class=pl-c1>or</span></td>
        </tr>
        <tr>
          <td id="L3176" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3176"></td>
          <td id="LC3176" class="blob-code blob-code-inner js-file-line">                              (<span class=pl-en>len</span>(<span class=pl-s1>orig_parents</span>) <span class=pl-c1>==</span> <span class=pl-c1>1</span> <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3177" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3177"></td>
          <td id="LC3177" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s1>orig_parents</span>[<span class=pl-c1>0</span>] <span class=pl-c1>in</span> <span class=pl-s1>_SKIPPED_COMMITS</span>))</td>
        </tr>
        <tr>
          <td id="L3178" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3178"></td>
          <td id="LC3178" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># If the commit remains empty and had parents which were pruned,</span></td>
        </tr>
        <tr>
          <td id="L3179" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3179"></td>
          <td id="LC3179" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># then prune this commit; otherwise, retain it</span></td>
        </tr>
        <tr>
          <td id="L3180" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3180"></td>
          <td id="LC3180" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> (<span class=pl-c1>not</span> <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span> <span class=pl-c1>and</span> <span class=pl-s1>had_parents_pruned</span>)</td>
        </tr>
        <tr>
          <td id="L3181" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3181"></td>
          <td id="LC3181" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3182" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3182"></td>
          <td id="LC3182" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># We can only get here if the commit didn&#39;t start empty, so if it&#39;s</span></td>
        </tr>
        <tr>
          <td id="L3183" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3183"></td>
          <td id="LC3183" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># empty now, it obviously became empty</span></td>
        </tr>
        <tr>
          <td id="L3184" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3184"></td>
          <td id="LC3184" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L3185" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3185"></td>
          <td id="LC3185" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3186" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3186"></td>
          <td id="LC3186" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3187" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3187"></td>
          <td id="LC3187" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If there are no parents of this commit and we didn&#39;t match the case</span></td>
        </tr>
        <tr>
          <td id="L3188" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3188"></td>
          <td id="LC3188" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># above, then this commit cannot be pruned.  Since we have no parent(s)</span></td>
        </tr>
        <tr>
          <td id="L3189" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3189"></td>
          <td id="LC3189" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># to compare to, abort now to prevent future checks from failing.</span></td>
        </tr>
        <tr>
          <td id="L3190" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3190"></td>
          <td id="LC3190" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>parents</span>:</td>
        </tr>
        <tr>
          <td id="L3191" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3191"></td>
          <td id="LC3191" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3192" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3192"></td>
          <td id="LC3192" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3193" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3193"></td>
          <td id="LC3193" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Similarly, we cannot handle the hard cases if we don&#39;t have a pipe</span></td>
        </tr>
        <tr>
          <td id="L3194" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3194"></td>
          <td id="LC3194" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># to communicate with fast-import</span></td>
        </tr>
        <tr>
          <td id="L3195" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3195"></td>
          <td id="LC3195" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span>:</td>
        </tr>
        <tr>
          <td id="L3196" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3196"></td>
          <td id="LC3196" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3197" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3197"></td>
          <td id="LC3197" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3198" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3198"></td>
          <td id="LC3198" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If there have not been renames/remappings of IDs (due to insertion of</span></td>
        </tr>
        <tr>
          <td id="L3199" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3199"></td>
          <td id="LC3199" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># new blobs), then we can sometimes know things aren&#39;t prunable with a</span></td>
        </tr>
        <tr>
          <td id="L3200" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3200"></td>
          <td id="LC3200" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># simple check</span></td>
        </tr>
        <tr>
          <td id="L3201" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3201"></td>
          <td id="LC3201" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>_IDS</span>.<span class=pl-en>has_renames</span>():</td>
        </tr>
        <tr>
          <td id="L3202" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3202"></td>
          <td id="LC3202" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># non-merge commits can only be empty if blob/file-change editing caused</span></td>
        </tr>
        <tr>
          <td id="L3203" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3203"></td>
          <td id="LC3203" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># all file changes in the commit to have the same file contents as</span></td>
        </tr>
        <tr>
          <td id="L3204" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3204"></td>
          <td id="LC3204" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># the parent.</span></td>
        </tr>
        <tr>
          <td id="L3205" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3205"></td>
          <td id="LC3205" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>changed_files</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-k>for</span> <span class=pl-s1>change</span> <span class=pl-c1>in</span> <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3206" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3206"></td>
          <td id="LC3206" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>orig_parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span> <span class=pl-c1>and</span> <span class=pl-s1>changed_files</span> <span class=pl-c1>-</span> <span class=pl-s1>self</span>.<span class=pl-s1>_files_tweaked</span>:</td>
        </tr>
        <tr>
          <td id="L3207" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3207"></td>
          <td id="LC3207" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3208" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3208"></td>
          <td id="LC3208" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3209" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3209"></td>
          <td id="LC3209" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Finally, the hard case: due to either blob rewriting, or due to pruning</span></td>
        </tr>
        <tr>
          <td id="L3210" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3210"></td>
          <td id="LC3210" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># of empty commits wiping out the first parent history back to the merge</span></td>
        </tr>
        <tr>
          <td id="L3211" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3211"></td>
          <td id="LC3211" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># base, the list of file_changes we have may not actually differ from our</span></td>
        </tr>
        <tr>
          <td id="L3212" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3212"></td>
          <td id="LC3212" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># (new) first parent&#39;s version of the files, i.e. this would actually be</span></td>
        </tr>
        <tr>
          <td id="L3213" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3213"></td>
          <td id="LC3213" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># an empty commit.  Check by comparing the contents of this commit to its</span></td>
        </tr>
        <tr>
          <td id="L3214" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3214"></td>
          <td id="LC3214" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># (remaining) parent.</span></td>
        </tr>
        <tr>
          <td id="L3215" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3215"></td>
          <td id="LC3215" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#</span></td>
        </tr>
        <tr>
          <td id="L3216" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3216"></td>
          <td id="LC3216" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># NOTE on why this works, for the case of original first parent history</span></td>
        </tr>
        <tr>
          <td id="L3217" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3217"></td>
          <td id="LC3217" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># having been pruned away due to being empty:</span></td>
        </tr>
        <tr>
          <td id="L3218" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3218"></td>
          <td id="LC3218" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     The first parent history having been pruned away due to being</span></td>
        </tr>
        <tr>
          <td id="L3219" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3219"></td>
          <td id="LC3219" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     empty implies the original first parent would have a tree (after</span></td>
        </tr>
        <tr>
          <td id="L3220" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3220"></td>
          <td id="LC3220" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     filtering) that matched the merge base&#39;s tree.  Since</span></td>
        </tr>
        <tr>
          <td id="L3221" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3221"></td>
          <td id="LC3221" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     file_changes has the changes needed to go from what would have</span></td>
        </tr>
        <tr>
          <td id="L3222" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3222"></td>
          <td id="LC3222" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     been the first parent to our new commit, and what would have been</span></td>
        </tr>
        <tr>
          <td id="L3223" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3223"></td>
          <td id="LC3223" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     our first parent has a tree that matches the merge base, then if</span></td>
        </tr>
        <tr>
          <td id="L3224" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3224"></td>
          <td id="LC3224" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     the new first parent has a tree matching the versions of files in</span></td>
        </tr>
        <tr>
          <td id="L3225" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3225"></td>
          <td id="LC3225" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#     file_changes, then this new commit is empty and thus prunable.</span></td>
        </tr>
        <tr>
          <td id="L3226" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3226"></td>
          <td id="LC3226" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>fi_input</span>, <span class=pl-s1>fi_output</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span></td>
        </tr>
        <tr>
          <td id="L3227" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3227"></td>
          <td id="LC3227" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_flush_renames</span>()  <span class=pl-c># Avoid fi_output having other stuff present</span></td>
        </tr>
        <tr>
          <td id="L3228" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3228"></td>
          <td id="LC3228" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Optimization note: we could have two loops over file_changes, the</span></td>
        </tr>
        <tr>
          <td id="L3229" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3229"></td>
          <td id="LC3229" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># first doing all the self._output.write() calls, and the second doing</span></td>
        </tr>
        <tr>
          <td id="L3230" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3230"></td>
          <td id="LC3230" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># the rest.  But I&#39;m worried about fast-import blocking on fi_output</span></td>
        </tr>
        <tr>
          <td id="L3231" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3231"></td>
          <td id="LC3231" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># buffers filling up so I instead read from it as I go.</span></td>
        </tr>
        <tr>
          <td id="L3232" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3232"></td>
          <td id="LC3232" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>change</span> <span class=pl-c1>in</span> <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L3233" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3233"></td>
          <td id="LC3233" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parent</span> <span class=pl-c1>=</span> <span class=pl-s1>new_1st_parent</span> <span class=pl-c1>or</span> <span class=pl-s1>commit</span>.<span class=pl-s1>parents</span>[<span class=pl-c1>0</span>] <span class=pl-c># exists due to above checks</span></td>
        </tr>
        <tr>
          <td id="L3234" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3234"></td>
          <td id="LC3234" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>quoted_filename</span> <span class=pl-c1>=</span> <span class=pl-v>PathQuoting</span>.<span class=pl-en>enquote</span>(<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L3235" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3235"></td>
          <td id="LC3235" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>parent</span>, <span class=pl-s1>int</span>):</td>
        </tr>
        <tr>
          <td id="L3236" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3236"></td>
          <td id="LC3236" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;ls :%d %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>parent</span>, <span class=pl-s1>quoted_filename</span>))</td>
        </tr>
        <tr>
          <td id="L3237" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3237"></td>
          <td id="LC3237" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3238" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3238"></td>
          <td id="LC3238" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;ls %s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>parent</span>, <span class=pl-s1>quoted_filename</span>))</td>
        </tr>
        <tr>
          <td id="L3239" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3239"></td>
          <td id="LC3239" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L3240" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3240"></td>
          <td id="LC3240" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parent_version</span> <span class=pl-c1>=</span> <span class=pl-s1>fi_output</span>.<span class=pl-en>readline</span>().<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L3241" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3241"></td>
          <td id="LC3241" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>change</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3242" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3242"></td>
          <td id="LC3242" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>parent_version</span> <span class=pl-c1>!=</span> [<span class=pl-s>b&#39;missing&#39;</span>, <span class=pl-s1>quoted_filename</span>]:</td>
        </tr>
        <tr>
          <td id="L3243" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3243"></td>
          <td id="LC3243" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3244" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3244"></td>
          <td id="LC3244" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3245" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3245"></td>
          <td id="LC3245" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>blob_sha</span> <span class=pl-c1>=</span> <span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span></td>
        </tr>
        <tr>
          <td id="L3246" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3246"></td>
          <td id="LC3246" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span>, <span class=pl-s1>int</span>):</td>
        </tr>
        <tr>
          <td id="L3247" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3247"></td>
          <td id="LC3247" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;get-mark :%d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span>)</td>
        </tr>
        <tr>
          <td id="L3248" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3248"></td>
          <td id="LC3248" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L3249" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3249"></td>
          <td id="LC3249" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>blob_sha</span> <span class=pl-c1>=</span> <span class=pl-s1>fi_output</span>.<span class=pl-en>readline</span>().<span class=pl-en>rstrip</span>()</td>
        </tr>
        <tr>
          <td id="L3250" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3250"></td>
          <td id="LC3250" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>parent_version</span> <span class=pl-c1>!=</span> [<span class=pl-s1>change</span>.<span class=pl-s1>mode</span>, <span class=pl-s>b&#39;blob&#39;</span>, <span class=pl-s1>blob_sha</span>, <span class=pl-s1>quoted_filename</span>]:</td>
        </tr>
        <tr>
          <td id="L3251" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3251"></td>
          <td id="LC3251" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3252" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3252"></td>
          <td id="LC3252" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3253" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3253"></td>
          <td id="LC3253" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3254" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3254"></td>
          <td id="LC3254" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3255" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3255"></td>
          <td id="LC3255" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_record_remapping</span>(<span class=pl-s1>self</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>orig_parents</span>):</td>
        </tr>
        <tr>
          <td id="L3256" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3256"></td>
          <td id="LC3256" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>new_id</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3257" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3257"></td>
          <td id="LC3257" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record the mapping of old commit hash to new one</span></td>
        </tr>
        <tr>
          <td id="L3258" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3258"></td>
          <td id="LC3258" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span>:</td>
        </tr>
        <tr>
          <td id="L3259" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3259"></td>
          <td id="LC3259" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fi_input</span>, <span class=pl-s1>fi_output</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span></td>
        </tr>
        <tr>
          <td id="L3260" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3260"></td>
          <td id="LC3260" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>write</span>(<span class=pl-s>b&quot;get-mark :%d<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-s1>commit</span>.<span class=pl-s1>id</span>)</td>
        </tr>
        <tr>
          <td id="L3261" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3261"></td>
          <td id="LC3261" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L3262" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3262"></td>
          <td id="LC3262" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_id</span> <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span></td>
        </tr>
        <tr>
          <td id="L3263" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3263"></td>
          <td id="LC3263" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_commit_short_old_hashes</span>[<span class=pl-s1>orig_id</span>[<span class=pl-c1>0</span>:<span class=pl-c1>7</span>]].<span class=pl-en>add</span>(<span class=pl-s1>orig_id</span>)</td>
        </tr>
        <tr>
          <td id="L3264" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3264"></td>
          <td id="LC3264" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Note that we have queued up an id for later reading; flush a</span></td>
        </tr>
        <tr>
          <td id="L3265" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3265"></td>
          <td id="LC3265" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># few of the older ones if we have too many queued up</span></td>
        </tr>
        <tr>
          <td id="L3266" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3266"></td>
          <td id="LC3266" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_pending_renames</span>[<span class=pl-s1>orig_id</span>] <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3267" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3267"></td>
          <td id="LC3267" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_flush_renames</span>(<span class=pl-c1>None</span>, <span class=pl-s1>limit</span><span class=pl-c1>=</span><span class=pl-c1>40</span>)</td>
        </tr>
        <tr>
          <td id="L3268" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3268"></td>
          <td id="LC3268" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Also, record if this was a merge commit that turned into a non-merge</span></td>
        </tr>
        <tr>
          <td id="L3269" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3269"></td>
          <td id="LC3269" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># commit.</span></td>
        </tr>
        <tr>
          <td id="L3270" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3270"></td>
          <td id="LC3270" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-en>len</span>(<span class=pl-s1>orig_parents</span>) <span class=pl-c1>&gt;=</span> <span class=pl-c1>2</span> <span class=pl-c1>and</span> <span class=pl-en>len</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>parents</span>) <span class=pl-c1>&lt;</span> <span class=pl-c1>2</span>:</td>
        </tr>
        <tr>
          <td id="L3271" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3271"></td>
          <td id="LC3271" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_commits_no_longer_merges</span>.<span class=pl-en>append</span>((<span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span>, <span class=pl-s1>new_id</span>))</td>
        </tr>
        <tr>
          <td id="L3272" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3272"></td>
          <td id="LC3272" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3273" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3273"></td>
          <td id="LC3273" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>callback_metadata</span>(<span class=pl-s1>self</span>, <span class=pl-s1>extra_items</span> <span class=pl-c1>=</span> <span class=pl-en>dict</span>()):</td>
        </tr>
        <tr>
          <td id="L3274" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3274"></td>
          <td id="LC3274" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> {<span class=pl-s>&#39;commit_rename_func&#39;</span>: <span class=pl-s1>self</span>.<span class=pl-s1>_translate_commit_hash</span>,</td>
        </tr>
        <tr>
          <td id="L3275" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3275"></td>
          <td id="LC3275" class="blob-code blob-code-inner js-file-line">            <span class=pl-s>&#39;ancestry_graph&#39;</span>: <span class=pl-s1>self</span>.<span class=pl-s1>_graph</span>,</td>
        </tr>
        <tr>
          <td id="L3276" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3276"></td>
          <td id="LC3276" class="blob-code blob-code-inner js-file-line">            <span class=pl-s>&#39;original_ancestry_graph&#39;</span>: <span class=pl-s1>self</span>.<span class=pl-s1>_orig_graph</span>,</td>
        </tr>
        <tr>
          <td id="L3277" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3277"></td>
          <td id="LC3277" class="blob-code blob-code-inner js-file-line">            <span class=pl-c1>**</span><span class=pl-s1>extra_items</span>}</td>
        </tr>
        <tr>
          <td id="L3278" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3278"></td>
          <td id="LC3278" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3279" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3279"></td>
          <td id="LC3279" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_tweak_blob</span>(<span class=pl-s1>self</span>, <span class=pl-s1>blob</span>):</td>
        </tr>
        <tr>
          <td id="L3280" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3280"></td>
          <td id="LC3280" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>max_blob_size</span> <span class=pl-c1>and</span> <span class=pl-en>len</span>(<span class=pl-s1>blob</span>.<span class=pl-s1>data</span>) <span class=pl-c1>&gt;</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>max_blob_size</span>:</td>
        </tr>
        <tr>
          <td id="L3281" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3281"></td>
          <td id="LC3281" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob</span>.<span class=pl-en>skip</span>()</td>
        </tr>
        <tr>
          <td id="L3282" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3282"></td>
          <td id="LC3282" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3283" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3283"></td>
          <td id="LC3283" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>blob</span>.<span class=pl-s1>original_id</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>strip_blobs_with_ids</span>:</td>
        </tr>
        <tr>
          <td id="L3284" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3284"></td>
          <td id="LC3284" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob</span>.<span class=pl-en>skip</span>()</td>
        </tr>
        <tr>
          <td id="L3285" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3285"></td>
          <td id="LC3285" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3286" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3286"></td>
          <td id="LC3286" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> ( <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_text</span></td>
        </tr>
        <tr>
          <td id="L3287" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3287"></td>
          <td id="LC3287" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># not (if blob contains zero byte in the first 8Kb, that is, if blob is binary data)</span></td>
        </tr>
        <tr>
          <td id="L3288" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3288"></td>
          <td id="LC3288" class="blob-code blob-code-inner js-file-line">        <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s>b&quot;\0&quot;</span> <span class=pl-c1>in</span> <span class=pl-s1>blob</span>.<span class=pl-s1>data</span>[<span class=pl-c1>0</span>:<span class=pl-c1>8192</span>]</td>
        </tr>
        <tr>
          <td id="L3289" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3289"></td>
          <td id="LC3289" class="blob-code blob-code-inner js-file-line">    ):</td>
        </tr>
        <tr>
          <td id="L3290" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3290"></td>
          <td id="LC3290" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_text</span>[<span class=pl-s>&#39;literals&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3291" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3291"></td>
          <td id="LC3291" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>blob</span>.<span class=pl-s1>data</span> <span class=pl-c1>=</span> <span class=pl-s1>blob</span>.<span class=pl-s1>data</span>.<span class=pl-en>replace</span>(<span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span>)</td>
        </tr>
        <tr>
          <td id="L3292" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3292"></td>
          <td id="LC3292" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>regex</span>,   <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_text</span>[<span class=pl-s>&#39;regexes&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3293" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3293"></td>
          <td id="LC3293" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>blob</span>.<span class=pl-s1>data</span> <span class=pl-c1>=</span> <span class=pl-s1>regex</span>.<span class=pl-en>sub</span>(<span class=pl-s1>replacement</span>, <span class=pl-s1>blob</span>.<span class=pl-s1>data</span>)</td>
        </tr>
        <tr>
          <td id="L3294" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3294"></td>
          <td id="LC3294" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3295" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3295"></td>
          <td id="LC3295" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3296" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3296"></td>
          <td id="LC3296" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_blob_callback</span>(<span class=pl-s1>blob</span>, <span class=pl-s1>self</span>.<span class=pl-en>callback_metadata</span>())</td>
        </tr>
        <tr>
          <td id="L3297" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3297"></td>
          <td id="LC3297" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3298" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3298"></td>
          <td id="LC3298" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_filter_files</span>(<span class=pl-s1>self</span>, <span class=pl-s1>commit</span>):</td>
        </tr>
        <tr>
          <td id="L3299" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3299"></td>
          <td id="LC3299" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>filename_matches</span>(<span class=pl-s1>path_expression</span>, <span class=pl-s1>pathname</span>):</td>
        </tr>
        <tr>
          <td id="L3300" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3300"></td>
          <td id="LC3300" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&#39;&#39;&#39; Returns whether path_expression matches pathname or a leading</span></td>
        </tr>
        <tr>
          <td id="L3301" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3301"></td>
          <td id="LC3301" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          directory thereof, allowing path_expression to not have a trailing</span></td>
        </tr>
        <tr>
          <td id="L3302" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3302"></td>
          <td id="LC3302" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          slash even if it is meant to match a leading directory. &#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3303" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3303"></td>
          <td id="LC3303" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>path_expression</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3304" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3304"></td>
          <td id="LC3304" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3305" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3305"></td>
          <td id="LC3305" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>n</span> <span class=pl-c1>=</span> <span class=pl-en>len</span>(<span class=pl-s1>path_expression</span>)</td>
        </tr>
        <tr>
          <td id="L3306" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3306"></td>
          <td id="LC3306" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> (<span class=pl-s1>pathname</span>.<span class=pl-en>startswith</span>(<span class=pl-s1>path_expression</span>) <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3307" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3307"></td>
          <td id="LC3307" class="blob-code blob-code-inner js-file-line">          (<span class=pl-s1>path_expression</span>[<span class=pl-s1>n</span><span class=pl-c1>-</span><span class=pl-c1>1</span>:<span class=pl-s1>n</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;/&#39;</span> <span class=pl-c1>or</span></td>
        </tr>
        <tr>
          <td id="L3308" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3308"></td>
          <td id="LC3308" class="blob-code blob-code-inner js-file-line">           <span class=pl-en>len</span>(<span class=pl-s1>pathname</span>) <span class=pl-c1>==</span> <span class=pl-s1>n</span> <span class=pl-c1>or</span></td>
        </tr>
        <tr>
          <td id="L3309" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3309"></td>
          <td id="LC3309" class="blob-code blob-code-inner js-file-line">           <span class=pl-s1>pathname</span>[<span class=pl-s1>n</span>:<span class=pl-s1>n</span><span class=pl-c1>+</span><span class=pl-c1>1</span>] <span class=pl-c1>==</span> <span class=pl-s>b&#39;/&#39;</span>)):</td>
        </tr>
        <tr>
          <td id="L3310" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3310"></td>
          <td id="LC3310" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>return</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3311" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3311"></td>
          <td id="LC3311" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3312" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3312"></td>
          <td id="LC3312" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3313" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3313"></td>
          <td id="LC3313" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>def</span> <span class=pl-en>newname</span>(<span class=pl-s1>path_changes</span>, <span class=pl-s1>pathname</span>, <span class=pl-s1>use_base_name</span>, <span class=pl-s1>filtering_is_inclusive</span>):</td>
        </tr>
        <tr>
          <td id="L3314" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3314"></td>
          <td id="LC3314" class="blob-code blob-code-inner js-file-line">      <span class=pl-s>&#39;&#39;&#39; Applies filtering and rename changes from path_changes to pathname,</span></td>
        </tr>
        <tr>
          <td id="L3315" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3315"></td>
          <td id="LC3315" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          returning any of None (file isn&#39;t wanted), original filename (file</span></td>
        </tr>
        <tr>
          <td id="L3316" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3316"></td>
          <td id="LC3316" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          is wanted with original name), or new filename. &#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3317" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3317"></td>
          <td id="LC3317" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>wanted</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3318" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3318"></td>
          <td id="LC3318" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>full_pathname</span> <span class=pl-c1>=</span> <span class=pl-s1>pathname</span></td>
        </tr>
        <tr>
          <td id="L3319" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3319"></td>
          <td id="LC3319" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>use_base_name</span>:</td>
        </tr>
        <tr>
          <td id="L3320" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3320"></td>
          <td id="LC3320" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>pathname</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>basename</span>(<span class=pl-s1>pathname</span>)</td>
        </tr>
        <tr>
          <td id="L3321" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3321"></td>
          <td id="LC3321" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> (<span class=pl-s1>mod_type</span>, <span class=pl-s1>match_type</span>, <span class=pl-s1>path_exp</span>) <span class=pl-c1>in</span> <span class=pl-s1>path_changes</span>:</td>
        </tr>
        <tr>
          <td id="L3322" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3322"></td>
          <td id="LC3322" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>mod_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;filter&#39;</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>wanted</span>:</td>
        </tr>
        <tr>
          <td id="L3323" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3323"></td>
          <td id="LC3323" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>assert</span> <span class=pl-s1>match_type</span> <span class=pl-c1>in</span> (<span class=pl-s>&#39;match&#39;</span>, <span class=pl-s>&#39;glob&#39;</span>, <span class=pl-s>&#39;regex&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3324" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3324"></td>
          <td id="LC3324" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;match&#39;</span> <span class=pl-c1>and</span> <span class=pl-en>filename_matches</span>(<span class=pl-s1>path_exp</span>, <span class=pl-s1>pathname</span>):</td>
        </tr>
        <tr>
          <td id="L3325" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3325"></td>
          <td id="LC3325" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>wanted</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3326" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3326"></td>
          <td id="LC3326" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;glob&#39;</span> <span class=pl-c1>and</span> <span class=pl-s1>fnmatch</span>.<span class=pl-en>fnmatch</span>(<span class=pl-s1>pathname</span>, <span class=pl-s1>path_exp</span>):</td>
        </tr>
        <tr>
          <td id="L3327" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3327"></td>
          <td id="LC3327" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>wanted</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3328" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3328"></td>
          <td id="LC3328" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;regex&#39;</span> <span class=pl-c1>and</span> <span class=pl-s1>path_exp</span>.<span class=pl-en>search</span>(<span class=pl-s1>pathname</span>):</td>
        </tr>
        <tr>
          <td id="L3329" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3329"></td>
          <td id="LC3329" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>wanted</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3330" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3330"></td>
          <td id="LC3330" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>mod_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;rename&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3331" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3331"></td>
          <td id="LC3331" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>match</span>, <span class=pl-s1>repl</span> <span class=pl-c1>=</span> <span class=pl-s1>path_exp</span></td>
        </tr>
        <tr>
          <td id="L3332" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3332"></td>
          <td id="LC3332" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>assert</span> <span class=pl-s1>match_type</span> <span class=pl-c1>in</span> (<span class=pl-s>&#39;match&#39;</span>,<span class=pl-s>&#39;regex&#39;</span>) <span class=pl-c># glob was translated to regex</span></td>
        </tr>
        <tr>
          <td id="L3333" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3333"></td>
          <td id="LC3333" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;match&#39;</span> <span class=pl-c1>and</span> <span class=pl-en>filename_matches</span>(<span class=pl-s1>match</span>, <span class=pl-s1>full_pathname</span>):</td>
        </tr>
        <tr>
          <td id="L3334" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3334"></td>
          <td id="LC3334" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>full_pathname</span> <span class=pl-c1>=</span> <span class=pl-s1>full_pathname</span>.<span class=pl-en>replace</span>(<span class=pl-s1>match</span>, <span class=pl-s1>repl</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3335" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3335"></td>
          <td id="LC3335" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>match_type</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;regex&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3336" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3336"></td>
          <td id="LC3336" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>full_pathname</span> <span class=pl-c1>=</span> <span class=pl-s1>match</span>.<span class=pl-en>sub</span>(<span class=pl-s1>repl</span>, <span class=pl-s1>full_pathname</span>)</td>
        </tr>
        <tr>
          <td id="L3337" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3337"></td>
          <td id="LC3337" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>full_pathname</span> <span class=pl-k>if</span> (<span class=pl-s1>wanted</span> <span class=pl-c1>==</span> <span class=pl-s1>filtering_is_inclusive</span>) <span class=pl-k>else</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3338" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3338"></td>
          <td id="LC3338" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3339" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3339"></td>
          <td id="LC3339" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>args</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span></td>
        </tr>
        <tr>
          <td id="L3340" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3340"></td>
          <td id="LC3340" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>new_file_changes</span> <span class=pl-c1>=</span> {}  <span class=pl-c># Assumes no renames or copies, otherwise collisions</span></td>
        </tr>
        <tr>
          <td id="L3341" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3341"></td>
          <td id="LC3341" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>change</span> <span class=pl-c1>in</span> <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L3342" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3342"></td>
          <td id="LC3342" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># NEEDSWORK: _If_ we ever want to pass `--full-tree` to fast-export and</span></td>
        </tr>
        <tr>
          <td id="L3343" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3343"></td>
          <td id="LC3343" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># parse that output, we&#39;ll need to modify this block; `--full-tree`</span></td>
        </tr>
        <tr>
          <td id="L3344" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3344"></td>
          <td id="LC3344" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># issues a deleteall directive which has no filename, and thus this</span></td>
        </tr>
        <tr>
          <td id="L3345" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3345"></td>
          <td id="LC3345" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># block would normally strip it.  Of course, FileChange() and</span></td>
        </tr>
        <tr>
          <td id="L3346" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3346"></td>
          <td id="LC3346" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># _parse_optional_filechange() would need updates too.</span></td>
        </tr>
        <tr>
          <td id="L3347" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3347"></td>
          <td id="LC3347" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>change</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;DELETEALL&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3348" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3348"></td>
          <td id="LC3348" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>new_file_changes</span>[<span class=pl-s>b&#39;&#39;</span>] <span class=pl-c1>=</span> <span class=pl-s1>change</span></td>
        </tr>
        <tr>
          <td id="L3349" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3349"></td>
          <td id="LC3349" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3350" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3350"></td>
          <td id="LC3350" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_newnames</span>:</td>
        </tr>
        <tr>
          <td id="L3351" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3351"></td>
          <td id="LC3351" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_newnames</span>[<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>]</td>
        </tr>
        <tr>
          <td id="L3352" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3352"></td>
          <td id="LC3352" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3353" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3353"></td>
          <td id="LC3353" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>original_filename</span> <span class=pl-c1>=</span> <span class=pl-s1>change</span>.<span class=pl-s1>filename</span></td>
        </tr>
        <tr>
          <td id="L3354" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3354"></td>
          <td id="LC3354" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-en>newname</span>(<span class=pl-s1>args</span>.<span class=pl-s1>path_changes</span>, <span class=pl-s1>change</span>.<span class=pl-s1>filename</span>,</td>
        </tr>
        <tr>
          <td id="L3355" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3355"></td>
          <td id="LC3355" class="blob-code blob-code-inner js-file-line">                                  <span class=pl-s1>args</span>.<span class=pl-s1>use_base_name</span>, <span class=pl-s1>args</span>.<span class=pl-s1>inclusive</span>)</td>
        </tr>
        <tr>
          <td id="L3356" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3356"></td>
          <td id="LC3356" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_filename_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3357" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3357"></td>
          <td id="LC3357" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_filename_callback</span>(<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>)</td>
        </tr>
        <tr>
          <td id="L3358" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3358"></td>
          <td id="LC3358" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_newnames</span>[<span class=pl-s1>original_filename</span>] <span class=pl-c1>=</span> <span class=pl-s1>change</span>.<span class=pl-s1>filename</span></td>
        </tr>
        <tr>
          <td id="L3359" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3359"></td>
          <td id="LC3359" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>change</span>.<span class=pl-s1>filename</span>:</td>
        </tr>
        <tr>
          <td id="L3360" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3360"></td>
          <td id="LC3360" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span> <span class=pl-c># Filtering criteria excluded this file; move on to next one</span></td>
        </tr>
        <tr>
          <td id="L3361" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3361"></td>
          <td id="LC3361" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>change</span>.<span class=pl-s1>filename</span> <span class=pl-c1>in</span> <span class=pl-s1>new_file_changes</span>:</td>
        </tr>
        <tr>
          <td id="L3362" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3362"></td>
          <td id="LC3362" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># Getting here means that path renaming is in effect, and caused one</span></td>
        </tr>
        <tr>
          <td id="L3363" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3363"></td>
          <td id="LC3363" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># path to collide with another.  That&#39;s usually bad, but can be okay</span></td>
        </tr>
        <tr>
          <td id="L3364" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3364"></td>
          <td id="LC3364" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># under two circumstances:</span></td>
        </tr>
        <tr>
          <td id="L3365" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3365"></td>
          <td id="LC3365" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#   1) Sometimes people have a file named OLDFILE in old revisions of</span></td>
        </tr>
        <tr>
          <td id="L3366" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3366"></td>
          <td id="LC3366" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      history, and they rename to NEWFILE, and would like to rewrite</span></td>
        </tr>
        <tr>
          <td id="L3367" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3367"></td>
          <td id="LC3367" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      history so that all revisions refer to it as NEWFILE.  As such,</span></td>
        </tr>
        <tr>
          <td id="L3368" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3368"></td>
          <td id="LC3368" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      we can allow a collision when (at least) one of the two paths</span></td>
        </tr>
        <tr>
          <td id="L3369" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3369"></td>
          <td id="LC3369" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      is a deletion.  Note that if OLDFILE and NEWFILE are unrelated</span></td>
        </tr>
        <tr>
          <td id="L3370" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3370"></td>
          <td id="LC3370" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      this also allows the rewrite to continue, which makes sense</span></td>
        </tr>
        <tr>
          <td id="L3371" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3371"></td>
          <td id="LC3371" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      since OLDFILE is no longer in the way.</span></td>
        </tr>
        <tr>
          <td id="L3372" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3372"></td>
          <td id="LC3372" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#   2) If OLDFILE and NEWFILE are exactly equal, then writing them</span></td>
        </tr>
        <tr>
          <td id="L3373" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3373"></td>
          <td id="LC3373" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      both to the same location poses no problem; we only need one</span></td>
        </tr>
        <tr>
          <td id="L3374" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3374"></td>
          <td id="LC3374" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      file.  (This could come up if someone copied a file in some</span></td>
        </tr>
        <tr>
          <td id="L3375" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3375"></td>
          <td id="LC3375" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      commit, then later either deleted the file or kept it exactly</span></td>
        </tr>
        <tr>
          <td id="L3376" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3376"></td>
          <td id="LC3376" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      in sync with the original with any changes, and then decides</span></td>
        </tr>
        <tr>
          <td id="L3377" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3377"></td>
          <td id="LC3377" class="blob-code blob-code-inner js-file-line">        <span class=pl-c>#      they want to rewrite history to only have one of the two files)</span></td>
        </tr>
        <tr>
          <td id="L3378" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3378"></td>
          <td id="LC3378" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>colliding_change</span> <span class=pl-c1>=</span> <span class=pl-s1>new_file_changes</span>[<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>]</td>
        </tr>
        <tr>
          <td id="L3379" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3379"></td>
          <td id="LC3379" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>change</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3380" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3380"></td>
          <td id="LC3380" class="blob-code blob-code-inner js-file-line">          <span class=pl-c># We can just throw this one away and keep the other</span></td>
        </tr>
        <tr>
          <td id="L3381" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3381"></td>
          <td id="LC3381" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3382" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3382"></td>
          <td id="LC3382" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>change</span>.<span class=pl-s1>type</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;M&#39;</span> <span class=pl-c1>and</span> (</td>
        </tr>
        <tr>
          <td id="L3383" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3383"></td>
          <td id="LC3383" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>change</span>.<span class=pl-s1>mode</span> <span class=pl-c1>==</span> <span class=pl-s1>colliding_change</span>.<span class=pl-s1>mode</span> <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3384" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3384"></td>
          <td id="LC3384" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span> <span class=pl-c1>==</span> <span class=pl-s1>colliding_change</span>.<span class=pl-s1>blob_id</span>):</td>
        </tr>
        <tr>
          <td id="L3385" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3385"></td>
          <td id="LC3385" class="blob-code blob-code-inner js-file-line">          <span class=pl-c># The two are identical, so we can throw this one away and keep other</span></td>
        </tr>
        <tr>
          <td id="L3386" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3386"></td>
          <td id="LC3386" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3387" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3387"></td>
          <td id="LC3387" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>new_file_changes</span>[<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>].<span class=pl-s1>type</span> <span class=pl-c1>!=</span> <span class=pl-s>b&#39;D&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3388" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3388"></td>
          <td id="LC3388" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;File renaming caused colliding pathnames!<span class=pl-cce>\n</span>&quot;</span>) <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L3389" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3389"></td>
          <td id="LC3389" class="blob-code blob-code-inner js-file-line">                           <span class=pl-en>_</span>(<span class=pl-s>&quot;  Commit: {}<span class=pl-cce>\n</span>&quot;</span>).<span class=pl-en>format</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span>) <span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L3390" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3390"></td>
          <td id="LC3390" class="blob-code blob-code-inner js-file-line">                           <span class=pl-en>_</span>(<span class=pl-s>&quot;  Filename: {}&quot;</span>).<span class=pl-en>format</span>(<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>))</td>
        </tr>
        <tr>
          <td id="L3391" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3391"></td>
          <td id="LC3391" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Strip files that are too large</span></td>
        </tr>
        <tr>
          <td id="L3392" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3392"></td>
          <td id="LC3392" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>max_blob_size</span> <span class=pl-c1>and</span> \</td>
        </tr>
        <tr>
          <td id="L3393" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3393"></td>
          <td id="LC3393" class="blob-code blob-code-inner js-file-line">         <span class=pl-s1>self</span>.<span class=pl-s1>_unpacked_size</span>.<span class=pl-en>get</span>(<span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span>, <span class=pl-c1>0</span>) <span class=pl-c1>&gt;</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>max_blob_size</span>:</td>
        </tr>
        <tr>
          <td id="L3394" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3394"></td>
          <td id="LC3394" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3395" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3395"></td>
          <td id="LC3395" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>strip_blobs_with_ids</span> <span class=pl-c1>and</span> \</td>
        </tr>
        <tr>
          <td id="L3396" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3396"></td>
          <td id="LC3396" class="blob-code blob-code-inner js-file-line">         <span class=pl-s1>change</span>.<span class=pl-s1>blob_id</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>strip_blobs_with_ids</span>:</td>
        </tr>
        <tr>
          <td id="L3397" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3397"></td>
          <td id="LC3397" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3398" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3398"></td>
          <td id="LC3398" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Otherwise, record the change</span></td>
        </tr>
        <tr>
          <td id="L3399" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3399"></td>
          <td id="LC3399" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>new_file_changes</span>[<span class=pl-s1>change</span>.<span class=pl-s1>filename</span>] <span class=pl-c1>=</span> <span class=pl-s1>change</span></td>
        </tr>
        <tr>
          <td id="L3400" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3400"></td>
          <td id="LC3400" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> [<span class=pl-s1>v</span> <span class=pl-k>for</span> <span class=pl-s1>k</span>,<span class=pl-s1>v</span> <span class=pl-c1>in</span> <span class=pl-en>sorted</span>(<span class=pl-s1>new_file_changes</span>.<span class=pl-en>items</span>())]</td>
        </tr>
        <tr>
          <td id="L3401" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3401"></td>
          <td id="LC3401" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3402" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3402"></td>
          <td id="LC3402" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_tweak_commit</span>(<span class=pl-s1>self</span>, <span class=pl-s1>commit</span>, <span class=pl-s1>aux_info</span>):</td>
        </tr>
        <tr>
          <td id="L3403" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3403"></td>
          <td id="LC3403" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Change the commit message according to callback</span></td>
        </tr>
        <tr>
          <td id="L3404" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3404"></td>
          <td id="LC3404" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>preserve_commit_hashes</span>:</td>
        </tr>
        <tr>
          <td id="L3405" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3405"></td>
          <td id="LC3405" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_hash_re</span>.<span class=pl-en>sub</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_translate_commit_hash</span>,</td>
        </tr>
        <tr>
          <td id="L3406" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3406"></td>
          <td id="LC3406" class="blob-code blob-code-inner js-file-line">                                         <span class=pl-s1>commit</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L3407" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3407"></td>
          <td id="LC3407" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>:</td>
        </tr>
        <tr>
          <td id="L3408" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3408"></td>
          <td id="LC3408" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>[<span class=pl-s>&#39;literals&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3409" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3409"></td>
          <td id="LC3409" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>commit</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>message</span>.<span class=pl-en>replace</span>(<span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span>)</td>
        </tr>
        <tr>
          <td id="L3410" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3410"></td>
          <td id="LC3410" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>regex</span>,   <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>[<span class=pl-s>&#39;regexes&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3411" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3411"></td>
          <td id="LC3411" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>commit</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>regex</span>.<span class=pl-en>sub</span>(<span class=pl-s1>replacement</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L3412" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3412"></td>
          <td id="LC3412" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_message_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3413" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3413"></td>
          <td id="LC3413" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_message_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L3414" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3414"></td>
          <td id="LC3414" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3415" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3415"></td>
          <td id="LC3415" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Change the author &amp; committer according to mailmap rules</span></td>
        </tr>
        <tr>
          <td id="L3416" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3416"></td>
          <td id="LC3416" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>args</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span></td>
        </tr>
        <tr>
          <td id="L3417" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3417"></td>
          <td id="LC3417" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span>:</td>
        </tr>
        <tr>
          <td id="L3418" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3418"></td>
          <td id="LC3418" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>author_name</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>author_email</span> <span class=pl-c1>=</span> \</td>
        </tr>
        <tr>
          <td id="L3419" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3419"></td>
          <td id="LC3419" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span>.<span class=pl-en>translate</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>author_name</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>author_email</span>)</td>
        </tr>
        <tr>
          <td id="L3420" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3420"></td>
          <td id="LC3420" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>committer_name</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>committer_email</span> <span class=pl-c1>=</span> \</td>
        </tr>
        <tr>
          <td id="L3421" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3421"></td>
          <td id="LC3421" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>args</span>.<span class=pl-s1>mailmap</span>.<span class=pl-en>translate</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>committer_name</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>committer_email</span>)</td>
        </tr>
        <tr>
          <td id="L3422" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3422"></td>
          <td id="LC3422" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Change author &amp; committer according to callbacks</span></td>
        </tr>
        <tr>
          <td id="L3423" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3423"></td>
          <td id="LC3423" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_name_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3424" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3424"></td>
          <td id="LC3424" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>author_name</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_name_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>author_name</span>)</td>
        </tr>
        <tr>
          <td id="L3425" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3425"></td>
          <td id="LC3425" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>committer_name</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_name_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>committer_name</span>)</td>
        </tr>
        <tr>
          <td id="L3426" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3426"></td>
          <td id="LC3426" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_email_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3427" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3427"></td>
          <td id="LC3427" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>author_email</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_email_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>author_email</span>)</td>
        </tr>
        <tr>
          <td id="L3428" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3428"></td>
          <td id="LC3428" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>committer_email</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_email_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>committer_email</span>)</td>
        </tr>
        <tr>
          <td id="L3429" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3429"></td>
          <td id="LC3429" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3430" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3430"></td>
          <td id="LC3430" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Sometimes the &#39;branch&#39; given is a tag; if so, rename it as requested so</span></td>
        </tr>
        <tr>
          <td id="L3431" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3431"></td>
          <td id="LC3431" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># we don&#39;t get any old tagnames</span></td>
        </tr>
        <tr>
          <td id="L3432" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3432"></td>
          <td id="LC3432" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>tag_rename</span>:</td>
        </tr>
        <tr>
          <td id="L3433" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3433"></td>
          <td id="LC3433" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>branch</span> <span class=pl-c1>=</span> <span class=pl-v>RepoFilter</span>.<span class=pl-en>_do_tag_rename</span>(<span class=pl-s1>args</span>.<span class=pl-s1>tag_rename</span>, <span class=pl-s1>commit</span>.<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L3434" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3434"></td>
          <td id="LC3434" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_refname_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3435" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3435"></td>
          <td id="LC3435" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>branch</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_refname_callback</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>branch</span>)</td>
        </tr>
        <tr>
          <td id="L3436" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3436"></td>
          <td id="LC3436" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3437" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3437"></td>
          <td id="LC3437" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Filter or rename the list of file changes</span></td>
        </tr>
        <tr>
          <td id="L3438" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3438"></td>
          <td id="LC3438" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>orig_file_changes</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3439" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3439"></td>
          <td id="LC3439" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_filter_files</span>(<span class=pl-s1>commit</span>)</td>
        </tr>
        <tr>
          <td id="L3440" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3440"></td>
          <td id="LC3440" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3441" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3441"></td>
          <td id="LC3441" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Record ancestry graph</span></td>
        </tr>
        <tr>
          <td id="L3442" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3442"></td>
          <td id="LC3442" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>, <span class=pl-s1>orig_parents</span> <span class=pl-c1>=</span> <span class=pl-s1>commit</span>.<span class=pl-s1>parents</span>, <span class=pl-s1>aux_info</span>[<span class=pl-s>&#39;orig_parents&#39;</span>]</td>
        </tr>
        <tr>
          <td id="L3443" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3443"></td>
          <td id="LC3443" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L3444" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3444"></td>
          <td id="LC3444" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>external_parents</span> <span class=pl-c1>=</span> <span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L3445" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3445"></td>
          <td id="LC3445" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3446" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3446"></td>
          <td id="LC3446" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>external_parents</span> <span class=pl-c1>=</span> [<span class=pl-s1>p</span> <span class=pl-k>for</span> <span class=pl-s1>p</span> <span class=pl-c1>in</span> <span class=pl-s1>parents</span> <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>p</span>, <span class=pl-s1>int</span>)]</td>
        </tr>
        <tr>
          <td id="L3447" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3447"></td>
          <td id="LC3447" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_graph</span>.<span class=pl-en>record_external_commits</span>(<span class=pl-s1>external_parents</span>)</td>
        </tr>
        <tr>
          <td id="L3448" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3448"></td>
          <td id="LC3448" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_orig_graph</span>.<span class=pl-en>record_external_commits</span>(<span class=pl-s1>external_parents</span>)</td>
        </tr>
        <tr>
          <td id="L3449" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3449"></td>
          <td id="LC3449" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_graph</span>.<span class=pl-en>add_commit_and_parents</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>id</span>, <span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L3450" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3450"></td>
          <td id="LC3450" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_orig_graph</span>.<span class=pl-en>add_commit_and_parents</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>old_id</span>, <span class=pl-s1>orig_parents</span>)</td>
        </tr>
        <tr>
          <td id="L3451" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3451"></td>
          <td id="LC3451" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3452" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3452"></td>
          <td id="LC3452" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Prune parents (due to pruning of empty commits) if relevant</span></td>
        </tr>
        <tr>
          <td id="L3453" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3453"></td>
          <td id="LC3453" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old_1st_parent</span> <span class=pl-c1>=</span> <span class=pl-s1>parents</span>[<span class=pl-c1>0</span>] <span class=pl-k>if</span> <span class=pl-s1>parents</span> <span class=pl-k>else</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3454" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3454"></td>
          <td id="LC3454" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parents</span>, <span class=pl-s1>new_1st_parent</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_trim_extra_parents</span>(<span class=pl-s1>orig_parents</span>, <span class=pl-s1>parents</span>)</td>
        </tr>
        <tr>
          <td id="L3455" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3455"></td>
          <td id="LC3455" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit</span>.<span class=pl-s1>parents</span> <span class=pl-c1>=</span> <span class=pl-s1>parents</span></td>
        </tr>
        <tr>
          <td id="L3456" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3456"></td>
          <td id="LC3456" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3457" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3457"></td>
          <td id="LC3457" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If parents were pruned, then we need our file changes to be relative</span></td>
        </tr>
        <tr>
          <td id="L3458" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3458"></td>
          <td id="LC3458" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># to the new first parent</span></td>
        </tr>
        <tr>
          <td id="L3459" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3459"></td>
          <td id="LC3459" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>parents</span> <span class=pl-c1>and</span> <span class=pl-s1>old_1st_parent</span> <span class=pl-c1>!=</span> <span class=pl-s1>parents</span>[<span class=pl-c1>0</span>]:</td>
        </tr>
        <tr>
          <td id="L3460" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3460"></td>
          <td id="LC3460" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>get_file_changes</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_repo_working_dir</span>,</td>
        </tr>
        <tr>
          <td id="L3461" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3461"></td>
          <td id="LC3461" class="blob-code blob-code-inner js-file-line">                                                      <span class=pl-v>ID_TO_HASH</span>[<span class=pl-s1>parents</span>[<span class=pl-c1>0</span>]],</td>
        </tr>
        <tr>
          <td id="L3462" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3462"></td>
          <td id="LC3462" class="blob-code blob-code-inner js-file-line">                                                      <span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span>)</td>
        </tr>
        <tr>
          <td id="L3463" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3463"></td>
          <td id="LC3463" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>orig_file_changes</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3464" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3464"></td>
          <td id="LC3464" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_filter_files</span>(<span class=pl-s1>commit</span>)</td>
        </tr>
        <tr>
          <td id="L3465" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3465"></td>
          <td id="LC3465" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3466" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3466"></td>
          <td id="LC3466" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Find out which files were modified by the callbacks.  Such paths could</span></td>
        </tr>
        <tr>
          <td id="L3467" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3467"></td>
          <td id="LC3467" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># lead to subsequent commits being empty (e.g. if removing a line containing</span></td>
        </tr>
        <tr>
          <td id="L3468" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3468"></td>
          <td id="LC3468" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># a password from every version of a file that had the password, and some</span></td>
        </tr>
        <tr>
          <td id="L3469" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3469"></td>
          <td id="LC3469" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># later commit did nothing more than remove that line)</span></td>
        </tr>
        <tr>
          <td id="L3470" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3470"></td>
          <td id="LC3470" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>final_file_changes</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3471" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3471"></td>
          <td id="LC3471" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_text</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3472" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3472"></td>
          <td id="LC3472" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>differences</span> <span class=pl-c1>=</span> <span class=pl-s1>orig_file_changes</span>.<span class=pl-en>union</span>(<span class=pl-s1>final_file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3473" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3473"></td>
          <td id="LC3473" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3474" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3474"></td>
          <td id="LC3474" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>differences</span> <span class=pl-c1>=</span> <span class=pl-s1>orig_file_changes</span>.<span class=pl-en>symmetric_difference</span>(<span class=pl-s1>final_file_changes</span>)</td>
        </tr>
        <tr>
          <td id="L3475" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3475"></td>
          <td id="LC3475" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_files_tweaked</span>.<span class=pl-en>update</span>(<span class=pl-s1>x</span>.<span class=pl-s1>filename</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>differences</span>)</td>
        </tr>
        <tr>
          <td id="L3476" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3476"></td>
          <td id="LC3476" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3477" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3477"></td>
          <td id="LC3477" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call the user-defined callback, if any</span></td>
        </tr>
        <tr>
          <td id="L3478" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3478"></td>
          <td id="LC3478" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3479" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3479"></td>
          <td id="LC3479" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_commit_callback</span>(<span class=pl-s1>commit</span>, <span class=pl-s1>self</span>.<span class=pl-en>callback_metadata</span>(<span class=pl-s1>aux_info</span>))</td>
        </tr>
        <tr>
          <td id="L3480" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3480"></td>
          <td id="LC3480" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3481" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3481"></td>
          <td id="LC3481" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now print the resulting commit, or if prunable skip it</span></td>
        </tr>
        <tr>
          <td id="L3482" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3482"></td>
          <td id="LC3482" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>commit</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L3483" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3483"></td>
          <td id="LC3483" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-en>_prunable</span>(<span class=pl-s1>commit</span>, <span class=pl-s1>new_1st_parent</span>,</td>
        </tr>
        <tr>
          <td id="L3484" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3484"></td>
          <td id="LC3484" class="blob-code blob-code-inner js-file-line">                            <span class=pl-s1>aux_info</span>[<span class=pl-s>&#39;had_file_changes&#39;</span>], <span class=pl-s1>orig_parents</span>):</td>
        </tr>
        <tr>
          <td id="L3485" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3485"></td>
          <td id="LC3485" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_insert_into_stream</span>(<span class=pl-s1>commit</span>)</td>
        </tr>
        <tr>
          <td id="L3486" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3486"></td>
          <td id="LC3486" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_record_remapping</span>(<span class=pl-s1>commit</span>, <span class=pl-s1>orig_parents</span>)</td>
        </tr>
        <tr>
          <td id="L3487" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3487"></td>
          <td id="LC3487" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3488" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3488"></td>
          <td id="LC3488" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>rewrite_to</span> <span class=pl-c1>=</span> <span class=pl-s1>new_1st_parent</span> <span class=pl-c1>or</span> <span class=pl-s1>commit</span>.<span class=pl-en>first_parent</span>()</td>
        </tr>
        <tr>
          <td id="L3489" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3489"></td>
          <td id="LC3489" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>commit</span>.<span class=pl-en>skip</span>(<span class=pl-s1>new_id</span> <span class=pl-c1>=</span> <span class=pl-s1>rewrite_to</span>)</td>
        </tr>
        <tr>
          <td id="L3490" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3490"></td>
          <td id="LC3490" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L3491" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3491"></td>
          <td id="LC3491" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>alias</span> <span class=pl-c1>=</span> <span class=pl-v>Alias</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>old_id</span> <span class=pl-c1>or</span> <span class=pl-s1>commit</span>.<span class=pl-s1>id</span>, <span class=pl-s1>rewrite_to</span> <span class=pl-c1>or</span> <span class=pl-s1>deleted_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3492" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3492"></td>
          <td id="LC3492" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-en>_insert_into_stream</span>(<span class=pl-s1>alias</span>)</td>
        </tr>
        <tr>
          <td id="L3493" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3493"></td>
          <td id="LC3493" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>reset</span> <span class=pl-c1>=</span> <span class=pl-v>Reset</span>(<span class=pl-s1>commit</span>.<span class=pl-s1>branch</span>, <span class=pl-s1>rewrite_to</span> <span class=pl-c1>or</span> <span class=pl-s1>deleted_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3494" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3494"></td>
          <td id="LC3494" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_insert_into_stream</span>(<span class=pl-s1>reset</span>)</td>
        </tr>
        <tr>
          <td id="L3495" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3495"></td>
          <td id="LC3495" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>[<span class=pl-s1>commit</span>.<span class=pl-s1>original_id</span>] <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3496" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3496"></td>
          <td id="LC3496" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3497" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3497"></td>
          <td id="LC3497" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Show progress</span></td>
        </tr>
        <tr>
          <td id="L3498" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3498"></td>
          <td id="LC3498" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_num_commits</span> <span class=pl-c1>+=</span> <span class=pl-c1>1</span></td>
        </tr>
        <tr>
          <td id="L3499" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3499"></td>
          <td id="LC3499" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>quiet</span>:</td>
        </tr>
        <tr>
          <td id="L3500" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3500"></td>
          <td id="LC3500" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_progress_writer</span>.<span class=pl-en>show</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_parsed_message</span> <span class=pl-c1>%</span> <span class=pl-s1>self</span>.<span class=pl-s1>_num_commits</span>)</td>
        </tr>
        <tr>
          <td id="L3501" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3501"></td>
          <td id="LC3501" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3502" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3502"></td>
          <td id="LC3502" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>@<span class=pl-s1>staticmethod</span></span></td>
        </tr>
        <tr>
          <td id="L3503" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3503"></td>
          <td id="LC3503" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_do_tag_rename</span>(<span class=pl-s1>rename_pair</span>, <span class=pl-s1>tagname</span>):</td>
        </tr>
        <tr>
          <td id="L3504" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3504"></td>
          <td id="LC3504" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old</span>, <span class=pl-s1>new</span> <span class=pl-c1>=</span> <span class=pl-s1>rename_pair</span>.<span class=pl-en>split</span>(<span class=pl-s>b&#39;:&#39;</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3505" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3505"></td>
          <td id="LC3505" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>old</span>, <span class=pl-s1>new</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;refs/tags/&#39;</span><span class=pl-c1>+</span><span class=pl-s1>old</span>, <span class=pl-s>b&#39;refs/tags/&#39;</span><span class=pl-c1>+</span><span class=pl-s1>new</span></td>
        </tr>
        <tr>
          <td id="L3506" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3506"></td>
          <td id="LC3506" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>tagname</span>.<span class=pl-en>startswith</span>(<span class=pl-s1>old</span>):</td>
        </tr>
        <tr>
          <td id="L3507" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3507"></td>
          <td id="LC3507" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span> <span class=pl-s1>tagname</span>.<span class=pl-en>replace</span>(<span class=pl-s1>old</span>, <span class=pl-s1>new</span>, <span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3508" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3508"></td>
          <td id="LC3508" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>tagname</span></td>
        </tr>
        <tr>
          <td id="L3509" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3509"></td>
          <td id="LC3509" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3510" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3510"></td>
          <td id="LC3510" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_tweak_tag</span>(<span class=pl-s1>self</span>, <span class=pl-s1>tag</span>):</td>
        </tr>
        <tr>
          <td id="L3511" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3511"></td>
          <td id="LC3511" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Tweak the tag message according to callbacks</span></td>
        </tr>
        <tr>
          <td id="L3512" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3512"></td>
          <td id="LC3512" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>:</td>
        </tr>
        <tr>
          <td id="L3513" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3513"></td>
          <td id="LC3513" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>[<span class=pl-s>&#39;literals&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3514" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3514"></td>
          <td id="LC3514" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>tag</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>tag</span>.<span class=pl-s1>message</span>.<span class=pl-en>replace</span>(<span class=pl-s1>literal</span>, <span class=pl-s1>replacement</span>)</td>
        </tr>
        <tr>
          <td id="L3515" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3515"></td>
          <td id="LC3515" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>regex</span>,   <span class=pl-s1>replacement</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_message</span>[<span class=pl-s>&#39;regexes&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3516" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3516"></td>
          <td id="LC3516" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>tag</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>regex</span>.<span class=pl-en>sub</span>(<span class=pl-s1>replacement</span>, <span class=pl-s1>tag</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L3517" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3517"></td>
          <td id="LC3517" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_message_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3518" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3518"></td>
          <td id="LC3518" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-s1>message</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_message_callback</span>(<span class=pl-s1>tag</span>.<span class=pl-s1>message</span>)</td>
        </tr>
        <tr>
          <td id="L3519" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3519"></td>
          <td id="LC3519" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3520" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3520"></td>
          <td id="LC3520" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Tweak the tag name according to tag-name-related callbacks</span></td>
        </tr>
        <tr>
          <td id="L3521" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3521"></td>
          <td id="LC3521" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tag_prefix</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;refs/tags/&#39;</span></td>
        </tr>
        <tr>
          <td id="L3522" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3522"></td>
          <td id="LC3522" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>fullref</span> <span class=pl-c1>=</span> <span class=pl-s1>tag_prefix</span><span class=pl-c1>+</span><span class=pl-s1>tag</span>.<span class=pl-s1>ref</span></td>
        </tr>
        <tr>
          <td id="L3523" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3523"></td>
          <td id="LC3523" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>tag_rename</span>:</td>
        </tr>
        <tr>
          <td id="L3524" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3524"></td>
          <td id="LC3524" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fullref</span> <span class=pl-c1>=</span> <span class=pl-v>RepoFilter</span>.<span class=pl-en>_do_tag_rename</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>tag_rename</span>, <span class=pl-s1>fullref</span>)</td>
        </tr>
        <tr>
          <td id="L3525" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3525"></td>
          <td id="LC3525" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_refname_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3526" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3526"></td>
          <td id="LC3526" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fullref</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_refname_callback</span>(<span class=pl-s1>fullref</span>)</td>
        </tr>
        <tr>
          <td id="L3527" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3527"></td>
          <td id="LC3527" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>fullref</span>.<span class=pl-en>startswith</span>(<span class=pl-s1>tag_prefix</span>):</td>
        </tr>
        <tr>
          <td id="L3528" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3528"></td>
          <td id="LC3528" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;Error: fast-import requires tags to be in refs/tags/ namespace.&quot;</span></td>
        </tr>
        <tr>
          <td id="L3529" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3529"></td>
          <td id="LC3529" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>msg</span> <span class=pl-c1>+=</span> <span class=pl-s>&quot;<span class=pl-cce>\n</span>       {} renamed to {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s1>tag_prefix</span><span class=pl-c1>+</span><span class=pl-s1>tag</span>.<span class=pl-s1>ref</span>, <span class=pl-s1>fullref</span>)</td>
        </tr>
        <tr>
          <td id="L3530" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3530"></td>
          <td id="LC3530" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-s1>msg</span>)</td>
        </tr>
        <tr>
          <td id="L3531" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3531"></td>
          <td id="LC3531" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tag</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>fullref</span>[<span class=pl-en>len</span>(<span class=pl-s1>tag_prefix</span>):]</td>
        </tr>
        <tr>
          <td id="L3532" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3532"></td>
          <td id="LC3532" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3533" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3533"></td>
          <td id="LC3533" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Tweak the tagger according to callbacks</span></td>
        </tr>
        <tr>
          <td id="L3534" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3534"></td>
          <td id="LC3534" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>mailmap</span>:</td>
        </tr>
        <tr>
          <td id="L3535" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3535"></td>
          <td id="LC3535" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-s1>tagger_name</span>, <span class=pl-s1>tag</span>.<span class=pl-s1>tagger_email</span> <span class=pl-c1>=</span> \</td>
        </tr>
        <tr>
          <td id="L3536" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3536"></td>
          <td id="LC3536" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>mailmap</span>.<span class=pl-en>translate</span>(<span class=pl-s1>tag</span>.<span class=pl-s1>tagger_name</span>, <span class=pl-s1>tag</span>.<span class=pl-s1>tagger_email</span>)</td>
        </tr>
        <tr>
          <td id="L3537" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3537"></td>
          <td id="LC3537" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_name_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3538" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3538"></td>
          <td id="LC3538" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-s1>tagger_name</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_name_callback</span>(<span class=pl-s1>tag</span>.<span class=pl-s1>tagger_name</span>)</td>
        </tr>
        <tr>
          <td id="L3539" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3539"></td>
          <td id="LC3539" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_email_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3540" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3540"></td>
          <td id="LC3540" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tag</span>.<span class=pl-s1>tagger_email</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_email_callback</span>(<span class=pl-s1>tag</span>.<span class=pl-s1>tagger_email</span>)</td>
        </tr>
        <tr>
          <td id="L3541" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3541"></td>
          <td id="LC3541" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3542" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3542"></td>
          <td id="LC3542" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Call general purpose tag callback</span></td>
        </tr>
        <tr>
          <td id="L3543" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3543"></td>
          <td id="LC3543" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tag_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3544" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3544"></td>
          <td id="LC3544" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_tag_callback</span>(<span class=pl-s1>tag</span>, <span class=pl-s1>self</span>.<span class=pl-en>callback_metadata</span>())</td>
        </tr>
        <tr>
          <td id="L3545" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3545"></td>
          <td id="LC3545" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3546" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3546"></td>
          <td id="LC3546" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_tweak_reset</span>(<span class=pl-s1>self</span>, <span class=pl-s1>reset</span>):</td>
        </tr>
        <tr>
          <td id="L3547" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3547"></td>
          <td id="LC3547" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>tag_rename</span>:</td>
        </tr>
        <tr>
          <td id="L3548" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3548"></td>
          <td id="LC3548" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reset</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-v>RepoFilter</span>.<span class=pl-en>_do_tag_rename</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>tag_rename</span>, <span class=pl-s1>reset</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L3549" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3549"></td>
          <td id="LC3549" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_refname_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3550" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3550"></td>
          <td id="LC3550" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reset</span>.<span class=pl-s1>ref</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_refname_callback</span>(<span class=pl-s1>reset</span>.<span class=pl-s1>ref</span>)</td>
        </tr>
        <tr>
          <td id="L3551" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3551"></td>
          <td id="LC3551" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_reset_callback</span>:</td>
        </tr>
        <tr>
          <td id="L3552" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3552"></td>
          <td id="LC3552" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_reset_callback</span>(<span class=pl-s1>reset</span>, <span class=pl-s1>self</span>.<span class=pl-en>callback_metadata</span>())</td>
        </tr>
        <tr>
          <td id="L3553" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3553"></td>
          <td id="LC3553" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3554" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3554"></td>
          <td id="LC3554" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>results_tmp_dir</span>(<span class=pl-s1>self</span>, <span class=pl-s1>create_if_missing</span><span class=pl-c1>=</span><span class=pl-c1>True</span>):</td>
        </tr>
        <tr>
          <td id="L3555" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3555"></td>
          <td id="LC3555" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>target_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3556" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3556"></td>
          <td id="LC3556" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>git_dir</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>determine_git_dir</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3557" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3557"></td>
          <td id="LC3557" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>d</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>git_dir</span>, <span class=pl-s>b&#39;filter-repo&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3558" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3558"></td>
          <td id="LC3558" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>create_if_missing</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isdir</span>(<span class=pl-s1>d</span>):</td>
        </tr>
        <tr>
          <td id="L3559" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3559"></td>
          <td id="LC3559" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>os</span>.<span class=pl-en>mkdir</span>(<span class=pl-s1>d</span>)</td>
        </tr>
        <tr>
          <td id="L3560" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3560"></td>
          <td id="LC3560" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>d</span></td>
        </tr>
        <tr>
          <td id="L3561" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3561"></td>
          <td id="LC3561" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3562" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3562"></td>
          <td id="LC3562" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_load_marks_file</span>(<span class=pl-s1>self</span>, <span class=pl-s1>marks_basename</span>):</td>
        </tr>
        <tr>
          <td id="L3563" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3563"></td>
          <td id="LC3563" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>full_branch</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;refs/heads/{}&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>)</td>
        </tr>
        <tr>
          <td id="L3564" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3564"></td>
          <td id="LC3564" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>marks_file</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(), <span class=pl-s1>marks_basename</span>)</td>
        </tr>
        <tr>
          <td id="L3565" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3565"></td>
          <td id="LC3565" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3566" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3566"></td>
          <td id="LC3566" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;show-ref&#39;</span>, <span class=pl-s1>full_branch</span>]</td>
        </tr>
        <tr>
          <td id="L3567" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3567"></td>
          <td id="LC3567" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3568" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3568"></td>
          <td id="LC3568" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>DEVNULL</span>) <span class=pl-c1>==</span> <span class=pl-c1>0</span>:</td>
        </tr>
        <tr>
          <td id="L3569" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3569"></td>
          <td id="LC3569" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;show&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3570" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3570"></td>
          <td id="LC3570" class="blob-code blob-code-inner js-file-line">             <span class=pl-s>&#39;%s:%s&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>full_branch</span>, <span class=pl-en>decode</span>(<span class=pl-s1>marks_basename</span>))]</td>
        </tr>
        <tr>
          <td id="L3571" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3571"></td>
          <td id="LC3571" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>try</span>:</td>
        </tr>
        <tr>
          <td id="L3572" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3572"></td>
          <td id="LC3572" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>contents</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>)</td>
        </tr>
        <tr>
          <td id="L3573" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3573"></td>
          <td id="LC3573" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>except</span> <span class=pl-s1>subprocess</span>.<span class=pl-v>CalledProcessError</span> <span class=pl-k>as</span> <span class=pl-s1>e</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3574" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3574"></td>
          <td id="LC3574" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Failed loading %s from %s&quot;</span>) <span class=pl-c1>%</span></td>
        </tr>
        <tr>
          <td id="L3575" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3575"></td>
          <td id="LC3575" class="blob-code blob-code-inner js-file-line">                         (<span class=pl-en>decode</span>(<span class=pl-s1>marks_basename</span>), <span class=pl-s1>full_branch</span>))</td>
        </tr>
        <tr>
          <td id="L3576" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3576"></td>
          <td id="LC3576" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>contents</span>:</td>
        </tr>
        <tr>
          <td id="L3577" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3577"></td>
          <td id="LC3577" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>biggest_id</span> <span class=pl-c1>=</span> <span class=pl-en>max</span>(<span class=pl-en>int</span>(<span class=pl-s1>x</span>.<span class=pl-en>split</span>()[<span class=pl-c1>0</span>][<span class=pl-c1>1</span>:]) <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>contents</span>.<span class=pl-en>splitlines</span>())</td>
        </tr>
        <tr>
          <td id="L3578" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3578"></td>
          <td id="LC3578" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>_IDS</span>.<span class=pl-s1>_next_id</span> <span class=pl-c1>=</span> <span class=pl-en>max</span>(<span class=pl-s1>_IDS</span>.<span class=pl-s1>_next_id</span>, <span class=pl-s1>biggest_id</span><span class=pl-c1>+</span><span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3579" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3579"></td>
          <td id="LC3579" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>marks_file</span>, <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L3580" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3580"></td>
          <td id="LC3580" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>contents</span>)</td>
        </tr>
        <tr>
          <td id="L3581" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3581"></td>
          <td id="LC3581" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>marks_file</span></td>
        </tr>
        <tr>
          <td id="L3582" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3582"></td>
          <td id="LC3582" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3583" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3583"></td>
          <td id="LC3583" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_save_marks_files</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3584" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3584"></td>
          <td id="LC3584" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>basenames</span> <span class=pl-c1>=</span> [<span class=pl-s>b&#39;source-marks&#39;</span>, <span class=pl-s>b&#39;target-marks&#39;</span>]</td>
        </tr>
        <tr>
          <td id="L3585" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3585"></td>
          <td id="LC3585" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3586" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3586"></td>
          <td id="LC3586" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3587" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3587"></td>
          <td id="LC3587" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Check whether the branch exists</span></td>
        </tr>
        <tr>
          <td id="L3588" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3588"></td>
          <td id="LC3588" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>parent</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L3589" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3589"></td>
          <td id="LC3589" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>full_branch</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;refs/heads/{}&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>)</td>
        </tr>
        <tr>
          <td id="L3590" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3590"></td>
          <td id="LC3590" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;show-ref&#39;</span>, <span class=pl-s1>full_branch</span>]</td>
        </tr>
        <tr>
          <td id="L3591" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3591"></td>
          <td id="LC3591" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s1>cmd</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>DEVNULL</span>) <span class=pl-c1>==</span> <span class=pl-c1>0</span>:</td>
        </tr>
        <tr>
          <td id="L3592" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3592"></td>
          <td id="LC3592" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>parent</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;-p&#39;</span>, <span class=pl-s1>full_branch</span>]</td>
        </tr>
        <tr>
          <td id="L3593" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3593"></td>
          <td id="LC3593" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3594" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3594"></td>
          <td id="LC3594" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Run &#39;git hash-object $MARKS_FILE&#39; for each marks file, save result</span></td>
        </tr>
        <tr>
          <td id="L3595" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3595"></td>
          <td id="LC3595" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>blob_hashes</span> <span class=pl-c1>=</span> {}</td>
        </tr>
        <tr>
          <td id="L3596" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3596"></td>
          <td id="LC3596" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>marks_basename</span> <span class=pl-c1>in</span> <span class=pl-s1>basenames</span>:</td>
        </tr>
        <tr>
          <td id="L3597" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3597"></td>
          <td id="LC3597" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>marks_file</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(), <span class=pl-s1>marks_basename</span>)</td>
        </tr>
        <tr>
          <td id="L3598" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3598"></td>
          <td id="LC3598" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>isfile</span>(<span class=pl-s1>marks_file</span>): <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3599" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3599"></td>
          <td id="LC3599" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Failed to find %s to save to %s&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3600" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3600"></td>
          <td id="LC3600" class="blob-code blob-code-inner js-file-line">                         <span class=pl-c1>%</span> (<span class=pl-s1>marks_file</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>))</td>
        </tr>
        <tr>
          <td id="L3601" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3601"></td>
          <td id="LC3601" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;hash-object&#39;</span>, <span class=pl-s>&#39;-w&#39;</span>, <span class=pl-s1>marks_file</span>]</td>
        </tr>
        <tr>
          <td id="L3602" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3602"></td>
          <td id="LC3602" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>blob_hashes</span>[<span class=pl-s1>marks_basename</span>] <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L3603" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3603"></td>
          <td id="LC3603" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3604" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3604"></td>
          <td id="LC3604" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Run &#39;git mktree&#39; to create a tree out of it</span></td>
        </tr>
        <tr>
          <td id="L3605" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3605"></td>
          <td id="LC3605" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>([<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;mktree&#39;</span>],</td>
        </tr>
        <tr>
          <td id="L3606" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3606"></td>
          <td id="LC3606" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>stdin</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>)</td>
        </tr>
        <tr>
          <td id="L3607" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3607"></td>
          <td id="LC3607" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>b</span> <span class=pl-c1>in</span> <span class=pl-s1>basenames</span>:</td>
        </tr>
        <tr>
          <td id="L3608" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3608"></td>
          <td id="LC3608" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;100644 blob %s<span class=pl-cce>\t</span>%s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>blob_hashes</span>[<span class=pl-s1>b</span>], <span class=pl-s1>b</span>))</td>
        </tr>
        <tr>
          <td id="L3609" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3609"></td>
          <td id="LC3609" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3610" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3610"></td>
          <td id="LC3610" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span>.<span class=pl-en>wait</span>()</td>
        </tr>
        <tr>
          <td id="L3611" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3611"></td>
          <td id="LC3611" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>tree</span> <span class=pl-c1>=</span> <span class=pl-s1>p</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>read</span>().<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L3612" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3612"></td>
          <td id="LC3612" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3613" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3613"></td>
          <td id="LC3613" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Create the new commit</span></td>
        </tr>
        <tr>
          <td id="L3614" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3614"></td>
          <td id="LC3614" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> ([<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;commit-tree&#39;</span>, <span class=pl-s>&#39;-m&#39;</span>, <span class=pl-s>&#39;New mark files&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3615" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3615"></td>
          <td id="LC3615" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>tree</span>] <span class=pl-c1>+</span> <span class=pl-s1>parent</span>)</td>
        </tr>
        <tr>
          <td id="L3616" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3616"></td>
          <td id="LC3616" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>commit</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-en>check_output</span>(<span class=pl-s1>cmd</span>).<span class=pl-en>strip</span>()</td>
        </tr>
        <tr>
          <td id="L3617" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3617"></td>
          <td id="LC3617" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>([<span class=pl-s>&#39;git&#39;</span>, <span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>working_dir</span>, <span class=pl-s>&#39;update-ref&#39;</span>, <span class=pl-s1>full_branch</span>, <span class=pl-s1>commit</span>])</td>
        </tr>
        <tr>
          <td id="L3618" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3618"></td>
          <td id="LC3618" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3619" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3619"></td>
          <td id="LC3619" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>importer_only</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3620" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3620"></td>
          <td id="LC3620" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_run_sanity_checks</span>()</td>
        </tr>
        <tr>
          <td id="L3621" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3621"></td>
          <td id="LC3621" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_setup_output</span>()</td>
        </tr>
        <tr>
          <td id="L3622" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3622"></td>
          <td id="LC3622" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3623" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3623"></td>
          <td id="LC3623" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>set_output</span>(<span class=pl-s1>self</span>, <span class=pl-s1>outputRepoFilter</span>):</td>
        </tr>
        <tr>
          <td id="L3624" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3624"></td>
          <td id="LC3624" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>outputRepoFilter</span>.<span class=pl-s1>_output</span></td>
        </tr>
        <tr>
          <td id="L3625" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3625"></td>
          <td id="LC3625" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3626" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3626"></td>
          <td id="LC3626" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># set_output implies this RepoFilter is doing exporting, though may not</span></td>
        </tr>
        <tr>
          <td id="L3627" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3627"></td>
          <td id="LC3627" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># be the only one.</span></td>
        </tr>
        <tr>
          <td id="L3628" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3628"></td>
          <td id="LC3628" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_setup_input</span>(<span class=pl-s1>use_done_feature</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>)</td>
        </tr>
        <tr>
          <td id="L3629" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3629"></td>
          <td id="LC3629" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3630" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3630"></td>
          <td id="LC3630" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Set our output management up to pipe to outputRepoFilter&#39;s locations</span></td>
        </tr>
        <tr>
          <td id="L3631" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3631"></td>
          <td id="LC3631" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_managed_output</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3632" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3632"></td>
          <td id="LC3632" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-s1>outputRepoFilter</span>.<span class=pl-s1>_output</span></td>
        </tr>
        <tr>
          <td id="L3633" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3633"></td>
          <td id="LC3633" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span> <span class=pl-c1>=</span> <span class=pl-s1>outputRepoFilter</span>.<span class=pl-s1>_import_pipes</span></td>
        </tr>
        <tr>
          <td id="L3634" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3634"></td>
          <td id="LC3634" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3635" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3635"></td>
          <td id="LC3635" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Handle sanity checks, though currently none needed for export-only cases</span></td>
        </tr>
        <tr>
          <td id="L3636" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3636"></td>
          <td id="LC3636" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_run_sanity_checks</span>()</td>
        </tr>
        <tr>
          <td id="L3637" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3637"></td>
          <td id="LC3637" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3638" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3638"></td>
          <td id="LC3638" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_setup_input</span>(<span class=pl-s1>self</span>, <span class=pl-s1>use_done_feature</span>):</td>
        </tr>
        <tr>
          <td id="L3639" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3639"></td>
          <td id="LC3639" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>stdin</span>:</td>
        </tr>
        <tr>
          <td id="L3640" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3640"></td>
          <td id="LC3640" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-s1>sys</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>detach</span>()</td>
        </tr>
        <tr>
          <td id="L3641" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3641"></td>
          <td id="LC3641" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>sys</span>.<span class=pl-s1>stdin</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span> <span class=pl-c># Make sure no one tries to accidentally use it</span></td>
        </tr>
        <tr>
          <td id="L3642" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3642"></td>
          <td id="LC3642" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3643" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3643"></td>
          <td id="LC3643" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3644" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3644"></td>
          <td id="LC3644" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>skip_blobs</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>_blob_callback</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3645" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3645"></td>
          <td id="LC3645" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_text</span> <span class=pl-c1>is</span> <span class=pl-c1>None</span> <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3646" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3646"></td>
          <td id="LC3646" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>source</span> <span class=pl-c1>==</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span>)</td>
        </tr>
        <tr>
          <td id="L3647" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3647"></td>
          <td id="LC3647" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>extra_flags</span> <span class=pl-c1>=</span> []</td>
        </tr>
        <tr>
          <td id="L3648" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3648"></td>
          <td id="LC3648" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>skip_blobs</span>:</td>
        </tr>
        <tr>
          <td id="L3649" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3649"></td>
          <td id="LC3649" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>extra_flags</span>.<span class=pl-en>append</span>(<span class=pl-s>&#39;--no-data&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3650" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3650"></td>
          <td id="LC3650" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>max_blob_size</span>:</td>
        </tr>
        <tr>
          <td id="L3651" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3651"></td>
          <td id="LC3651" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>self</span>.<span class=pl-s1>_unpacked_size</span>, <span class=pl-s1>packed_size</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>get_blob_sizes</span>()</td>
        </tr>
        <tr>
          <td id="L3652" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3652"></td>
          <td id="LC3652" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>use_done_feature</span>:</td>
        </tr>
        <tr>
          <td id="L3653" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3653"></td>
          <td id="LC3653" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>extra_flags</span>.<span class=pl-en>append</span>(<span class=pl-s>&#39;--use-done-feature&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3654" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3654"></td>
          <td id="LC3654" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>write_marks</span>:</td>
        </tr>
        <tr>
          <td id="L3655" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3655"></td>
          <td id="LC3655" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>extra_flags</span>.<span class=pl-en>append</span>(<span class=pl-s>b&#39;--mark-tags&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3656" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3656"></td>
          <td id="LC3656" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L3657" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3657"></td>
          <td id="LC3657" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>assert</span>(<span class=pl-s1>write_marks</span>)</td>
        </tr>
        <tr>
          <td id="L3658" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3658"></td>
          <td id="LC3658" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>source_marks_file</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_load_marks_file</span>(<span class=pl-s>b&#39;source-marks&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3659" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3659"></td>
          <td id="LC3659" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>extra_flags</span>.<span class=pl-en>extend</span>([<span class=pl-s>b&#39;--export-marks=&#39;</span><span class=pl-c1>+</span><span class=pl-s1>source_marks_file</span>,</td>
        </tr>
        <tr>
          <td id="L3660" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3660"></td>
          <td id="LC3660" class="blob-code blob-code-inner js-file-line">                            <span class=pl-s>b&#39;--import-marks=&#39;</span><span class=pl-c1>+</span><span class=pl-s1>source_marks_file</span>])</td>
        </tr>
        <tr>
          <td id="L3661" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3661"></td>
          <td id="LC3661" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>preserve_commit_encoding</span> <span class=pl-c1>is</span> <span class=pl-c1>not</span> <span class=pl-c1>None</span>: <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3662" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3662"></td>
          <td id="LC3662" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>reencode</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;no&#39;</span> <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>preserve_commit_encoding</span> <span class=pl-k>else</span> <span class=pl-s>&#39;yes&#39;</span></td>
        </tr>
        <tr>
          <td id="L3663" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3663"></td>
          <td id="LC3663" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>extra_flags</span>.<span class=pl-en>append</span>(<span class=pl-s>&#39;--reencode=&#39;</span><span class=pl-c1>+</span><span class=pl-s1>reencode</span>)</td>
        </tr>
        <tr>
          <td id="L3664" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3664"></td>
          <td id="LC3664" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>location</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>source</span>] <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>source</span> <span class=pl-k>else</span> []</td>
        </tr>
        <tr>
          <td id="L3665" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3665"></td>
          <td id="LC3665" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fep_cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>] <span class=pl-c1>+</span> <span class=pl-s1>location</span> <span class=pl-c1>+</span> [<span class=pl-s>&#39;fast-export&#39;</span>, <span class=pl-s>&#39;--show-original-ids&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3666" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3666"></td>
          <td id="LC3666" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>&#39;--signed-tags=strip&#39;</span>, <span class=pl-s>&#39;--tag-of-filtered-object=rewrite&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3667" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3667"></td>
          <td id="LC3667" class="blob-code blob-code-inner js-file-line">                 <span class=pl-s>&#39;--fake-missing-tagger&#39;</span>, <span class=pl-s>&#39;--reference-excluded-parents&#39;</span></td>
        </tr>
        <tr>
          <td id="L3668" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3668"></td>
          <td id="LC3668" class="blob-code blob-code-inner js-file-line">                 ] <span class=pl-c1>+</span> <span class=pl-s1>extra_flags</span> <span class=pl-c1>+</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>refs</span></td>
        </tr>
        <tr>
          <td id="L3669" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3669"></td>
          <td id="LC3669" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_fep</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s1>fep_cmd</span>, <span class=pl-s1>bufsize</span><span class=pl-c1>=</span><span class=pl-c1>-</span><span class=pl-c1>1</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>)</td>
        </tr>
        <tr>
          <td id="L3670" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3670"></td>
          <td id="LC3670" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_fep</span>.<span class=pl-s1>stdout</span></td>
        </tr>
        <tr>
          <td id="L3671" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3671"></td>
          <td id="LC3671" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3672" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3672"></td>
          <td id="LC3672" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(),</td>
        </tr>
        <tr>
          <td id="L3673" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3673"></td>
          <td id="LC3673" class="blob-code blob-code-inner js-file-line">                                     <span class=pl-s>b&#39;fast-export.original&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3674" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3674"></td>
          <td id="LC3674" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>output</span> <span class=pl-c1>=</span> <span class=pl-en>open</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span>, <span class=pl-s>&#39;bw&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3675" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3675"></td>
          <td id="LC3675" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>=</span> <span class=pl-v>InputFileBackup</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_input</span>, <span class=pl-s1>output</span>)</td>
        </tr>
        <tr>
          <td id="L3676" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3676"></td>
          <td id="LC3676" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3677" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3677"></td>
          <td id="LC3677" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>tmp</span> <span class=pl-c1>=</span> [<span class=pl-en>decode</span>(<span class=pl-s1>x</span>) <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>x</span>, <span class=pl-s1>bytes</span>) <span class=pl-k>else</span> <span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>fep_cmd</span>]</td>
        </tr>
        <tr>
          <td id="L3678" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3678"></td>
          <td id="LC3678" class="blob-code blob-code-inner js-file-line">          <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Running: {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s>&#39; &#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>tmp</span>)))</td>
        </tr>
        <tr>
          <td id="L3679" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3679"></td>
          <td id="LC3679" class="blob-code blob-code-inner js-file-line">          <span class=pl-en>print</span>(<span class=pl-s>&quot;  (saving a copy of the output at {})&quot;</span></td>
        </tr>
        <tr>
          <td id="L3680" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3680"></td>
          <td id="LC3680" class="blob-code blob-code-inner js-file-line">                .<span class=pl-en>format</span>(<span class=pl-en>decode</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span>)))</td>
        </tr>
        <tr>
          <td id="L3681" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3681"></td>
          <td id="LC3681" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3682" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3682"></td>
          <td id="LC3682" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_setup_output</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3683" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3683"></td>
          <td id="LC3683" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span>:</td>
        </tr>
        <tr>
          <td id="L3684" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3684"></td>
          <td id="LC3684" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>location</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;-C&#39;</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span>] <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-k>else</span> []</td>
        </tr>
        <tr>
          <td id="L3685" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3685"></td>
          <td id="LC3685" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>fip_cmd</span> <span class=pl-c1>=</span> [<span class=pl-s>&#39;git&#39;</span>] <span class=pl-c1>+</span> <span class=pl-s1>location</span> <span class=pl-c1>+</span> [<span class=pl-s>&#39;-c&#39;</span>, <span class=pl-s>&#39;core.ignorecase=false&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3686" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3686"></td>
          <td id="LC3686" class="blob-code blob-code-inner js-file-line">                                      <span class=pl-s>&#39;fast-import&#39;</span>, <span class=pl-s>&#39;--force&#39;</span>, <span class=pl-s>&#39;--quiet&#39;</span>]</td>
        </tr>
        <tr>
          <td id="L3687" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3687"></td>
          <td id="LC3687" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>date_format_permissive</span>:</td>
        </tr>
        <tr>
          <td id="L3688" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3688"></td>
          <td id="LC3688" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>fip_cmd</span>.<span class=pl-en>append</span>(<span class=pl-s>&#39;--date-format=raw-permissive&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3689" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3689"></td>
          <td id="LC3689" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L3690" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3690"></td>
          <td id="LC3690" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>target_marks_file</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>_load_marks_file</span>(<span class=pl-s>b&#39;target-marks&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3691" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3691"></td>
          <td id="LC3691" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>fip_cmd</span>.<span class=pl-en>extend</span>([<span class=pl-s>b&#39;--export-marks=&#39;</span><span class=pl-c1>+</span><span class=pl-s1>target_marks_file</span>,</td>
        </tr>
        <tr>
          <td id="L3692" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3692"></td>
          <td id="LC3692" class="blob-code blob-code-inner js-file-line">                        <span class=pl-s>b&#39;--import-marks=&#39;</span><span class=pl-c1>+</span><span class=pl-s1>target_marks_file</span>])</td>
        </tr>
        <tr>
          <td id="L3693" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3693"></td>
          <td id="LC3693" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_fip</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s1>fip_cmd</span>, <span class=pl-s1>bufsize</span><span class=pl-c1>=</span><span class=pl-c1>-</span><span class=pl-c1>1</span>,</td>
        </tr>
        <tr>
          <td id="L3694" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3694"></td>
          <td id="LC3694" class="blob-code blob-code-inner js-file-line">                                <span class=pl-s1>stdin</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>)</td>
        </tr>
        <tr>
          <td id="L3695" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3695"></td>
          <td id="LC3695" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_import_pipes</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>_fip</span>.<span class=pl-s1>stdin</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_fip</span>.<span class=pl-s1>stdout</span>)</td>
        </tr>
        <tr>
          <td id="L3696" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3696"></td>
          <td id="LC3696" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3697" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3697"></td>
          <td id="LC3697" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_fe_filt</span> <span class=pl-c1>=</span> <span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(),</td>
        </tr>
        <tr>
          <td id="L3698" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3698"></td>
          <td id="LC3698" class="blob-code blob-code-inner js-file-line">                                   <span class=pl-s>b&#39;fast-export.filtered&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3699" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3699"></td>
          <td id="LC3699" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-en>open</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_filt</span>, <span class=pl-s>&#39;bw&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3700" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3700"></td>
          <td id="LC3700" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3701" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3701"></td>
          <td id="LC3701" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_fip</span>.<span class=pl-s1>stdin</span></td>
        </tr>
        <tr>
          <td id="L3702" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3702"></td>
          <td id="LC3702" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span>:</td>
        </tr>
        <tr>
          <td id="L3703" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3703"></td>
          <td id="LC3703" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_output</span> <span class=pl-c1>=</span> <span class=pl-v>DualFileWriter</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fip</span>.<span class=pl-s1>stdin</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L3704" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3704"></td>
          <td id="LC3704" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>tmp</span> <span class=pl-c1>=</span> [<span class=pl-en>decode</span>(<span class=pl-s1>x</span>) <span class=pl-k>if</span> <span class=pl-en>isinstance</span>(<span class=pl-s1>x</span>, <span class=pl-s1>bytes</span>) <span class=pl-k>else</span> <span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>fip_cmd</span>]</td>
        </tr>
        <tr>
          <td id="L3705" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3705"></td>
          <td id="LC3705" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Running: {}&quot;</span>.<span class=pl-en>format</span>(<span class=pl-s>&#39; &#39;</span>.<span class=pl-en>join</span>(<span class=pl-s1>tmp</span>)))</td>
        </tr>
        <tr>
          <td id="L3706" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3706"></td>
          <td id="LC3706" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;  (using the following file as input: {})&quot;</span></td>
        </tr>
        <tr>
          <td id="L3707" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3707"></td>
          <td id="LC3707" class="blob-code blob-code-inner js-file-line">            .<span class=pl-en>format</span>(<span class=pl-en>decode</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_filt</span>)))</td>
        </tr>
        <tr>
          <td id="L3708" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3708"></td>
          <td id="LC3708" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3709" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3709"></td>
          <td id="LC3709" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_migrate_origin_to_heads</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3710" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3710"></td>
          <td id="LC3710" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>refs_to_migrate</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span></td>
        </tr>
        <tr>
          <td id="L3711" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3711"></td>
          <td id="LC3711" class="blob-code blob-code-inner js-file-line">                          <span class=pl-k>if</span> <span class=pl-s1>x</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;refs/remotes/origin/&#39;</span>))</td>
        </tr>
        <tr>
          <td id="L3712" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3712"></td>
          <td id="LC3712" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>refs_to_migrate</span>:</td>
        </tr>
        <tr>
          <td id="L3713" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3713"></td>
          <td id="LC3713" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3714" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3714"></td>
          <td id="LC3714" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3715" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3715"></td>
          <td id="LC3715" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Migrating refs/remotes/origin/* -&gt; refs/heads/*&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3716" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3716"></td>
          <td id="LC3716" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>target_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3717" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3717"></td>
          <td id="LC3717" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s>&#39;git update-ref --no-deref --stdin&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L3718" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3718"></td>
          <td id="LC3718" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>stdin</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>, <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3719" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3719"></td>
          <td id="LC3719" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>ref</span> <span class=pl-c1>in</span> <span class=pl-s1>refs_to_migrate</span>:</td>
        </tr>
        <tr>
          <td id="L3720" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3720"></td>
          <td id="LC3720" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>ref</span> <span class=pl-c1>==</span> <span class=pl-s>b&#39;refs/remotes/origin/HEAD&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3721" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3721"></td>
          <td id="LC3721" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;delete %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>ref</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]))</td>
        </tr>
        <tr>
          <td id="L3722" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3722"></td>
          <td id="LC3722" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>del</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]</td>
        </tr>
        <tr>
          <td id="L3723" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3723"></td>
          <td id="LC3723" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3724" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3724"></td>
          <td id="LC3724" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>newref</span> <span class=pl-c1>=</span> <span class=pl-s1>ref</span>.<span class=pl-en>replace</span>(<span class=pl-s>b&#39;refs/remotes/origin/&#39;</span>, <span class=pl-s>b&#39;refs/heads/&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3725" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3725"></td>
          <td id="LC3725" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>newref</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>:</td>
        </tr>
        <tr>
          <td id="L3726" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3726"></td>
          <td id="LC3726" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;create %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>newref</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]))</td>
        </tr>
        <tr>
          <td id="L3727" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3727"></td>
          <td id="LC3727" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;delete %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>ref</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]))</td>
        </tr>
        <tr>
          <td id="L3728" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3728"></td>
          <td id="LC3728" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>newref</span>] <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]</td>
        </tr>
        <tr>
          <td id="L3729" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3729"></td>
          <td id="LC3729" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>del</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>[<span class=pl-s1>ref</span>]</td>
        </tr>
        <tr>
          <td id="L3730" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3730"></td>
          <td id="LC3730" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3731" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3731"></td>
          <td id="LC3731" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>p</span>.<span class=pl-en>wait</span>():</td>
        </tr>
        <tr>
          <td id="L3732" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3732"></td>
          <td id="LC3732" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;git update-ref failed; see above&quot;</span>)) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3733" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3733"></td>
          <td id="LC3733" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3734" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3734"></td>
          <td id="LC3734" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Now remove</span></td>
        </tr>
        <tr>
          <td id="L3735" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3735"></td>
          <td id="LC3735" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3736" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3736"></td>
          <td id="LC3736" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Removing &#39;origin&#39; remote (rewritten history will no &quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3737" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3737"></td>
          <td id="LC3737" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;        longer be related; consider re-pushing it elsewhere.&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3738" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3738"></td>
          <td id="LC3738" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>subproc</span>.<span class=pl-en>call</span>(<span class=pl-s>&#39;git remote rm origin&#39;</span>.<span class=pl-en>split</span>(), <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3739" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3739"></td>
          <td id="LC3739" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3740" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3740"></td>
          <td id="LC3740" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_final_commands</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3741" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3741"></td>
          <td id="LC3741" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_finalize_handled</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3742" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3742"></td>
          <td id="LC3742" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_done_callback</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-en>_done_callback</span>()</td>
        </tr>
        <tr>
          <td id="L3743" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3743"></td>
          <td id="LC3743" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3744" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3744"></td>
          <td id="LC3744" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>quiet</span>:</td>
        </tr>
        <tr>
          <td id="L3745" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3745"></td>
          <td id="LC3745" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_progress_writer</span>.<span class=pl-en>finish</span>()</td>
        </tr>
        <tr>
          <td id="L3746" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3746"></td>
          <td id="LC3746" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3747" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3747"></td>
          <td id="LC3747" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_ref_update</span>(<span class=pl-s1>self</span>, <span class=pl-s1>target_working_dir</span>):</td>
        </tr>
        <tr>
          <td id="L3748" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3748"></td>
          <td id="LC3748" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Start the update-ref process</span></td>
        </tr>
        <tr>
          <td id="L3749" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3749"></td>
          <td id="LC3749" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s>&#39;git update-ref --no-deref --stdin&#39;</span>.<span class=pl-en>split</span>(),</td>
        </tr>
        <tr>
          <td id="L3750" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3750"></td>
          <td id="LC3750" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>stdin</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>,</td>
        </tr>
        <tr>
          <td id="L3751" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3751"></td>
          <td id="LC3751" class="blob-code blob-code-inner js-file-line">                      <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3752" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3752"></td>
          <td id="LC3752" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3753" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3753"></td>
          <td id="LC3753" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Remove replace_refs from _orig_refs</span></td>
        </tr>
        <tr>
          <td id="L3754" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3754"></td>
          <td id="LC3754" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>replace_refs</span> <span class=pl-c1>=</span> {<span class=pl-s1>k</span>:<span class=pl-s1>v</span> <span class=pl-k>for</span> <span class=pl-s1>k</span>, <span class=pl-s1>v</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>.<span class=pl-en>items</span>()</td>
        </tr>
        <tr>
          <td id="L3755" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3755"></td>
          <td id="LC3755" class="blob-code blob-code-inner js-file-line">                    <span class=pl-k>if</span> <span class=pl-s1>k</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;refs/replace/&#39;</span>)}</td>
        </tr>
        <tr>
          <td id="L3756" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3756"></td>
          <td id="LC3756" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>reverse_replace_refs</span> <span class=pl-c1>=</span> <span class=pl-s1>collections</span>.<span class=pl-en>defaultdict</span>(<span class=pl-s1>list</span>)</td>
        </tr>
        <tr>
          <td id="L3757" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3757"></td>
          <td id="LC3757" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>for</span> <span class=pl-s1>k</span>,<span class=pl-s1>v</span> <span class=pl-c1>in</span> <span class=pl-s1>replace_refs</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L3758" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3758"></td>
          <td id="LC3758" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>reverse_replace_refs</span>[<span class=pl-s1>v</span>].<span class=pl-en>append</span>(<span class=pl-s1>k</span>)</td>
        </tr>
        <tr>
          <td id="L3759" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3759"></td>
          <td id="LC3759" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>all</span>(<span class=pl-en>map</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>.<span class=pl-s1>pop</span>, <span class=pl-s1>replace_refs</span>))</td>
        </tr>
        <tr>
          <td id="L3760" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3760"></td>
          <td id="LC3760" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3761" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3761"></td>
          <td id="LC3761" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Remove unused refs</span></td>
        </tr>
        <tr>
          <td id="L3762" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3762"></td>
          <td id="LC3762" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>exported_refs</span>, <span class=pl-s1>imported_refs</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>get_exported_and_imported_refs</span>()</td>
        </tr>
        <tr>
          <td id="L3763" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3763"></td>
          <td id="LC3763" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>refs_to_nuke</span> <span class=pl-c1>=</span> <span class=pl-s1>exported_refs</span> <span class=pl-c1>-</span> <span class=pl-s1>imported_refs</span></td>
        </tr>
        <tr>
          <td id="L3764" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3764"></td>
          <td id="LC3764" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>partial</span>:</td>
        </tr>
        <tr>
          <td id="L3765" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3765"></td>
          <td id="LC3765" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>refs_to_nuke</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>()</td>
        </tr>
        <tr>
          <td id="L3766" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3766"></td>
          <td id="LC3766" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>refs_to_nuke</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>:</td>
        </tr>
        <tr>
          <td id="L3767" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3767"></td>
          <td id="LC3767" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;[DEBUG] Deleting the following refs:<span class=pl-cce>\n</span>  &quot;</span><span class=pl-c1>+</span></td>
        </tr>
        <tr>
          <td id="L3768" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3768"></td>
          <td id="LC3768" class="blob-code blob-code-inner js-file-line">            <span class=pl-en>decode</span>(<span class=pl-s>b&quot;<span class=pl-cce>\n</span>  &quot;</span>.<span class=pl-en>join</span>(<span class=pl-s1>refs_to_nuke</span>)))</td>
        </tr>
        <tr>
          <td id="L3769" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3769"></td>
          <td id="LC3769" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;&#39;</span>.<span class=pl-en>join</span>([<span class=pl-s>b&quot;delete %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-s1>x</span></td>
        </tr>
        <tr>
          <td id="L3770" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3770"></td>
          <td id="LC3770" class="blob-code blob-code-inner js-file-line">                           <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>refs_to_nuke</span>]))</td>
        </tr>
        <tr>
          <td id="L3771" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3771"></td>
          <td id="LC3771" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3772" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3772"></td>
          <td id="LC3772" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Delete or update and add replace_refs; note that fast-export automatically</span></td>
        </tr>
        <tr>
          <td id="L3773" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3773"></td>
          <td id="LC3773" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># handles &#39;update-no-add&#39;, we only need to take action for the other four</span></td>
        </tr>
        <tr>
          <td id="L3774" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3774"></td>
          <td id="LC3774" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># choices for replace_refs.</span></td>
        </tr>
        <tr>
          <td id="L3775" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3775"></td>
          <td id="LC3775" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_flush_renames</span>()</td>
        </tr>
        <tr>
          <td id="L3776" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3776"></td>
          <td id="LC3776" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>actual_renames</span> <span class=pl-c1>=</span> {<span class=pl-s1>k</span>:<span class=pl-s1>v</span> <span class=pl-k>for</span> <span class=pl-s1>k</span>,<span class=pl-s1>v</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>.<span class=pl-en>items</span>() <span class=pl-k>if</span> <span class=pl-s1>k</span> <span class=pl-c1>!=</span> <span class=pl-s1>v</span>}</td>
        </tr>
        <tr>
          <td id="L3777" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3777"></td>
          <td id="LC3777" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>in</span> [<span class=pl-s>&#39;delete-no-add&#39;</span>, <span class=pl-s>&#39;delete-and-add&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3778" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3778"></td>
          <td id="LC3778" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Delete old replace refs, if unwanted</span></td>
        </tr>
        <tr>
          <td id="L3779" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3779"></td>
          <td id="LC3779" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>replace_refs_to_nuke</span> <span class=pl-c1>=</span> <span class=pl-en>set</span>(<span class=pl-s1>replace_refs</span>)</td>
        </tr>
        <tr>
          <td id="L3780" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3780"></td>
          <td id="LC3780" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;delete-and-add&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L3781" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3781"></td>
          <td id="LC3781" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># git-update-ref won&#39;t allow us to update a ref twice, so be careful</span></td>
        </tr>
        <tr>
          <td id="L3782" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3782"></td>
          <td id="LC3782" class="blob-code blob-code-inner js-file-line">        <span class=pl-c># to avoid deleting refs we&#39;ll later update</span></td>
        </tr>
        <tr>
          <td id="L3783" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3783"></td>
          <td id="LC3783" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>replace_refs_to_nuke</span> <span class=pl-c1>=</span> <span class=pl-s1>replace_refs_to_nuke</span>.<span class=pl-en>difference</span>(</td>
        </tr>
        <tr>
          <td id="L3784" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3784"></td>
          <td id="LC3784" class="blob-code blob-code-inner js-file-line">                                 [<span class=pl-s>b&#39;refs/replace/&#39;</span><span class=pl-c1>+</span><span class=pl-s1>x</span> <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>actual_renames</span>])</td>
        </tr>
        <tr>
          <td id="L3785" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3785"></td>
          <td id="LC3785" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;&#39;</span>.<span class=pl-en>join</span>([<span class=pl-s>b&quot;delete %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> <span class=pl-s1>x</span></td>
        </tr>
        <tr>
          <td id="L3786" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3786"></td>
          <td id="LC3786" class="blob-code blob-code-inner js-file-line">                             <span class=pl-k>for</span> <span class=pl-s1>x</span> <span class=pl-c1>in</span> <span class=pl-s1>replace_refs_to_nuke</span>]))</td>
        </tr>
        <tr>
          <td id="L3787" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3787"></td>
          <td id="LC3787" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>in</span> [<span class=pl-s>&#39;delete-and-add&#39;</span>, <span class=pl-s>&#39;update-or-add&#39;</span>,</td>
        </tr>
        <tr>
          <td id="L3788" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3788"></td>
          <td id="LC3788" class="blob-code blob-code-inner js-file-line">                                   <span class=pl-s>&#39;update-and-add&#39;</span>]:</td>
        </tr>
        <tr>
          <td id="L3789" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3789"></td>
          <td id="LC3789" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Add new replace refs</span></td>
        </tr>
        <tr>
          <td id="L3790" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3790"></td>
          <td id="LC3790" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>update_only</span> <span class=pl-c1>=</span> (<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>replace_refs</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;update-or-add&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3791" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3791"></td>
          <td id="LC3791" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;&#39;</span>.<span class=pl-en>join</span>([<span class=pl-s>b&quot;update refs/replace/%s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-s1>old</span>, <span class=pl-s1>new</span>)</td>
        </tr>
        <tr>
          <td id="L3792" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3792"></td>
          <td id="LC3792" class="blob-code blob-code-inner js-file-line">                              <span class=pl-k>for</span> <span class=pl-s1>old</span>,<span class=pl-s1>new</span> <span class=pl-c1>in</span> <span class=pl-s1>actual_renames</span>.<span class=pl-en>items</span>()</td>
        </tr>
        <tr>
          <td id="L3793" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3793"></td>
          <td id="LC3793" class="blob-code blob-code-inner js-file-line">                              <span class=pl-k>if</span> <span class=pl-s1>new</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> (<span class=pl-s1>update_only</span> <span class=pl-c1>and</span></td>
        </tr>
        <tr>
          <td id="L3794" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3794"></td>
          <td id="LC3794" class="blob-code blob-code-inner js-file-line">                                              <span class=pl-s1>old</span> <span class=pl-c1>in</span> <span class=pl-s1>reverse_replace_refs</span>)]))</td>
        </tr>
        <tr>
          <td id="L3795" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3795"></td>
          <td id="LC3795" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3796" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3796"></td>
          <td id="LC3796" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Complete the update-ref process</span></td>
        </tr>
        <tr>
          <td id="L3797" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3797"></td>
          <td id="LC3797" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>p</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3798" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3798"></td>
          <td id="LC3798" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>p</span>.<span class=pl-en>wait</span>():</td>
        </tr>
        <tr>
          <td id="L3799" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3799"></td>
          <td id="LC3799" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;git update-ref failed; see above&quot;</span>)) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3800" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3800"></td>
          <td id="LC3800" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3801" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3801"></td>
          <td id="LC3801" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_record_metadata</span>(<span class=pl-s1>self</span>, <span class=pl-s1>metadata_dir</span>, <span class=pl-s1>orig_refs</span>):</td>
        </tr>
        <tr>
          <td id="L3802" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3802"></td>
          <td id="LC3802" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_flush_renames</span>()</td>
        </tr>
        <tr>
          <td id="L3803" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3803"></td>
          <td id="LC3803" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>metadata_dir</span>, <span class=pl-s>b&#39;commit-map&#39;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L3804" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3804"></td>
          <td id="LC3804" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;%-40s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;old&quot;</span>), <span class=pl-en>_</span>(<span class=pl-s>&quot;new&quot;</span>))).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3805" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3805"></td>
          <td id="LC3805" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> (<span class=pl-s1>old</span>,<span class=pl-s1>new</span>) <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L3806" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3806"></td>
          <td id="LC3806" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;%s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>old</span>, <span class=pl-s1>new</span> <span class=pl-k>if</span> <span class=pl-s1>new</span> <span class=pl-c1>!=</span> <span class=pl-c1>None</span> <span class=pl-k>else</span> <span class=pl-s1>deleted_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3807" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3807"></td>
          <td id="LC3807" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>msg</span>)</td>
        </tr>
        <tr>
          <td id="L3808" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3808"></td>
          <td id="LC3808" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3809" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3809"></td>
          <td id="LC3809" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>exported_refs</span>, <span class=pl-s1>imported_refs</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-en>get_exported_and_imported_refs</span>()</td>
        </tr>
        <tr>
          <td id="L3810" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3810"></td>
          <td id="LC3810" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3811" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3811"></td>
          <td id="LC3811" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>batch_check_process</span> <span class=pl-c1>=</span> <span class=pl-c1>None</span></td>
        </tr>
        <tr>
          <td id="L3812" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3812"></td>
          <td id="LC3812" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>batch_check_output_re</span> <span class=pl-c1>=</span> <span class=pl-s1>re</span>.<span class=pl-en>compile</span>(<span class=pl-s>b&#39;^([0-9a-f]{40}) ([a-z]+) ([0-9]+)$&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3813" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3813"></td>
          <td id="LC3813" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>metadata_dir</span>, <span class=pl-s>b&#39;ref-map&#39;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L3814" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3814"></td>
          <td id="LC3814" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>f</span>.<span class=pl-en>write</span>((<span class=pl-s>&quot;%-40s %-40s %s<span class=pl-cce>\n</span>&quot;</span> <span class=pl-c1>%</span> (<span class=pl-en>_</span>(<span class=pl-s>&quot;old&quot;</span>), <span class=pl-en>_</span>(<span class=pl-s>&quot;new&quot;</span>), <span class=pl-en>_</span>(<span class=pl-s>&quot;ref&quot;</span>))).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3815" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3815"></td>
          <td id="LC3815" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>for</span> <span class=pl-s1>refname</span>, <span class=pl-s1>old_hash</span> <span class=pl-c1>in</span> <span class=pl-s1>orig_refs</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L3816" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3816"></td>
          <td id="LC3816" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>refname</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>exported_refs</span>:</td>
        </tr>
        <tr>
          <td id="L3817" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3817"></td>
          <td id="LC3817" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>continue</span></td>
        </tr>
        <tr>
          <td id="L3818" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3818"></td>
          <td id="LC3818" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>if</span> <span class=pl-s1>refname</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>imported_refs</span>:</td>
        </tr>
        <tr>
          <td id="L3819" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3819"></td>
          <td id="LC3819" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>deleted_hash</span></td>
        </tr>
        <tr>
          <td id="L3820" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3820"></td>
          <td id="LC3820" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>elif</span> <span class=pl-s1>old_hash</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>:</td>
        </tr>
        <tr>
          <td id="L3821" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3821"></td>
          <td id="LC3821" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commit_renames</span>[<span class=pl-s1>old_hash</span>]</td>
        </tr>
        <tr>
          <td id="L3822" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3822"></td>
          <td id="LC3822" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>new_hash</span> <span class=pl-k>if</span> <span class=pl-s1>new_hash</span> <span class=pl-c1>!=</span> <span class=pl-c1>None</span> <span class=pl-k>else</span> <span class=pl-s1>deleted_hash</span></td>
        </tr>
        <tr>
          <td id="L3823" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3823"></td>
          <td id="LC3823" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>else</span>: <span class=pl-c># Must be either an annotated tag, or a ref whose tip was pruned</span></td>
        </tr>
        <tr>
          <td id="L3824" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3824"></td>
          <td id="LC3824" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>batch_check_process</span>:</td>
        </tr>
        <tr>
          <td id="L3825" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3825"></td>
          <td id="LC3825" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>cmd</span> <span class=pl-c1>=</span> <span class=pl-s>&#39;git cat-file --batch-check&#39;</span>.<span class=pl-en>split</span>()</td>
        </tr>
        <tr>
          <td id="L3826" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3826"></td>
          <td id="LC3826" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>target_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3827" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3827"></td>
          <td id="LC3827" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>batch_check_process</span> <span class=pl-c1>=</span> <span class=pl-s1>subproc</span>.<span class=pl-v>Popen</span>(<span class=pl-s1>cmd</span>,</td>
        </tr>
        <tr>
          <td id="L3828" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3828"></td>
          <td id="LC3828" class="blob-code blob-code-inner js-file-line">                                                <span class=pl-s1>stdin</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>,</td>
        </tr>
        <tr>
          <td id="L3829" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3829"></td>
          <td id="LC3829" class="blob-code blob-code-inner js-file-line">                                                <span class=pl-s1>stdout</span><span class=pl-c1>=</span><span class=pl-s1>subprocess</span>.<span class=pl-v>PIPE</span>,</td>
        </tr>
        <tr>
          <td id="L3830" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3830"></td>
          <td id="LC3830" class="blob-code blob-code-inner js-file-line">                                                <span class=pl-s1>cwd</span><span class=pl-c1>=</span><span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3831" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3831"></td>
          <td id="LC3831" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>batch_check_process</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>write</span>(<span class=pl-s1>refname</span><span class=pl-c1>+</span><span class=pl-s>b&quot;<span class=pl-cce>\n</span>&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3832" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3832"></td>
          <td id="LC3832" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>batch_check_process</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>flush</span>()</td>
        </tr>
        <tr>
          <td id="L3833" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3833"></td>
          <td id="LC3833" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>line</span> <span class=pl-c1>=</span> <span class=pl-s1>batch_check_process</span>.<span class=pl-s1>stdout</span>.<span class=pl-en>readline</span>()</td>
        </tr>
        <tr>
          <td id="L3834" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3834"></td>
          <td id="LC3834" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>m</span> <span class=pl-c1>=</span> <span class=pl-s1>batch_check_output_re</span>.<span class=pl-en>match</span>(<span class=pl-s1>line</span>)</td>
        </tr>
        <tr>
          <td id="L3835" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3835"></td>
          <td id="LC3835" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>m</span> <span class=pl-c1>and</span> <span class=pl-s1>m</span>.<span class=pl-en>group</span>(<span class=pl-c1>2</span>) <span class=pl-c1>in</span> (<span class=pl-s>b&#39;tag&#39;</span>, <span class=pl-s>b&#39;commit&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L3836" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3836"></td>
          <td id="LC3836" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>m</span>.<span class=pl-en>group</span>(<span class=pl-c1>1</span>)</td>
        </tr>
        <tr>
          <td id="L3837" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3837"></td>
          <td id="LC3837" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>elif</span> <span class=pl-s1>line</span>.<span class=pl-en>endswith</span>(<span class=pl-s>b&#39; missing<span class=pl-cce>\n</span>&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L3838" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3838"></td>
          <td id="LC3838" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>new_hash</span> <span class=pl-c1>=</span> <span class=pl-s1>deleted_hash</span></td>
        </tr>
        <tr>
          <td id="L3839" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3839"></td>
          <td id="LC3839" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3840" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3840"></td>
          <td id="LC3840" class="blob-code blob-code-inner js-file-line">            <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Failed to find new id for %(refname)s &quot;</span></td>
        </tr>
        <tr>
          <td id="L3841" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3841"></td>
          <td id="LC3841" class="blob-code blob-code-inner js-file-line">                               <span class=pl-s>&quot;(old id was %(old_hash)s)&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3842" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3842"></td>
          <td id="LC3842" class="blob-code blob-code-inner js-file-line">                             <span class=pl-c1>%</span> ({<span class=pl-s>&#39;refname&#39;</span>: <span class=pl-s1>refname</span>, <span class=pl-s>&#39;old_hash&#39;</span>: <span class=pl-s1>old_hash</span>})</td>
        </tr>
        <tr>
          <td id="L3843" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3843"></td>
          <td id="LC3843" class="blob-code blob-code-inner js-file-line">                             ) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3844" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3844"></td>
          <td id="LC3844" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;%s %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>old_hash</span>, <span class=pl-s1>new_hash</span>, <span class=pl-s1>refname</span>))</td>
        </tr>
        <tr>
          <td id="L3845" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3845"></td>
          <td id="LC3845" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>source</span> <span class=pl-c1>or</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span>:</td>
        </tr>
        <tr>
          <td id="L3846" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3846"></td>
          <td id="LC3846" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>new_refs</span> <span class=pl-c1>=</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>get_refs</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3847" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3847"></td>
          <td id="LC3847" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>ref</span>, <span class=pl-s1>new_hash</span> <span class=pl-c1>in</span> <span class=pl-s1>new_refs</span>.<span class=pl-en>items</span>():</td>
        </tr>
        <tr>
          <td id="L3848" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3848"></td>
          <td id="LC3848" class="blob-code blob-code-inner js-file-line">          <span class=pl-k>if</span> <span class=pl-s1>ref</span> <span class=pl-c1>not</span> <span class=pl-c1>in</span> <span class=pl-s1>orig_refs</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>ref</span>.<span class=pl-en>startswith</span>(<span class=pl-s>b&#39;refs/replace/&#39;</span>):</td>
        </tr>
        <tr>
          <td id="L3849" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3849"></td>
          <td id="LC3849" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>old_hash</span> <span class=pl-c1>=</span> <span class=pl-s>b&#39;0&#39;</span><span class=pl-c1>*</span><span class=pl-en>len</span>(<span class=pl-s1>new_hash</span>)</td>
        </tr>
        <tr>
          <td id="L3850" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3850"></td>
          <td id="LC3850" class="blob-code blob-code-inner js-file-line">            <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;%s %s %s<span class=pl-cce>\n</span>&#39;</span> <span class=pl-c1>%</span> (<span class=pl-s1>old_hash</span>, <span class=pl-s1>new_hash</span>, <span class=pl-s1>ref</span>))</td>
        </tr>
        <tr>
          <td id="L3851" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3851"></td>
          <td id="LC3851" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>batch_check_process</span>:</td>
        </tr>
        <tr>
          <td id="L3852" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3852"></td>
          <td id="LC3852" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>batch_check_process</span>.<span class=pl-s1>stdin</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3853" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3853"></td>
          <td id="LC3853" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>batch_check_process</span>.<span class=pl-en>wait</span>()</td>
        </tr>
        <tr>
          <td id="L3854" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3854"></td>
          <td id="LC3854" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3855" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3855"></td>
          <td id="LC3855" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>metadata_dir</span>, <span class=pl-s>b&#39;suboptimal-issues&#39;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L3856" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3856"></td>
          <td id="LC3856" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>issues_found</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span></td>
        </tr>
        <tr>
          <td id="L3857" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3857"></td>
          <td id="LC3857" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commits_no_longer_merges</span>:</td>
        </tr>
        <tr>
          <td id="L3858" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3858"></td>
          <td id="LC3858" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>issues_found</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3859" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3859"></td>
          <td id="LC3859" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3860" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3860"></td>
          <td id="LC3860" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3861" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3861"></td>
          <td id="LC3861" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          The following commits used to be merge commits but due to filtering</span></td>
        </tr>
        <tr>
          <td id="L3862" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3862"></td>
          <td id="LC3862" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          are now regular commits; they likely have suboptimal commit messages</span></td>
        </tr>
        <tr>
          <td id="L3863" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3863"></td>
          <td id="LC3863" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          (e.g. &quot;Merge branch next into master&quot;).  Original commit hash on the</span></td>
        </tr>
        <tr>
          <td id="L3864" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3864"></td>
          <td id="LC3864" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          left, commit hash after filtering/rewriting on the right:</span></td>
        </tr>
        <tr>
          <td id="L3865" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3865"></td>
          <td id="LC3865" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          &#39;&#39;&#39;</span>)[<span class=pl-c1>1</span>:]).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3866" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3866"></td>
          <td id="LC3866" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>oldhash</span>, <span class=pl-s1>newhash</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commits_no_longer_merges</span>:</td>
        </tr>
        <tr>
          <td id="L3867" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3867"></td>
          <td id="LC3867" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>&#39;  {} {}<span class=pl-cce>\n</span>&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>oldhash</span>, <span class=pl-s1>newhash</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3868" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3868"></td>
          <td id="LC3868" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3869" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3869"></td>
          <td id="LC3869" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3870" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3870"></td>
          <td id="LC3870" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commits_referenced_but_removed</span>:</td>
        </tr>
        <tr>
          <td id="L3871" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3871"></td>
          <td id="LC3871" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>issues_found</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span></td>
        </tr>
        <tr>
          <td id="L3872" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3872"></td>
          <td id="LC3872" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s1>textwrap</span>.<span class=pl-en>dedent</span>(<span class=pl-en>_</span>(<span class=pl-s>&#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3873" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3873"></td>
          <td id="LC3873" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          The following commits were filtered out, but referenced in another</span></td>
        </tr>
        <tr>
          <td id="L3874" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3874"></td>
          <td id="LC3874" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          commit message.  The reference to the now-nonexistent commit hash</span></td>
        </tr>
        <tr>
          <td id="L3875" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3875"></td>
          <td id="LC3875" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          (or a substring thereof) was left as-is in any commit messages:</span></td>
        </tr>
        <tr>
          <td id="L3876" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3876"></td>
          <td id="LC3876" class="blob-code blob-code-inner js-file-line"><span class=pl-s>          &#39;&#39;&#39;</span>)[<span class=pl-c1>1</span>:]).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3877" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3877"></td>
          <td id="LC3877" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>for</span> <span class=pl-s1>bad_commit_reference</span> <span class=pl-c1>in</span> <span class=pl-s1>self</span>.<span class=pl-s1>_commits_referenced_but_removed</span>:</td>
        </tr>
        <tr>
          <td id="L3878" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3878"></td>
          <td id="LC3878" class="blob-code blob-code-inner js-file-line">          <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>&#39;  {}<span class=pl-cce>\n</span>&#39;</span>.<span class=pl-en>format</span>(<span class=pl-s1>bad_commit_reference</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3879" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3879"></td>
          <td id="LC3879" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-s>b&#39;<span class=pl-cce>\n</span>&#39;</span>)</td>
        </tr>
        <tr>
          <td id="L3880" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3880"></td>
          <td id="LC3880" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3881" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3881"></td>
          <td id="LC3881" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>issues_found</span>:</td>
        </tr>
        <tr>
          <td id="L3882" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3882"></td>
          <td id="LC3882" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;No filtering problems encountered.<span class=pl-cce>\n</span>&quot;</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3883" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3883"></td>
          <td id="LC3883" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3884" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3884"></td>
          <td id="LC3884" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>with</span> <span class=pl-en>open</span>(<span class=pl-s1>os</span>.<span class=pl-s1>path</span>.<span class=pl-en>join</span>(<span class=pl-s1>metadata_dir</span>, <span class=pl-s>b&#39;already_ran&#39;</span>), <span class=pl-s>&#39;bw&#39;</span>) <span class=pl-k>as</span> <span class=pl-s1>f</span>:</td>
        </tr>
        <tr>
          <td id="L3885" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3885"></td>
          <td id="LC3885" class="blob-code blob-code-inner js-file-line">       <span class=pl-s1>f</span>.<span class=pl-en>write</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;This file exists to allow you to filter again without --force.<span class=pl-cce>\n</span>&quot;</span>).<span class=pl-en>encode</span>())</td>
        </tr>
        <tr>
          <td id="L3886" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3886"></td>
          <td id="LC3886" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3887" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3887"></td>
          <td id="LC3887" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>finish</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3888" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3888"></td>
          <td id="LC3888" class="blob-code blob-code-inner js-file-line">    <span class=pl-s>&#39;&#39;&#39; Alternative to run() when there is no input of our own to parse,</span></td>
        </tr>
        <tr>
          <td id="L3889" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3889"></td>
          <td id="LC3889" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        meaning that run only really needs to close the handle to fast-import</span></td>
        </tr>
        <tr>
          <td id="L3890" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3890"></td>
          <td id="LC3890" class="blob-code blob-code-inner js-file-line"><span class=pl-s>        and let it finish, thus making a call to &quot;run&quot; feel like a misnomer. &#39;&#39;&#39;</span></td>
        </tr>
        <tr>
          <td id="L3891" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3891"></td>
          <td id="LC3891" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span></td>
        </tr>
        <tr>
          <td id="L3892" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3892"></td>
          <td id="LC3892" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>self</span>.<span class=pl-s1>_managed_output</span></td>
        </tr>
        <tr>
          <td id="L3893" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3893"></td>
          <td id="LC3893" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>run</span>()</td>
        </tr>
        <tr>
          <td id="L3894" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3894"></td>
          <td id="LC3894" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3895" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3895"></td>
          <td id="LC3895" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>insert</span>(<span class=pl-s1>self</span>, <span class=pl-s1>obj</span>, <span class=pl-s1>direct_insertion</span> <span class=pl-c1>=</span> <span class=pl-c1>False</span>):</td>
        </tr>
        <tr>
          <td id="L3896" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3896"></td>
          <td id="LC3896" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>direct_insertion</span>:</td>
        </tr>
        <tr>
          <td id="L3897" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3897"></td>
          <td id="LC3897" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>==</span> <span class=pl-v>Blob</span>:</td>
        </tr>
        <tr>
          <td id="L3898" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3898"></td>
          <td id="LC3898" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_tweak_blob</span>(<span class=pl-s1>obj</span>)</td>
        </tr>
        <tr>
          <td id="L3899" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3899"></td>
          <td id="LC3899" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>==</span> <span class=pl-v>Commit</span>:</td>
        </tr>
        <tr>
          <td id="L3900" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3900"></td>
          <td id="LC3900" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>aux_info</span> <span class=pl-c1>=</span> {<span class=pl-s>&#39;orig_parents&#39;</span>: <span class=pl-s1>obj</span>.<span class=pl-s1>parents</span>,</td>
        </tr>
        <tr>
          <td id="L3901" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3901"></td>
          <td id="LC3901" class="blob-code blob-code-inner js-file-line">                    <span class=pl-s>&#39;had_file_changes&#39;</span>: <span class=pl-en>bool</span>(<span class=pl-s1>obj</span>.<span class=pl-s1>file_changes</span>)}</td>
        </tr>
        <tr>
          <td id="L3902" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3902"></td>
          <td id="LC3902" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_tweak_commit</span>(<span class=pl-s1>obj</span>, <span class=pl-s1>aux_info</span>)</td>
        </tr>
        <tr>
          <td id="L3903" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3903"></td>
          <td id="LC3903" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>==</span> <span class=pl-v>Reset</span>:</td>
        </tr>
        <tr>
          <td id="L3904" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3904"></td>
          <td id="LC3904" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_tweak_reset</span>(<span class=pl-s1>obj</span>)</td>
        </tr>
        <tr>
          <td id="L3905" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3905"></td>
          <td id="LC3905" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>elif</span> <span class=pl-en>type</span>(<span class=pl-s1>obj</span>) <span class=pl-c1>==</span> <span class=pl-v>Tag</span>:</td>
        </tr>
        <tr>
          <td id="L3906" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3906"></td>
          <td id="LC3906" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_tweak_tag</span>(<span class=pl-s1>obj</span>)</td>
        </tr>
        <tr>
          <td id="L3907" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3907"></td>
          <td id="LC3907" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-en>_insert_into_stream</span>(<span class=pl-s1>obj</span>)</td>
        </tr>
        <tr>
          <td id="L3908" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3908"></td>
          <td id="LC3908" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3909" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3909"></td>
          <td id="LC3909" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>_insert_into_stream</span>(<span class=pl-s1>self</span>, <span class=pl-s1>obj</span>):</td>
        </tr>
        <tr>
          <td id="L3910" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3910"></td>
          <td id="LC3910" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>obj</span>.<span class=pl-s1>dumped</span>:</td>
        </tr>
        <tr>
          <td id="L3911" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3911"></td>
          <td id="LC3911" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span>:</td>
        </tr>
        <tr>
          <td id="L3912" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3912"></td>
          <td id="LC3912" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span>.<span class=pl-en>insert</span>(<span class=pl-s1>obj</span>)</td>
        </tr>
        <tr>
          <td id="L3913" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3913"></td>
          <td id="LC3913" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3914" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3914"></td>
          <td id="LC3914" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>obj</span>.<span class=pl-en>dump</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L3915" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3915"></td>
          <td id="LC3915" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3916" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3916"></td>
          <td id="LC3916" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>get_exported_and_imported_refs</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3917" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3917"></td>
          <td id="LC3917" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>return</span> <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span>.<span class=pl-en>get_exported_and_imported_refs</span>()</td>
        </tr>
        <tr>
          <td id="L3918" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3918"></td>
          <td id="LC3918" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3919" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3919"></td>
          <td id="LC3919" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>def</span> <span class=pl-en>run</span>(<span class=pl-s1>self</span>):</td>
        </tr>
        <tr>
          <td id="L3920" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3920"></td>
          <td id="LC3920" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>start</span> <span class=pl-c1>=</span> <span class=pl-s1>time</span>.<span class=pl-en>time</span>()</td>
        </tr>
        <tr>
          <td id="L3921" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3921"></td>
          <td id="LC3921" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>:</td>
        </tr>
        <tr>
          <td id="L3922" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3922"></td>
          <td id="LC3922" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_run_sanity_checks</span>()</td>
        </tr>
        <tr>
          <td id="L3923" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3923"></td>
          <td id="LC3923" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span> <span class=pl-c1>and</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>partial</span>:</td>
        </tr>
        <tr>
          <td id="L3924" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3924"></td>
          <td id="LC3924" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_migrate_origin_to_heads</span>()</td>
        </tr>
        <tr>
          <td id="L3925" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3925"></td>
          <td id="LC3925" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_setup_input</span>(<span class=pl-s1>use_done_feature</span> <span class=pl-c1>=</span> <span class=pl-c1>True</span>)</td>
        </tr>
        <tr>
          <td id="L3926" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3926"></td>
          <td id="LC3926" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_setup_output</span>()</td>
        </tr>
        <tr>
          <td id="L3927" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3927"></td>
          <td id="LC3927" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>assert</span> <span class=pl-s1>self</span>.<span class=pl-s1>_sanity_checks_handled</span></td>
        </tr>
        <tr>
          <td id="L3928" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3928"></td>
          <td id="LC3928" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3929" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3929"></td>
          <td id="LC3929" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span>:</td>
        </tr>
        <tr>
          <td id="L3930" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3930"></td>
          <td id="LC3930" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Create and run the filter</span></td>
        </tr>
        <tr>
          <td id="L3931" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3931"></td>
          <td id="LC3931" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_repo_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>source</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3932" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3932"></td>
          <td id="LC3932" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span> <span class=pl-c1>=</span> <span class=pl-v>FastExportParser</span>(<span class=pl-s1>blob_callback</span>   <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tweak_blob</span>,</td>
        </tr>
        <tr>
          <td id="L3933" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3933"></td>
          <td id="LC3933" class="blob-code blob-code-inner js-file-line">                                      <span class=pl-s1>commit_callback</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tweak_commit</span>,</td>
        </tr>
        <tr>
          <td id="L3934" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3934"></td>
          <td id="LC3934" class="blob-code blob-code-inner js-file-line">                                      <span class=pl-s1>tag_callback</span>    <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tweak_tag</span>,</td>
        </tr>
        <tr>
          <td id="L3935" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3935"></td>
          <td id="LC3935" class="blob-code blob-code-inner js-file-line">                                      <span class=pl-s1>reset_callback</span>  <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_tweak_reset</span>,</td>
        </tr>
        <tr>
          <td id="L3936" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3936"></td>
          <td id="LC3936" class="blob-code blob-code-inner js-file-line">                                      <span class=pl-s1>done_callback</span>   <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_final_commands</span>)</td>
        </tr>
        <tr>
          <td id="L3937" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3937"></td>
          <td id="LC3937" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_parser</span>.<span class=pl-en>run</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_input</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>)</td>
        </tr>
        <tr>
          <td id="L3938" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3938"></td>
          <td id="LC3938" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_finalize_handled</span>:</td>
        </tr>
        <tr>
          <td id="L3939" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3939"></td>
          <td id="LC3939" class="blob-code blob-code-inner js-file-line">        <span class=pl-s1>self</span>.<span class=pl-en>_final_commands</span>()</td>
        </tr>
        <tr>
          <td id="L3940" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3940"></td>
          <td id="LC3940" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3941" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3941"></td>
          <td id="LC3941" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Make sure fast-export completed successfully</span></td>
        </tr>
        <tr>
          <td id="L3942" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3942"></td>
          <td id="LC3942" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>stdin</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_fep</span>.<span class=pl-en>wait</span>():</td>
        </tr>
        <tr>
          <td id="L3943" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3943"></td>
          <td id="LC3943" class="blob-code blob-code-inner js-file-line">        <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: fast-export failed; see above.&quot;</span>)) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3944" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3944"></td>
          <td id="LC3944" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-s1>_input</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3945" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3945"></td>
          <td id="LC3945" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3946" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3946"></td>
          <td id="LC3946" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># If we&#39;re not the manager of self._output, we should avoid post-run cleanup</span></td>
        </tr>
        <tr>
          <td id="L3947" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3947"></td>
          <td id="LC3947" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_managed_output</span>:</td>
        </tr>
        <tr>
          <td id="L3948" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3948"></td>
          <td id="LC3948" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3949" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3949"></td>
          <td id="LC3949" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3950" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3950"></td>
          <td id="LC3950" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Close the output and ensure fast-import successfully completes</span></td>
        </tr>
        <tr>
          <td id="L3951" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3951"></td>
          <td id="LC3951" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>self</span>.<span class=pl-s1>_output</span>.<span class=pl-en>close</span>()</td>
        </tr>
        <tr>
          <td id="L3952" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3952"></td>
          <td id="LC3952" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-c1>not</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span> <span class=pl-c1>and</span> <span class=pl-s1>self</span>.<span class=pl-s1>_fip</span>.<span class=pl-en>wait</span>():</td>
        </tr>
        <tr>
          <td id="L3953" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3953"></td>
          <td id="LC3953" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>raise</span> <span class=pl-v>SystemExit</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Error: fast-import failed; see above.&quot;</span>)) <span class=pl-c># pragma: no cover</span></td>
        </tr>
        <tr>
          <td id="L3954" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3954"></td>
          <td id="LC3954" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3955" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3955"></td>
          <td id="LC3955" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># With fast-export and fast-import complete, update state if requested</span></td>
        </tr>
        <tr>
          <td id="L3956" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3956"></td>
          <td id="LC3956" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>state_branch</span>:</td>
        </tr>
        <tr>
          <td id="L3957" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3957"></td>
          <td id="LC3957" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_save_marks_files</span>()</td>
        </tr>
        <tr>
          <td id="L3958" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3958"></td>
          <td id="LC3958" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3959" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3959"></td>
          <td id="LC3959" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Notify user how long it took, before doing a gc and such</span></td>
        </tr>
        <tr>
          <td id="L3960" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3960"></td>
          <td id="LC3960" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;New history written in {:.2f} seconds...&quot;</span></td>
        </tr>
        <tr>
          <td id="L3961" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3961"></td>
          <td id="LC3961" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>repack</span>:</td>
        </tr>
        <tr>
          <td id="L3962" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3962"></td>
          <td id="LC3962" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>msg</span> <span class=pl-c1>=</span> <span class=pl-s>&quot;New history written in {:.2f} seconds; now repacking/cleaning...&quot;</span></td>
        </tr>
        <tr>
          <td id="L3963" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3963"></td>
          <td id="LC3963" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>print</span>(<span class=pl-s1>msg</span>.<span class=pl-en>format</span>(<span class=pl-s1>time</span>.<span class=pl-en>time</span>()<span class=pl-c1>-</span><span class=pl-s1>start</span>))</td>
        </tr>
        <tr>
          <td id="L3964" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3964"></td>
          <td id="LC3964" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3965" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3965"></td>
          <td id="LC3965" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Exit early, if requested</span></td>
        </tr>
        <tr>
          <td id="L3966" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3966"></td>
          <td id="LC3966" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>dry_run</span>:</td>
        </tr>
        <tr>
          <td id="L3967" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3967"></td>
          <td id="LC3967" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;NOTE: Not running fast-import or cleaning up; --dry-run passed.&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L3968" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3968"></td>
          <td id="LC3968" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span>:</td>
        </tr>
        <tr>
          <td id="L3969" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3969"></td>
          <td id="LC3969" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>print</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;      Requested filtering can be seen by comparing:&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L3970" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3970"></td>
          <td id="LC3970" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>print</span>(<span class=pl-s>&quot;        &quot;</span> <span class=pl-c1>+</span> <span class=pl-en>decode</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_orig</span>))</td>
        </tr>
        <tr>
          <td id="L3971" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3971"></td>
          <td id="LC3971" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L3972" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3972"></td>
          <td id="LC3972" class="blob-code blob-code-inner js-file-line">        <span class=pl-en>print</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;      Requested filtering can be seen at:&quot;</span>))</td>
        </tr>
        <tr>
          <td id="L3973" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3973"></td>
          <td id="LC3973" class="blob-code blob-code-inner js-file-line">      <span class=pl-en>print</span>(<span class=pl-s>&quot;        &quot;</span> <span class=pl-c1>+</span> <span class=pl-en>decode</span>(<span class=pl-s1>self</span>.<span class=pl-s1>_fe_filt</span>))</td>
        </tr>
        <tr>
          <td id="L3974" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3974"></td>
          <td id="LC3974" class="blob-code blob-code-inner js-file-line">      <span class=pl-k>return</span></td>
        </tr>
        <tr>
          <td id="L3975" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3975"></td>
          <td id="LC3975" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3976" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3976"></td>
          <td id="LC3976" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>target_working_dir</span> <span class=pl-c1>=</span> <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>target</span> <span class=pl-c1>or</span> <span class=pl-s>b&#39;.&#39;</span></td>
        </tr>
        <tr>
          <td id="L3977" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3977"></td>
          <td id="LC3977" class="blob-code blob-code-inner js-file-line">    <span class=pl-k>if</span> <span class=pl-s1>self</span>.<span class=pl-s1>_input</span>:</td>
        </tr>
        <tr>
          <td id="L3978" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3978"></td>
          <td id="LC3978" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_ref_update</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3979" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3979"></td>
          <td id="LC3979" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3980" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3980"></td>
          <td id="LC3980" class="blob-code blob-code-inner js-file-line">      <span class=pl-c># Write out data about run</span></td>
        </tr>
        <tr>
          <td id="L3981" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3981"></td>
          <td id="LC3981" class="blob-code blob-code-inner js-file-line">      <span class=pl-s1>self</span>.<span class=pl-en>_record_metadata</span>(<span class=pl-s1>self</span>.<span class=pl-en>results_tmp_dir</span>(), <span class=pl-s1>self</span>.<span class=pl-s1>_orig_refs</span>)</td>
        </tr>
        <tr>
          <td id="L3982" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3982"></td>
          <td id="LC3982" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3983" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3983"></td>
          <td id="LC3983" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Final cleanup:</span></td>
        </tr>
        <tr>
          <td id="L3984" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3984"></td>
          <td id="LC3984" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   If we need a repack, then nuke the reflogs and repack.</span></td>
        </tr>
        <tr>
          <td id="L3985" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3985"></td>
          <td id="LC3985" class="blob-code blob-code-inner js-file-line">    <span class=pl-c>#   If we need a reset, do a reset --hard</span></td>
        </tr>
        <tr>
          <td id="L3986" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3986"></td>
          <td id="LC3986" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>reset</span> <span class=pl-c1>=</span> <span class=pl-c1>not</span> <span class=pl-v>GitUtils</span>.<span class=pl-en>is_repository_bare</span>(<span class=pl-s1>target_working_dir</span>)</td>
        </tr>
        <tr>
          <td id="L3987" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3987"></td>
          <td id="LC3987" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>RepoFilter</span>.<span class=pl-en>cleanup</span>(<span class=pl-s1>target_working_dir</span>, <span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>repack</span>, <span class=pl-s1>reset</span>,</td>
        </tr>
        <tr>
          <td id="L3988" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3988"></td>
          <td id="LC3988" class="blob-code blob-code-inner js-file-line">                       <span class=pl-s1>run_quietly</span><span class=pl-c1>=</span><span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>quiet</span>,</td>
        </tr>
        <tr>
          <td id="L3989" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3989"></td>
          <td id="LC3989" class="blob-code blob-code-inner js-file-line">                       <span class=pl-s1>show_debuginfo</span><span class=pl-c1>=</span><span class=pl-s1>self</span>.<span class=pl-s1>_args</span>.<span class=pl-s1>debug</span>)</td>
        </tr>
        <tr>
          <td id="L3990" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3990"></td>
          <td id="LC3990" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3991" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3991"></td>
          <td id="LC3991" class="blob-code blob-code-inner js-file-line">    <span class=pl-c># Let user know how long it took</span></td>
        </tr>
        <tr>
          <td id="L3992" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3992"></td>
          <td id="LC3992" class="blob-code blob-code-inner js-file-line">    <span class=pl-en>print</span>(<span class=pl-en>_</span>(<span class=pl-s>&quot;Completely finished after {:.2f} seconds.&quot;</span>)</td>
        </tr>
        <tr>
          <td id="L3993" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3993"></td>
          <td id="LC3993" class="blob-code blob-code-inner js-file-line">          .<span class=pl-en>format</span>(<span class=pl-s1>time</span>.<span class=pl-en>time</span>()<span class=pl-c1>-</span><span class=pl-s1>start</span>))</td>
        </tr>
        <tr>
          <td id="L3994" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3994"></td>
          <td id="LC3994" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L3995" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3995"></td>
          <td id="LC3995" class="blob-code blob-code-inner js-file-line"><span class=pl-k>def</span> <span class=pl-en>main</span>():</td>
        </tr>
        <tr>
          <td id="L3996" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3996"></td>
          <td id="LC3996" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>setup_gettext</span>()</td>
        </tr>
        <tr>
          <td id="L3997" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3997"></td>
          <td id="LC3997" class="blob-code blob-code-inner js-file-line">  <span class=pl-s1>args</span> <span class=pl-c1>=</span> <span class=pl-v>FilteringOptions</span>.<span class=pl-en>parse_args</span>(<span class=pl-s1>sys</span>.<span class=pl-s1>argv</span>[<span class=pl-c1>1</span>:])</td>
        </tr>
        <tr>
          <td id="L3998" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3998"></td>
          <td id="LC3998" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>if</span> <span class=pl-s1>args</span>.<span class=pl-s1>analyze</span>:</td>
        </tr>
        <tr>
          <td id="L3999" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="3999"></td>
          <td id="LC3999" class="blob-code blob-code-inner js-file-line">    <span class=pl-v>RepoAnalyze</span>.<span class=pl-en>run</span>(<span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L4000" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4000"></td>
          <td id="LC4000" class="blob-code blob-code-inner js-file-line">  <span class=pl-k>else</span>:</td>
        </tr>
        <tr>
          <td id="L4001" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4001"></td>
          <td id="LC4001" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>filter</span> <span class=pl-c1>=</span> <span class=pl-v>RepoFilter</span>(<span class=pl-s1>args</span>)</td>
        </tr>
        <tr>
          <td id="L4002" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4002"></td>
          <td id="LC4002" class="blob-code blob-code-inner js-file-line">    <span class=pl-s1>filter</span>.<span class=pl-en>run</span>()</td>
        </tr>
        <tr>
          <td id="L4003" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4003"></td>
          <td id="LC4003" class="blob-code blob-code-inner js-file-line">
</td>
        </tr>
        <tr>
          <td id="L4004" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4004"></td>
          <td id="LC4004" class="blob-code blob-code-inner js-file-line"><span class=pl-k>if</span> <span class=pl-s1>__name__</span> <span class=pl-c1>==</span> <span class=pl-s>&#39;__main__&#39;</span>:</td>
        </tr>
        <tr>
          <td id="L4005" class="blob-num js-line-number js-code-nav-line-number js-blob-rnum" data-line-number="4005"></td>
          <td id="LC4005" class="blob-code blob-code-inner js-file-line">  <span class=pl-en>main</span>()</td>
        </tr>
  </table>
</div>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 color-bg-default border color-border-default rounded-2" aria-label="Inline file action toolbar">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
    </summary>
    <details-menu>

      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se ml-2 mt-2"
      style="width:220px"
      >
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;" aria-label="Copy lines">
            Copy lines
          </clipboard-copy>
        </li>
        <li>
          <clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;" aria-label="Copy permalink">
            Copy permalink
          </clipboard-copy>
        </li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/newren/git-filter-repo/blame/9da70bddfa491bc50fefc3c35fd5cec773182816/git-filter-repo">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/newren/git-filter-repo/issues/new">Reference in new issue</a></li>
          <li><a class="dropdown-item" id="js-new-discussion" role="menuitem" href="/newren/git-filter-repo/discussions/new">Reference in new discussion</a></li>
      </ul>
    </details-menu>
  </details>

    </div>

    </div>


  

  <details class="details-reset details-overlay details-overlay-dark" id="jumpto-line-details-dialog">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" data-turbo="false" action="" accept-charset="UTF-8" method="get">
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
          <button data-close-dialog="" type="submit" data-view-component="true" class="btn">    Go
</button>
</form>    </details-dialog>
  </details>

    <div class="Popover anim-scale-in js-tagsearch-popover"
     hidden
     data-tagsearch-url="/newren/git-filter-repo/find-definition"
     data-tagsearch-ref="main"
     data-tagsearch-code-nav-context="BLOB_VIEW">
  <div class="Popover-message Popover-message--large Popover-message--top-left TagsearchPopover mt-1 mb-4 mx-auto Box color-shadow-large">
    <div class="TagsearchPopover-content js-tagsearch-popover-content overflow-auto" style="will-change:transform;">
    </div>
  </div>
</div>



</div>

  </div>


  </div>

  </turbo-frame>


    </main>
  </div>

  </div>

          <footer class="footer width-full container-xl p-responsive">
  <h2 class='sr-only'>Footer</h2>

  <div class="position-relative d-flex flex-items-center pb-2 f6 color-fg-muted border-top color-border-muted flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap mt-6 pt-6">
    <div class="list-style-none d-flex flex-wrap col-0 col-lg-2 flex-justify-start flex-lg-justify-between mb-2 mb-lg-0">
      <div class="mt-2 mt-lg-0 d-flex flex-items-center">
        <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-2" href="https://github.com">
          <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>        <span>
        &copy; 2022 GitHub, Inc.
        </span>
      </div>
    </div>

    <nav aria-label='footer' class="col-12 col-lg-8">
      <h3 class='sr-only' id='sr-footer-heading'>Footer navigation</h3>
      <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0" aria-labelledby='sr-footer-heading'>
          <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-terms-of-service" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}">Terms</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-privacy-statement" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}">Privacy</a></li>
          <li class="mr-3 mr-lg-0"><a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security">Security</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://www.githubstatus.com/" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}">Status</a></li>
          <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to help, text:Docs" href="https://docs.github.com">Docs</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://support.github.com?tags=dotcom-footer" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}">Contact GitHub</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Pricing&quot;,&quot;label&quot;:&quot;text:Pricing&quot;}">Pricing</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to api&quot;,&quot;label&quot;:&quot;text:api&quot;}">API</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://services.github.com" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to training&quot;,&quot;label&quot;:&quot;text:training&quot;}">Training</a></li>
          <li class="mr-3 mr-lg-0"><a href="https://github.blog" data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to blog&quot;,&quot;label&quot;:&quot;text:blog&quot;}">Blog</a></li>
          <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
      </ul>
    </nav>
  </div>

  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 color-fg-muted"></span>
  </div>
</footer>




  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden
    >
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>


    <style>
      .user-mention[href$="/minolta"] {
        color: var(--color-user-mention-fg);
        background-color: var(--color-user-mention-bg);
        border-radius: 2px;
        margin-left: -2px;
        margin-right: -2px;
        padding: 0 2px;
      }
    </style>


      </div>

      <div id="js-global-screen-reader-notice" class="sr-only" aria-live="polite" ></div>
  </body>
</html>

